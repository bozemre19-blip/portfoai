(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(o){if(o.ep)return;o.ep=!0;const d=n(o);fetch(o.href,d)}})();var _6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ou={exports:{}},Di={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function l2(){if(Zp)return Di;Zp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,d){var u=null;if(d!==void 0&&(u=""+d),o.key!==void 0&&(u=""+o.key),"key"in o){d={};for(var m in o)m!=="key"&&(d[m]=o[m])}else d=o;return o=d.ref,{$$typeof:a,type:i,key:u,ref:o!==void 0?o:null,props:d}}return Di.Fragment=e,Di.jsx=n,Di.jsxs=n,Di}var Wp;function o2(){return Wp||(Wp=1,Ou.exports=l2()),Ou.exports}var r=o2(),Ru={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function c2(){if(Xp)return _e;Xp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function A(O,J,ce){this.props=O,this.context=J,this.refs=E,this.updater=ce||S}A.prototype.isReactComponent={},A.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},A.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function D(){}D.prototype=A.prototype;function _(O,J,ce){this.props=O,this.context=J,this.refs=E,this.updater=ce||S}var C=_.prototype=new D;C.constructor=_,T(C,A.prototype),C.isPureReactComponent=!0;var H=Array.isArray;function V(){}var $={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function q(O,J,ce){var de=ce.ref;return{$$typeof:a,type:O,key:J,ref:de!==void 0?de:null,props:ce}}function ae(O,J){return q(O.type,J,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function P(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return J[ce]})}var R=/\/+/g;function ee(O,J){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):J.toString(36)}function F(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(V,V):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function z(O,J,ce,de,pe){var ke=typeof O;(ke==="undefined"||ke==="boolean")&&(O=null);var ie=!1;if(O===null)ie=!0;else switch(ke){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(O.$$typeof){case a:case e:ie=!0;break;case y:return ie=O._init,z(ie(O._payload),J,ce,de,pe)}}if(ie)return pe=pe(O),ie=de===""?"."+ee(O,0):de,H(pe)?(ce="",ie!=null&&(ce=ie.replace(R,"$&/")+"/"),z(pe,J,ce,"",function(Ne){return Ne})):pe!=null&&(M(pe)&&(pe=ae(pe,ce+(pe.key==null||O&&O.key===pe.key?"":(""+pe.key).replace(R,"$&/")+"/")+ie)),J.push(pe)),1;ie=0;var oe=de===""?".":de+":";if(H(O))for(var ue=0;ue<O.length;ue++)de=O[ue],ke=oe+ee(de,ue),ie+=z(de,J,ce,ke,pe);else if(ue=j(O),typeof ue=="function")for(O=ue.call(O),ue=0;!(de=O.next()).done;)de=de.value,ke=oe+ee(de,ue++),ie+=z(de,J,ce,ke,pe);else if(ke==="object"){if(typeof O.then=="function")return z(F(O),J,ce,de,pe);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ie}function L(O,J,ce){if(O==null)return O;var de=[],pe=0;return z(O,de,"","",function(ke){return J.call(ce,ke,pe++)}),de}function I(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var K=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},te={map:L,forEach:function(O,J,ce){L(O,function(){J.apply(this,arguments)},ce)},count:function(O){var J=0;return L(O,function(){J++}),J},toArray:function(O){return L(O,function(J){return J})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _e.Activity=v,_e.Children=te,_e.Component=A,_e.Fragment=n,_e.Profiler=o,_e.PureComponent=_,_e.StrictMode=i,_e.Suspense=f,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,_e.__COMPILER_RUNTIME={__proto__:null,c:function(O){return $.H.useMemoCache(O)}},_e.cache=function(O){return function(){return O.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(O,J,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var de=T({},O.props),pe=O.key;if(J!=null)for(ke in J.key!==void 0&&(pe=""+J.key),J)!B.call(J,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&J.ref===void 0||(de[ke]=J[ke]);var ke=arguments.length-2;if(ke===1)de.children=ce;else if(1<ke){for(var ie=Array(ke),oe=0;oe<ke;oe++)ie[oe]=arguments[oe+2];de.children=ie}return q(O.type,pe,de)},_e.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:d,_context:O},O},_e.createElement=function(O,J,ce){var de,pe={},ke=null;if(J!=null)for(de in J.key!==void 0&&(ke=""+J.key),J)B.call(J,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(pe[de]=J[de]);var ie=arguments.length-2;if(ie===1)pe.children=ce;else if(1<ie){for(var oe=Array(ie),ue=0;ue<ie;ue++)oe[ue]=arguments[ue+2];pe.children=oe}if(O&&O.defaultProps)for(de in ie=O.defaultProps,ie)pe[de]===void 0&&(pe[de]=ie[de]);return q(O,ke,pe)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(O){return{$$typeof:m,render:O}},_e.isValidElement=M,_e.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:I}},_e.memo=function(O,J){return{$$typeof:p,type:O,compare:J===void 0?null:J}},_e.startTransition=function(O){var J=$.T,ce={};$.T=ce;try{var de=O(),pe=$.S;pe!==null&&pe(ce,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(V,K)}catch(ke){K(ke)}finally{J!==null&&ce.types!==null&&(J.types=ce.types),$.T=J}},_e.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},_e.use=function(O){return $.H.use(O)},_e.useActionState=function(O,J,ce){return $.H.useActionState(O,J,ce)},_e.useCallback=function(O,J){return $.H.useCallback(O,J)},_e.useContext=function(O){return $.H.useContext(O)},_e.useDebugValue=function(){},_e.useDeferredValue=function(O,J){return $.H.useDeferredValue(O,J)},_e.useEffect=function(O,J){return $.H.useEffect(O,J)},_e.useEffectEvent=function(O){return $.H.useEffectEvent(O)},_e.useId=function(){return $.H.useId()},_e.useImperativeHandle=function(O,J,ce){return $.H.useImperativeHandle(O,J,ce)},_e.useInsertionEffect=function(O,J){return $.H.useInsertionEffect(O,J)},_e.useLayoutEffect=function(O,J){return $.H.useLayoutEffect(O,J)},_e.useMemo=function(O,J){return $.H.useMemo(O,J)},_e.useOptimistic=function(O,J){return $.H.useOptimistic(O,J)},_e.useReducer=function(O,J,ce){return $.H.useReducer(O,J,ce)},_e.useRef=function(O){return $.H.useRef(O)},_e.useState=function(O){return $.H.useState(O)},_e.useSyncExternalStore=function(O,J,ce){return $.H.useSyncExternalStore(O,J,ce)},_e.useTransition=function(){return $.H.useTransition()},_e.version="19.2.3",_e}var Qp;function lc(){return Qp||(Qp=1,Ru.exports=c2()),Ru.exports}var b=lc();const pb=gb(b);var Mu={exports:{}},zi={},Lu={exports:{}},Uu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function d2(){return Jp||(Jp=1,(function(a){function e(z,L){var I=z.length;z.push(L);e:for(;0<I;){var K=I-1>>>1,te=z[K];if(0<o(te,L))z[K]=L,z[I]=te,I=K;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var L=z[0],I=z.pop();if(I!==L){z[0]=I;e:for(var K=0,te=z.length,O=te>>>1;K<O;){var J=2*(K+1)-1,ce=z[J],de=J+1,pe=z[de];if(0>o(ce,I))de<te&&0>o(pe,ce)?(z[K]=pe,z[de]=I,K=de):(z[K]=ce,z[J]=I,K=J);else if(de<te&&0>o(pe,I))z[K]=pe,z[de]=I,K=de;else break e}}return L}function o(z,L){var I=z.sortIndex-L.sortIndex;return I!==0?I:z.id-L.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var u=Date,m=u.now();a.unstable_now=function(){return u.now()-m}}var f=[],p=[],y=1,v=null,w=3,j=!1,S=!1,T=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function C(z){for(var L=n(p);L!==null;){if(L.callback===null)i(p);else if(L.startTime<=z)i(p),L.sortIndex=L.expirationTime,e(f,L);else break;L=n(p)}}function H(z){if(T=!1,C(z),!S)if(n(f)!==null)S=!0,V||(V=!0,P());else{var L=n(p);L!==null&&F(H,L.startTime-z)}}var V=!1,$=-1,B=5,q=-1;function ae(){return E?!0:!(a.unstable_now()-q<B)}function M(){if(E=!1,V){var z=a.unstable_now();q=z;var L=!0;try{e:{S=!1,T&&(T=!1,D($),$=-1),j=!0;var I=w;try{t:{for(C(z),v=n(f);v!==null&&!(v.expirationTime>z&&ae());){var K=v.callback;if(typeof K=="function"){v.callback=null,w=v.priorityLevel;var te=K(v.expirationTime<=z);if(z=a.unstable_now(),typeof te=="function"){v.callback=te,C(z),L=!0;break t}v===n(f)&&i(f),C(z)}else i(f);v=n(f)}if(v!==null)L=!0;else{var O=n(p);O!==null&&F(H,O.startTime-z),L=!1}}break e}finally{v=null,w=I,j=!1}L=void 0}}finally{L?P():V=!1}}}var P;if(typeof _=="function")P=function(){_(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=M,P=function(){ee.postMessage(null)}}else P=function(){A(M,0)};function F(z,L){$=A(function(){z(a.unstable_now())},L)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(z){z.callback=null},a.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<z?Math.floor(1e3/z):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(z){switch(w){case 1:case 2:case 3:var L=3;break;default:L=w}var I=w;w=L;try{return z()}finally{w=I}},a.unstable_requestPaint=function(){E=!0},a.unstable_runWithPriority=function(z,L){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var I=w;w=z;try{return L()}finally{w=I}},a.unstable_scheduleCallback=function(z,L,I){var K=a.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?K+I:K):I=K,z){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=I+te,z={id:y++,callback:L,priorityLevel:z,startTime:I,expirationTime:te,sortIndex:-1},I>K?(z.sortIndex=I,e(p,z),n(f)===null&&z===n(p)&&(T?(D($),$=-1):T=!0,F(H,I-K))):(z.sortIndex=te,e(f,z),S||j||(S=!0,V||(V=!0,P()))),z},a.unstable_shouldYield=ae,a.unstable_wrapCallback=function(z){var L=w;return function(){var I=w;w=L;try{return z.apply(this,arguments)}finally{w=I}}}})(Uu)),Uu}var ey;function u2(){return ey||(ey=1,Lu.exports=d2()),Lu.exports}var Bu={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function h2(){if(ty)return zt;ty=1;var a=lc();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(f,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:f,containerInfo:p,implementation:y}}var u=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,zt.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return d(f,p,null,y)},zt.flushSync=function(f){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=p,i.p=y,i.d.f()}},zt.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},zt.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},zt.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,v=m(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:j}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},zt.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},zt.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=m(y,p.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},zt.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=m(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},zt.requestFormReset=function(f){i.d.r(f)},zt.unstable_batchedUpdates=function(f,p){return f(p)},zt.useFormState=function(f,p,y){return u.H.useFormState(f,p,y)},zt.useFormStatus=function(){return u.H.useHostTransitionStatus()},zt.version="19.2.3",zt}var ay;function m2(){if(ay)return Bu.exports;ay=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Bu.exports=h2(),Bu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function f2(){if(sy)return zi;sy=1;var a=u2(),e=lc(),n=m2();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var s=t,l=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(l=s.return),t=s.return;while(t)}return s.tag===3?l:null}function u(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(d(t)!==t)throw Error(i(188))}function p(t){var s=t.alternate;if(!s){if(s=d(t),s===null)throw Error(i(188));return s!==t?null:t}for(var l=t,c=s;;){var h=l.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){l=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===l)return f(h),t;if(g===c)return f(h),s;g=g.sibling}throw Error(i(188))}if(l.return!==c.return)l=h,c=g;else{for(var k=!1,N=h.child;N;){if(N===l){k=!0,l=h,c=g;break}if(N===c){k=!0,c=h,l=g;break}N=N.sibling}if(!k){for(N=g.child;N;){if(N===l){k=!0,l=g,c=h;break}if(N===c){k=!0,c=g,l=h;break}N=N.sibling}if(!k)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?t:s}function y(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=y(t),s!==null)return s;t=t.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case H:return"Suspense";case V:return"SuspenseList";case q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case _:return t.displayName||"Context";case D:return(t._context.displayName||"Context")+".Consumer";case C:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return s=t.displayName||null,s!==null?s:ee(t.type)||"Memo";case B:s=t._payload,t=t._init;try{return ee(t(s))}catch{}}return null}var F=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},K=[],te=-1;function O(t){return{current:t}}function J(t){0>te||(t.current=K[te],K[te]=null,te--)}function ce(t,s){te++,K[te]=t.current,t.current=s}var de=O(null),pe=O(null),ke=O(null),ie=O(null);function oe(t,s){switch(ce(ke,s),ce(pe,t),ce(de,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?xp(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=xp(s),t=bp(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(de),ce(de,t)}function ue(){J(de),J(pe),J(ke)}function Ne(t){t.memoizedState!==null&&ce(ie,t);var s=de.current,l=bp(s,t.type);s!==l&&(ce(pe,t),ce(de,l))}function he(t){pe.current===t&&(J(de),J(pe)),ie.current===t&&(J(ie),Ci._currentValue=I)}var Ee,xe;function Ae(t){if(Ee===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ee=s&&s[1]||"",xe=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+t+xe}var ht=!1;function Rt(t,s){if(!t||ht)return"";ht=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(se){var Q=se}Reflect.construct(t,[],le)}else{try{le.call()}catch(se){Q=se}t.call(le.prototype)}}else{try{throw Error()}catch(se){Q=se}(le=t())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(se){if(se&&Q&&typeof se.stack=="string")return[se.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),k=g[0],N=g[1];if(k&&N){var U=k.split(`
`),X=N.split(`
`);for(h=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;if(c===U.length||h===X.length)for(c=U.length-1,h=X.length-1;1<=c&&0<=h&&U[c]!==X[h];)h--;for(;1<=c&&0<=h;c--,h--)if(U[c]!==X[h]){if(c!==1||h!==1)do if(c--,h--,0>h||U[c]!==X[h]){var ne=`
`+U[c].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=c&&0<=h);break}}}finally{ht=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Ae(l):""}function $s(t,s){switch(t.tag){case 26:case 27:case 5:return Ae(t.type);case 16:return Ae("Lazy");case 13:return t.child!==s&&s!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return Rt(t.type,!1);case 11:return Rt(t.type.render,!1);case 1:return Rt(t.type,!0);case 31:return Ae("Activity");default:return""}}function Vs(t){try{var s="",l=null;do s+=$s(t,l),l=t,t=t.return;while(t);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Hs=Object.prototype.hasOwnProperty,Aa=a.unstable_scheduleCallback,rs=a.unstable_cancelCallback,fl=a.unstable_shouldYield,qs=a.unstable_requestPaint,mt=a.unstable_now,Is=a.unstable_getCurrentPriorityLevel,me=a.unstable_ImmediatePriority,ft=a.unstable_UserBlockingPriority,Gt=a.unstable_NormalPriority,is=a.unstable_LowPriority,gl=a.unstable_IdlePriority,vc=a.log,Br=a.unstable_setDisableYieldValue,Pr=null,Ft=null;function ls(t){if(typeof vc=="function"&&Br(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Pr,t)}catch{}}var Yt=Math.clz32?Math.clz32:Yw,Gw=Math.log,Fw=Math.LN2;function Yw(t){return t>>>=0,t===0?32:31-(Gw(t)/Fw|0)|0}var pl=256,yl=262144,xl=4194304;function Gs(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bl(t,s,l){var c=t.pendingLanes;if(c===0)return 0;var h=0,g=t.suspendedLanes,k=t.pingedLanes;t=t.warmLanes;var N=c&134217727;return N!==0?(c=N&~g,c!==0?h=Gs(c):(k&=N,k!==0?h=Gs(k):l||(l=N&~t,l!==0&&(h=Gs(l))))):(N=c&~g,N!==0?h=Gs(N):k!==0?h=Gs(k):l||(l=c&~t,l!==0&&(h=Gs(l)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:h}function $r(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Kw(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qm(){var t=xl;return xl<<=1,(xl&62914560)===0&&(xl=4194304),t}function wc(t){for(var s=[],l=0;31>l;l++)s.push(t);return s}function Vr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zw(t,s,l,c,h,g){var k=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var N=t.entanglements,U=t.expirationTimes,X=t.hiddenUpdates;for(l=k&~l;0<l;){var ne=31-Yt(l),le=1<<ne;N[ne]=0,U[ne]=-1;var Q=X[ne];if(Q!==null)for(X[ne]=null,ne=0;ne<Q.length;ne++){var se=Q[ne];se!==null&&(se.lane&=-536870913)}l&=~le}c!==0&&Jm(t,c,0),g!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=g&~(k&~s))}function Jm(t,s,l){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-Yt(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|l&261930}function ef(t,s){var l=t.entangledLanes|=s;for(t=t.entanglements;l;){var c=31-Yt(l),h=1<<c;h&s|t[c]&s&&(t[c]|=s),l&=~h}}function tf(t,s){var l=s&-s;return l=(l&42)!==0?1:kc(l),(l&(t.suspendedLanes|s))!==0?0:l}function kc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function jc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function af(){var t=L.p;return t!==0?t:(t=window.event,t===void 0?32:Hp(t.type))}function sf(t,s){var l=L.p;try{return L.p=t,s()}finally{L.p=l}}var os=Math.random().toString(36).slice(2),jt="__reactFiber$"+os,Bt="__reactProps$"+os,Nn="__reactContainer$"+os,Sc="__reactEvents$"+os,Ww="__reactListeners$"+os,Xw="__reactHandles$"+os,nf="__reactResources$"+os,Hr="__reactMarker$"+os;function Nc(t){delete t[jt],delete t[Bt],delete t[Sc],delete t[Ww],delete t[Xw]}function _n(t){var s=t[jt];if(s)return s;for(var l=t.parentNode;l;){if(s=l[Nn]||l[jt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(t=_p(t);t!==null;){if(l=t[jt])return l;t=_p(t)}return s}t=l,l=t.parentNode}return null}function Cn(t){if(t=t[jt]||t[Nn]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function qr(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Tn(t){var s=t[nf];return s||(s=t[nf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(t){t[Hr]=!0}var rf=new Set,lf={};function Fs(t,s){An(t,s),An(t+"Capture",s)}function An(t,s){for(lf[t]=s,t=0;t<s.length;t++)rf.add(s[t])}var Qw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),of={},cf={};function Jw(t){return Hs.call(cf,t)?!0:Hs.call(of,t)?!1:Qw.test(t)?cf[t]=!0:(of[t]=!0,!1)}function vl(t,s,l){if(Jw(s))if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+l)}}function wl(t,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+l)}}function Ua(t,s,l,c){if(c===null)t.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(s,l,""+c)}}function la(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function df(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function e1(t,s,l){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,g=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(k){l=""+k,g.call(this,k)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(k){l=""+k},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function _c(t){if(!t._valueTracker){var s=df(t)?"checked":"value";t._valueTracker=e1(t,s,""+t[s])}}function uf(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return t&&(c=df(t)?t.checked?"true":"false":t.value),t=c,t!==l?(s.setValue(t),!0):!1}function kl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var t1=/[\n"\\]/g;function oa(t){return t.replace(t1,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Cc(t,s,l,c,h,g,k,N){t.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.type=k:t.removeAttribute("type"),s!=null?k==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+la(s)):t.value!==""+la(s)&&(t.value=""+la(s)):k!=="submit"&&k!=="reset"||t.removeAttribute("value"),s!=null?Tc(t,k,la(s)):l!=null?Tc(t,k,la(l)):c!=null&&t.removeAttribute("value"),h==null&&g!=null&&(t.defaultChecked=!!g),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+la(N):t.removeAttribute("name")}function hf(t,s,l,c,h,g,k,N){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){_c(t);return}l=l!=null?""+la(l):"",s=s!=null?""+la(s):l,N||s===t.value||(t.value=s),t.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=N?t.checked:!!c,t.defaultChecked=!!c,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(t.name=k),_c(t)}function Tc(t,s,l){s==="number"&&kl(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function En(t,s,l,c){if(t=t.options,s){s={};for(var h=0;h<l.length;h++)s["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=s.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&c&&(t[l].defaultSelected=!0)}else{for(l=""+la(l),s=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function mf(t,s,l){if(s!=null&&(s=""+la(s),s!==t.value&&(t.value=s),l==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=l!=null?""+la(l):""}function ff(t,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(F(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=la(s),t.defaultValue=l,c=t.textContent,c===l&&c!==""&&c!==null&&(t.value=c),_c(t)}function Dn(t,s){if(s){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=s;return}}t.textContent=s}var a1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gf(t,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,l):typeof l!="number"||l===0||a1.has(s)?s==="float"?t.cssFloat=l:t[s]=(""+l).trim():t[s]=l+"px"}function pf(t,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&l[h]!==c&&gf(t,h,c)}else for(var g in s)s.hasOwnProperty(g)&&gf(t,g,s[g])}function Ac(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jl(t){return n1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ba(){}var Ec=null;function Dc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zn=null,On=null;function yf(t){var s=Cn(t);if(s&&(t=s.stateNode)){var l=t[Bt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Cc(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+oa(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==t&&c.form===t.form){var h=c[Bt]||null;if(!h)throw Error(i(90));Cc(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===t.form&&uf(c)}break e;case"textarea":mf(t,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&En(t,!!l.multiple,s,!1)}}}var zc=!1;function xf(t,s,l){if(zc)return t(s,l);zc=!0;try{var c=t(s);return c}finally{if(zc=!1,(zn!==null||On!==null)&&(uo(),zn&&(s=zn,t=On,On=zn=null,yf(s),t)))for(s=0;s<t.length;s++)yf(t[s])}}function Ir(t,s){var l=t.stateNode;if(l===null)return null;var c=l[Bt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=!1;if(Pa)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{Oc=!1}var cs=null,Rc=null,Sl=null;function bf(){if(Sl)return Sl;var t,s=Rc,l=s.length,c,h="value"in cs?cs.value:cs.textContent,g=h.length;for(t=0;t<l&&s[t]===h[t];t++);var k=l-t;for(c=1;c<=k&&s[l-c]===h[g-c];c++);return Sl=h.slice(t,1<c?1-c:void 0)}function Nl(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function _l(){return!0}function vf(){return!1}function Pt(t){function s(l,c,h,g,k){this._reactName=l,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=k,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(l=t[N],this[N]=l?l(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?_l:vf,this.isPropagationStopped=vf,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),s}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=Pt(Ys),Fr=v({},Ys,{view:0,detail:0}),r1=Pt(Fr),Mc,Lc,Yr,Tl=v({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yr&&(Yr&&t.type==="mousemove"?(Mc=t.screenX-Yr.screenX,Lc=t.screenY-Yr.screenY):Lc=Mc=0,Yr=t),Mc)},movementY:function(t){return"movementY"in t?t.movementY:Lc}}),wf=Pt(Tl),i1=v({},Tl,{dataTransfer:0}),l1=Pt(i1),o1=v({},Fr,{relatedTarget:0}),Uc=Pt(o1),c1=v({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),d1=Pt(c1),u1=v({},Ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),h1=Pt(u1),m1=v({},Ys,{data:0}),kf=Pt(m1),f1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y1(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=p1[t])?!!s[t]:!1}function Bc(){return y1}var x1=v({},Fr,{key:function(t){if(t.key){var s=f1[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?g1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(t){return t.type==="keypress"?Nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),b1=Pt(x1),v1=v({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jf=Pt(v1),w1=v({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),k1=Pt(w1),j1=v({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),S1=Pt(j1),N1=v({},Tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_1=Pt(N1),C1=v({},Ys,{newState:0,oldState:0}),T1=Pt(C1),A1=[9,13,27,32],Pc=Pa&&"CompositionEvent"in window,Kr=null;Pa&&"documentMode"in document&&(Kr=document.documentMode);var E1=Pa&&"TextEvent"in window&&!Kr,Sf=Pa&&(!Pc||Kr&&8<Kr&&11>=Kr),Nf=" ",_f=!1;function Cf(t,s){switch(t){case"keyup":return A1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rn=!1;function D1(t,s){switch(t){case"compositionend":return Tf(s);case"keypress":return s.which!==32?null:(_f=!0,Nf);case"textInput":return t=s.data,t===Nf&&_f?null:t;default:return null}}function z1(t,s){if(Rn)return t==="compositionend"||!Pc&&Cf(t,s)?(t=bf(),Sl=Rc=cs=null,Rn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Sf&&s.locale!=="ko"?null:s.data;default:return null}}var O1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Af(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!O1[t.type]:s==="textarea"}function Ef(t,s,l,c){zn?On?On.push(c):On=[c]:zn=c,s=xo(s,"onChange"),0<s.length&&(l=new Cl("onChange","change",null,l,c),t.push({event:l,listeners:s}))}var Zr=null,Wr=null;function R1(t){hp(t,0)}function Al(t){var s=qr(t);if(uf(s))return t}function Df(t,s){if(t==="change")return s}var zf=!1;if(Pa){var $c;if(Pa){var Vc="oninput"in document;if(!Vc){var Of=document.createElement("div");Of.setAttribute("oninput","return;"),Vc=typeof Of.oninput=="function"}$c=Vc}else $c=!1;zf=$c&&(!document.documentMode||9<document.documentMode)}function Rf(){Zr&&(Zr.detachEvent("onpropertychange",Mf),Wr=Zr=null)}function Mf(t){if(t.propertyName==="value"&&Al(Wr)){var s=[];Ef(s,Wr,t,Dc(t)),xf(R1,s)}}function M1(t,s,l){t==="focusin"?(Rf(),Zr=s,Wr=l,Zr.attachEvent("onpropertychange",Mf)):t==="focusout"&&Rf()}function L1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Al(Wr)}function U1(t,s){if(t==="click")return Al(s)}function B1(t,s){if(t==="input"||t==="change")return Al(s)}function P1(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Kt=typeof Object.is=="function"?Object.is:P1;function Xr(t,s){if(Kt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var l=Object.keys(t),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var h=l[c];if(!Hs.call(s,h)||!Kt(t[h],s[h]))return!1}return!0}function Lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Uf(t,s){var l=Lf(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=s&&c>=s)return{node:l,offset:s-t};t=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lf(l)}}function Bf(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Bf(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Pf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=kl(t.document);s instanceof t.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)t=s.contentWindow;else break;s=kl(t.document)}return s}function Hc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var $1=Pa&&"documentMode"in document&&11>=document.documentMode,Mn=null,qc=null,Qr=null,Ic=!1;function $f(t,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ic||Mn==null||Mn!==kl(c)||(c=Mn,"selectionStart"in c&&Hc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Qr&&Xr(Qr,c)||(Qr=c,c=xo(qc,"onSelect"),0<c.length&&(s=new Cl("onSelect","select",null,s,l),t.push({event:s,listeners:c}),s.target=Mn)))}function Ks(t,s){var l={};return l[t.toLowerCase()]=s.toLowerCase(),l["Webkit"+t]="webkit"+s,l["Moz"+t]="moz"+s,l}var Ln={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Gc={},Vf={};Pa&&(Vf=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function Zs(t){if(Gc[t])return Gc[t];if(!Ln[t])return t;var s=Ln[t],l;for(l in s)if(s.hasOwnProperty(l)&&l in Vf)return Gc[t]=s[l];return t}var Hf=Zs("animationend"),qf=Zs("animationiteration"),If=Zs("animationstart"),V1=Zs("transitionrun"),H1=Zs("transitionstart"),q1=Zs("transitioncancel"),Gf=Zs("transitionend"),Ff=new Map,Fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fc.push("scrollEnd");function wa(t,s){Ff.set(t,s),Fs(s,[t])}var El=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ca=[],Un=0,Yc=0;function Dl(){for(var t=Un,s=Yc=Un=0;s<t;){var l=ca[s];ca[s++]=null;var c=ca[s];ca[s++]=null;var h=ca[s];ca[s++]=null;var g=ca[s];if(ca[s++]=null,c!==null&&h!==null){var k=c.pending;k===null?h.next=h:(h.next=k.next,k.next=h),c.pending=h}g!==0&&Yf(l,h,g)}}function zl(t,s,l,c){ca[Un++]=t,ca[Un++]=s,ca[Un++]=l,ca[Un++]=c,Yc|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Kc(t,s,l,c){return zl(t,s,l,c),Ol(t)}function Ws(t,s){return zl(t,null,null,s),Ol(t)}function Yf(t,s,l){t.lanes|=l;var c=t.alternate;c!==null&&(c.lanes|=l);for(var h=!1,g=t.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(h=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,h&&s!==null&&(h=31-Yt(l),t=g.hiddenUpdates,c=t[h],c===null?t[h]=[s]:c.push(s),s.lane=l|536870912),g):null}function Ol(t){if(50<vi)throw vi=0,su=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Bn={};function I1(t,s,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,s,l,c){return new I1(t,s,l,c)}function Zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $a(t,s){var l=t.alternate;return l===null?(l=Zt(t.tag,s,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=s,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,s=t.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Kf(t,s){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,s=l.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Rl(t,s,l,c,h,g){var k=0;if(c=t,typeof t=="function")Zc(t)&&(k=1);else if(typeof t=="string")k=Zk(t,l,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case q:return t=Zt(31,l,s,h),t.elementType=q,t.lanes=g,t;case T:return Xs(l.children,h,g,s);case E:k=8,h|=24;break;case A:return t=Zt(12,l,s,h|2),t.elementType=A,t.lanes=g,t;case H:return t=Zt(13,l,s,h),t.elementType=H,t.lanes=g,t;case V:return t=Zt(19,l,s,h),t.elementType=V,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _:k=10;break e;case D:k=9;break e;case C:k=11;break e;case $:k=14;break e;case B:k=16,c=null;break e}k=29,l=Error(i(130,t===null?"null":typeof t,"")),c=null}return s=Zt(k,l,s,h),s.elementType=t,s.type=c,s.lanes=g,s}function Xs(t,s,l,c){return t=Zt(7,t,c,s),t.lanes=l,t}function Wc(t,s,l){return t=Zt(6,t,null,s),t.lanes=l,t}function Zf(t){var s=Zt(18,null,null,0);return s.stateNode=t,s}function Xc(t,s,l){return s=Zt(4,t.children!==null?t.children:[],t.key,s),s.lanes=l,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Wf=new WeakMap;function da(t,s){if(typeof t=="object"&&t!==null){var l=Wf.get(t);return l!==void 0?l:(s={value:t,source:s,stack:Vs(s)},Wf.set(t,s),s)}return{value:t,source:s,stack:Vs(s)}}var Pn=[],$n=0,Ml=null,Jr=0,ua=[],ha=0,ds=null,Ea=1,Da="";function Va(t,s){Pn[$n++]=Jr,Pn[$n++]=Ml,Ml=t,Jr=s}function Xf(t,s,l){ua[ha++]=Ea,ua[ha++]=Da,ua[ha++]=ds,ds=t;var c=Ea;t=Da;var h=32-Yt(c)-1;c&=~(1<<h),l+=1;var g=32-Yt(s)+h;if(30<g){var k=h-h%5;g=(c&(1<<k)-1).toString(32),c>>=k,h-=k,Ea=1<<32-Yt(s)+h|l<<h|c,Da=g+t}else Ea=1<<g|l<<h|c,Da=t}function Qc(t){t.return!==null&&(Va(t,1),Xf(t,1,0))}function Jc(t){for(;t===Ml;)Ml=Pn[--$n],Pn[$n]=null,Jr=Pn[--$n],Pn[$n]=null;for(;t===ds;)ds=ua[--ha],ua[ha]=null,Da=ua[--ha],ua[ha]=null,Ea=ua[--ha],ua[ha]=null}function Qf(t,s){ua[ha++]=Ea,ua[ha++]=Da,ua[ha++]=ds,Ea=s.id,Da=s.overflow,ds=t}var St=null,Ye=null,Me=!1,us=null,ma=!1,ed=Error(i(519));function hs(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ei(da(s,t)),ed}function Jf(t){var s=t.stateNode,l=t.type,c=t.memoizedProps;switch(s[jt]=t,s[Bt]=c,l){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(l=0;l<ki.length;l++)ze(ki[l],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),hf(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),ff(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||pp(s.textContent,l)?(c.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),c.onScroll!=null&&ze("scroll",s),c.onScrollEnd!=null&&ze("scrollend",s),c.onClick!=null&&(s.onclick=Ba),s=!0):s=!1,s||hs(t,!0)}function eg(t){for(St=t.return;St;)switch(St.tag){case 5:case 31:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:St=St.return}}function Vn(t){if(t!==St)return!1;if(!Me)return eg(t),Me=!0,!1;var s=t.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||xu(t.type,t.memoizedProps)),l=!l),l&&Ye&&hs(t),eg(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Ye=Np(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Ye=Np(t)}else s===27?(s=Ye,_s(t.type)?(t=ju,ju=null,Ye=t):Ye=s):Ye=St?ga(t.stateNode.nextSibling):null;return!0}function Qs(){Ye=St=null,Me=!1}function td(){var t=us;return t!==null&&(qt===null?qt=t:qt.push.apply(qt,t),us=null),t}function ei(t){us===null?us=[t]:us.push(t)}var ad=O(null),Js=null,Ha=null;function ms(t,s,l){ce(ad,s._currentValue),s._currentValue=l}function qa(t){t._currentValue=ad.current,J(ad)}function sd(t,s,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===l)break;t=t.return}}function nd(t,s,l,c){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var g=h.dependencies;if(g!==null){var k=h.child;g=g.firstContext;e:for(;g!==null;){var N=g;g=h;for(var U=0;U<s.length;U++)if(N.context===s[U]){g.lanes|=l,N=g.alternate,N!==null&&(N.lanes|=l),sd(g.return,l,t),c||(k=null);break e}g=N.next}}else if(h.tag===18){if(k=h.return,k===null)throw Error(i(341));k.lanes|=l,g=k.alternate,g!==null&&(g.lanes|=l),sd(k,l,t),k=null}else k=h.child;if(k!==null)k.return=h;else for(k=h;k!==null;){if(k===t){k=null;break}if(h=k.sibling,h!==null){h.return=k.return,k=h;break}k=k.return}h=k}}function Hn(t,s,l,c){t=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var k=h.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var N=h.type;Kt(h.pendingProps.value,k.value)||(t!==null?t.push(N):t=[N])}}else if(h===ie.current){if(k=h.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ci):t=[Ci])}h=h.return}t!==null&&nd(s,t,l,c),s.flags|=262144}function Ll(t){for(t=t.firstContext;t!==null;){if(!Kt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function en(t){Js=t,Ha=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Nt(t){return tg(Js,t)}function Ul(t,s){return Js===null&&en(t),tg(t,s)}function tg(t,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ha===null){if(t===null)throw Error(i(308));Ha=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Ha=Ha.next=s;return l}var G1=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(l,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(l){return l()})}},F1=a.unstable_scheduleCallback,Y1=a.unstable_NormalPriority,it={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new G1,data:new Map,refCount:0}}function ti(t){t.refCount--,t.refCount===0&&F1(Y1,function(){t.controller.abort()})}var ai=null,id=0,qn=0,In=null;function K1(t,s){if(ai===null){var l=ai=[];id=0,qn=cu(),In={status:"pending",value:void 0,then:function(c){l.push(c)}}}return id++,s.then(ag,ag),s}function ag(){if(--id===0&&ai!==null){In!==null&&(In.status="fulfilled");var t=ai;ai=null,qn=0,In=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Z1(t,s){var l=[],c={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<l.length;h++)(0,l[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),c}var sg=z.S;z.S=function(t,s){$0=mt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&K1(t,s),sg!==null&&sg(t,s)};var tn=O(null);function ld(){var t=tn.current;return t!==null?t:Ge.pooledCache}function Bl(t,s){s===null?ce(tn,tn.current):ce(tn,s.pool)}function ng(){var t=ld();return t===null?null:{parent:it._currentValue,pool:t}}var Gn=Error(i(460)),od=Error(i(474)),Pl=Error(i(542)),$l={then:function(){}};function rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ig(t,s,l){switch(l=t[l],l===void 0?t.push(s):l!==s&&(s.then(Ba,Ba),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,og(t),t;default:if(typeof s.status=="string")s.then(Ba,Ba);else{if(t=Ge,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,og(t),t}throw sn=s,Gn}}function an(t){try{var s=t._init;return s(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(sn=l,Gn):l}}var sn=null;function lg(){if(sn===null)throw Error(i(459));var t=sn;return sn=null,t}function og(t){if(t===Gn||t===Pl)throw Error(i(483))}var Fn=null,si=0;function Vl(t){var s=si;return si+=1,Fn===null&&(Fn=[]),ig(Fn,t,s)}function ni(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Hl(t,s){throw s.$$typeof===w?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function cg(t){function s(Y,G){if(t){var W=Y.deletions;W===null?(Y.deletions=[G],Y.flags|=16):W.push(G)}}function l(Y,G){if(!t)return null;for(;G!==null;)s(Y,G),G=G.sibling;return null}function c(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function h(Y,G){return Y=$a(Y,G),Y.index=0,Y.sibling=null,Y}function g(Y,G,W){return Y.index=W,t?(W=Y.alternate,W!==null?(W=W.index,W<G?(Y.flags|=67108866,G):W):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function k(Y){return t&&Y.alternate===null&&(Y.flags|=67108866),Y}function N(Y,G,W,re){return G===null||G.tag!==6?(G=Wc(W,Y.mode,re),G.return=Y,G):(G=h(G,W),G.return=Y,G)}function U(Y,G,W,re){var ve=W.type;return ve===T?ne(Y,G,W.props.children,re,W.key):G!==null&&(G.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===B&&an(ve)===G.type)?(G=h(G,W.props),ni(G,W),G.return=Y,G):(G=Rl(W.type,W.key,W.props,null,Y.mode,re),ni(G,W),G.return=Y,G)}function X(Y,G,W,re){return G===null||G.tag!==4||G.stateNode.containerInfo!==W.containerInfo||G.stateNode.implementation!==W.implementation?(G=Xc(W,Y.mode,re),G.return=Y,G):(G=h(G,W.children||[]),G.return=Y,G)}function ne(Y,G,W,re,ve){return G===null||G.tag!==7?(G=Xs(W,Y.mode,re,ve),G.return=Y,G):(G=h(G,W),G.return=Y,G)}function le(Y,G,W){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Wc(""+G,Y.mode,W),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case j:return W=Rl(G.type,G.key,G.props,null,Y.mode,W),ni(W,G),W.return=Y,W;case S:return G=Xc(G,Y.mode,W),G.return=Y,G;case B:return G=an(G),le(Y,G,W)}if(F(G)||P(G))return G=Xs(G,Y.mode,W,null),G.return=Y,G;if(typeof G.then=="function")return le(Y,Vl(G),W);if(G.$$typeof===_)return le(Y,Ul(Y,G),W);Hl(Y,G)}return null}function Q(Y,G,W,re){var ve=G!==null?G.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ve!==null?null:N(Y,G,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return W.key===ve?U(Y,G,W,re):null;case S:return W.key===ve?X(Y,G,W,re):null;case B:return W=an(W),Q(Y,G,W,re)}if(F(W)||P(W))return ve!==null?null:ne(Y,G,W,re,null);if(typeof W.then=="function")return Q(Y,G,Vl(W),re);if(W.$$typeof===_)return Q(Y,G,Ul(Y,W),re);Hl(Y,W)}return null}function se(Y,G,W,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Y=Y.get(W)||null,N(G,Y,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case j:return Y=Y.get(re.key===null?W:re.key)||null,U(G,Y,re,ve);case S:return Y=Y.get(re.key===null?W:re.key)||null,X(G,Y,re,ve);case B:return re=an(re),se(Y,G,W,re,ve)}if(F(re)||P(re))return Y=Y.get(W)||null,ne(G,Y,re,ve,null);if(typeof re.then=="function")return se(Y,G,W,Vl(re),ve);if(re.$$typeof===_)return se(Y,G,W,Ul(G,re),ve);Hl(G,re)}return null}function ge(Y,G,W,re){for(var ve=null,Le=null,ye=G,Te=G=0,Re=null;ye!==null&&Te<W.length;Te++){ye.index>Te?(Re=ye,ye=null):Re=ye.sibling;var Ue=Q(Y,ye,W[Te],re);if(Ue===null){ye===null&&(ye=Re);break}t&&ye&&Ue.alternate===null&&s(Y,ye),G=g(Ue,G,Te),Le===null?ve=Ue:Le.sibling=Ue,Le=Ue,ye=Re}if(Te===W.length)return l(Y,ye),Me&&Va(Y,Te),ve;if(ye===null){for(;Te<W.length;Te++)ye=le(Y,W[Te],re),ye!==null&&(G=g(ye,G,Te),Le===null?ve=ye:Le.sibling=ye,Le=ye);return Me&&Va(Y,Te),ve}for(ye=c(ye);Te<W.length;Te++)Re=se(ye,Y,Te,W[Te],re),Re!==null&&(t&&Re.alternate!==null&&ye.delete(Re.key===null?Te:Re.key),G=g(Re,G,Te),Le===null?ve=Re:Le.sibling=Re,Le=Re);return t&&ye.forEach(function(Ds){return s(Y,Ds)}),Me&&Va(Y,Te),ve}function we(Y,G,W,re){if(W==null)throw Error(i(151));for(var ve=null,Le=null,ye=G,Te=G=0,Re=null,Ue=W.next();ye!==null&&!Ue.done;Te++,Ue=W.next()){ye.index>Te?(Re=ye,ye=null):Re=ye.sibling;var Ds=Q(Y,ye,Ue.value,re);if(Ds===null){ye===null&&(ye=Re);break}t&&ye&&Ds.alternate===null&&s(Y,ye),G=g(Ds,G,Te),Le===null?ve=Ds:Le.sibling=Ds,Le=Ds,ye=Re}if(Ue.done)return l(Y,ye),Me&&Va(Y,Te),ve;if(ye===null){for(;!Ue.done;Te++,Ue=W.next())Ue=le(Y,Ue.value,re),Ue!==null&&(G=g(Ue,G,Te),Le===null?ve=Ue:Le.sibling=Ue,Le=Ue);return Me&&Va(Y,Te),ve}for(ye=c(ye);!Ue.done;Te++,Ue=W.next())Ue=se(ye,Y,Te,Ue.value,re),Ue!==null&&(t&&Ue.alternate!==null&&ye.delete(Ue.key===null?Te:Ue.key),G=g(Ue,G,Te),Le===null?ve=Ue:Le.sibling=Ue,Le=Ue);return t&&ye.forEach(function(i2){return s(Y,i2)}),Me&&Va(Y,Te),ve}function Ie(Y,G,W,re){if(typeof W=="object"&&W!==null&&W.type===T&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case j:e:{for(var ve=W.key;G!==null;){if(G.key===ve){if(ve=W.type,ve===T){if(G.tag===7){l(Y,G.sibling),re=h(G,W.props.children),re.return=Y,Y=re;break e}}else if(G.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===B&&an(ve)===G.type){l(Y,G.sibling),re=h(G,W.props),ni(re,W),re.return=Y,Y=re;break e}l(Y,G);break}else s(Y,G);G=G.sibling}W.type===T?(re=Xs(W.props.children,Y.mode,re,W.key),re.return=Y,Y=re):(re=Rl(W.type,W.key,W.props,null,Y.mode,re),ni(re,W),re.return=Y,Y=re)}return k(Y);case S:e:{for(ve=W.key;G!==null;){if(G.key===ve)if(G.tag===4&&G.stateNode.containerInfo===W.containerInfo&&G.stateNode.implementation===W.implementation){l(Y,G.sibling),re=h(G,W.children||[]),re.return=Y,Y=re;break e}else{l(Y,G);break}else s(Y,G);G=G.sibling}re=Xc(W,Y.mode,re),re.return=Y,Y=re}return k(Y);case B:return W=an(W),Ie(Y,G,W,re)}if(F(W))return ge(Y,G,W,re);if(P(W)){if(ve=P(W),typeof ve!="function")throw Error(i(150));return W=ve.call(W),we(Y,G,W,re)}if(typeof W.then=="function")return Ie(Y,G,Vl(W),re);if(W.$$typeof===_)return Ie(Y,G,Ul(Y,W),re);Hl(Y,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,G!==null&&G.tag===6?(l(Y,G.sibling),re=h(G,W),re.return=Y,Y=re):(l(Y,G),re=Wc(W,Y.mode,re),re.return=Y,Y=re),k(Y)):l(Y,G)}return function(Y,G,W,re){try{si=0;var ve=Ie(Y,G,W,re);return Fn=null,ve}catch(ye){if(ye===Gn||ye===Pl)throw ye;var Le=Zt(29,ye,null,Y.mode);return Le.lanes=re,Le.return=Y,Le}finally{}}}var nn=cg(!0),dg=cg(!1),fs=!1;function cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ps(t,s,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Pe&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=Ol(t),Yf(t,null,l),s}return zl(t,c,s,l),Ol(t)}function ri(t,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,l|=c,s.lanes=l,ef(t,l)}}function ud(t,s){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var h=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var k={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?h=g=k:g=g.next=k,l=l.next}while(l!==null);g===null?h=g=s:g=g.next=s}else h=g=s;l={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=s:t.next=s,l.lastBaseUpdate=s}var hd=!1;function ii(){if(hd){var t=In;if(t!==null)throw t}}function li(t,s,l,c){hd=!1;var h=t.updateQueue;fs=!1;var g=h.firstBaseUpdate,k=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var U=N,X=U.next;U.next=null,k===null?g=X:k.next=X,k=U;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==k&&(N===null?ne.firstBaseUpdate=X:N.next=X,ne.lastBaseUpdate=U))}if(g!==null){var le=h.baseState;k=0,ne=X=U=null,N=g;do{var Q=N.lane&-536870913,se=Q!==N.lane;if(se?(Oe&Q)===Q:(c&Q)===Q){Q!==0&&Q===qn&&(hd=!0),ne!==null&&(ne=ne.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ge=t,we=N;Q=s;var Ie=l;switch(we.tag){case 1:if(ge=we.payload,typeof ge=="function"){le=ge.call(Ie,le,Q);break e}le=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=we.payload,Q=typeof ge=="function"?ge.call(Ie,le,Q):ge,Q==null)break e;le=v({},le,Q);break e;case 2:fs=!0}}Q=N.callback,Q!==null&&(t.flags|=64,se&&(t.flags|=8192),se=h.callbacks,se===null?h.callbacks=[Q]:se.push(Q))}else se={lane:Q,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(X=ne=se,U=le):ne=ne.next=se,k|=Q;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;se=N,N=se.next,se.next=null,h.lastBaseUpdate=se,h.shared.pending=null}}while(!0);ne===null&&(U=le),h.baseState=U,h.firstBaseUpdate=X,h.lastBaseUpdate=ne,g===null&&(h.shared.lanes=0),ws|=k,t.lanes=k,t.memoizedState=le}}function ug(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function hg(t,s){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)ug(l[t],s)}var Yn=O(null),ql=O(0);function mg(t,s){t=Qa,ce(ql,t),ce(Yn,s),Qa=t|s.baseLanes}function md(){ce(ql,Qa),ce(Yn,Yn.current)}function fd(){Qa=ql.current,J(Yn),J(ql)}var Wt=O(null),fa=null;function ys(t){var s=t.alternate;ce(nt,nt.current&1),ce(Wt,t),fa===null&&(s===null||Yn.current!==null||s.memoizedState!==null)&&(fa=t)}function gd(t){ce(nt,nt.current),ce(Wt,t),fa===null&&(fa=t)}function fg(t){t.tag===22?(ce(nt,nt.current),ce(Wt,t),fa===null&&(fa=t)):xs()}function xs(){ce(nt,nt.current),ce(Wt,Wt.current)}function Xt(t){J(Wt),fa===t&&(fa=null),J(nt)}var nt=O(0);function Il(t){for(var s=t;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||wu(l)||ku(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ia=0,Ce=null,He=null,lt=null,Gl=!1,Kn=!1,rn=!1,Fl=0,oi=0,Zn=null,W1=0;function Je(){throw Error(i(321))}function pd(t,s){if(s===null)return!1;for(var l=0;l<s.length&&l<t.length;l++)if(!Kt(t[l],s[l]))return!1;return!0}function yd(t,s,l,c,h,g){return Ia=g,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,z.H=t===null||t.memoizedState===null?Xg:zd,rn=!1,g=l(c,h),rn=!1,Kn&&(g=pg(s,l,c,h)),gg(t),g}function gg(t){z.H=ui;var s=He!==null&&He.next!==null;if(Ia=0,lt=He=Ce=null,Gl=!1,oi=0,Zn=null,s)throw Error(i(300));t===null||ot||(t=t.dependencies,t!==null&&Ll(t)&&(ot=!0))}function pg(t,s,l,c){Ce=t;var h=0;do{if(Kn&&(Zn=null),oi=0,Kn=!1,25<=h)throw Error(i(301));if(h+=1,lt=He=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=Qg,g=s(l,c)}while(Kn);return g}function X1(){var t=z.H,s=t.useState()[0];return s=typeof s.then=="function"?ci(s):s,t=t.useState()[0],(He!==null?He.memoizedState:null)!==t&&(Ce.flags|=1024),s}function xd(){var t=Fl!==0;return Fl=0,t}function bd(t,s,l){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~l}function vd(t){if(Gl){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Gl=!1}Ia=0,lt=He=Ce=null,Kn=!1,oi=Fl=0,Zn=null}function Mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ce.memoizedState=lt=t:lt=lt.next=t,lt}function rt(){if(He===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var s=lt===null?Ce.memoizedState:lt.next;if(s!==null)lt=s,He=t;else{if(t===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},lt===null?Ce.memoizedState=lt=t:lt=lt.next=t}return lt}function Yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ci(t){var s=oi;return oi+=1,Zn===null&&(Zn=[]),t=ig(Zn,t,s),s=Ce,(lt===null?s.memoizedState:lt.next)===null&&(s=s.alternate,z.H=s===null||s.memoizedState===null?Xg:zd),t}function Kl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ci(t);if(t.$$typeof===_)return Nt(t)}throw Error(i(438,String(t)))}function wd(t){var s=null,l=Ce.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Ce.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Yl(),Ce.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(t),c=0;c<t;c++)l[c]=ae;return s.index++,l}function Ga(t,s){return typeof s=="function"?s(t):s}function Zl(t){var s=rt();return kd(s,He,t)}function kd(t,s,l){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var h=t.baseQueue,g=c.pending;if(g!==null){if(h!==null){var k=h.next;h.next=g.next,g.next=k}s.baseQueue=h=g,c.pending=null}if(g=t.baseState,h===null)t.memoizedState=g;else{s=h.next;var N=k=null,U=null,X=s,ne=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(Oe&le)===le:(Ia&le)===le){var Q=X.revertLane;if(Q===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===qn&&(ne=!0);else if((Ia&Q)===Q){X=X.next,Q===qn&&(ne=!0);continue}else le={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(N=U=le,k=g):U=U.next=le,Ce.lanes|=Q,ws|=Q;le=X.action,rn&&l(g,le),g=X.hasEagerState?X.eagerState:l(g,le)}else Q={lane:le,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(N=U=Q,k=g):U=U.next=Q,Ce.lanes|=le,ws|=le;X=X.next}while(X!==null&&X!==s);if(U===null?k=g:U.next=N,!Kt(g,t.memoizedState)&&(ot=!0,ne&&(l=In,l!==null)))throw l;t.memoizedState=g,t.baseState=k,t.baseQueue=U,c.lastRenderedState=g}return h===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function jd(t){var s=rt(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=t;var c=l.dispatch,h=l.pending,g=s.memoizedState;if(h!==null){l.pending=null;var k=h=h.next;do g=t(g,k.action),k=k.next;while(k!==h);Kt(g,s.memoizedState)||(ot=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,c]}function yg(t,s,l){var c=Ce,h=rt(),g=Me;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=s();var k=!Kt((He||h).memoizedState,l);if(k&&(h.memoizedState=l,ot=!0),h=h.queue,_d(vg.bind(null,c,h,t),[t]),h.getSnapshot!==s||k||lt!==null&&lt.memoizedState.tag&1){if(c.flags|=2048,Wn(9,{destroy:void 0},bg.bind(null,c,h,l,s),null),Ge===null)throw Error(i(349));g||(Ia&127)!==0||xg(c,s,l)}return l}function xg(t,s,l){t.flags|=16384,t={getSnapshot:s,value:l},s=Ce.updateQueue,s===null?(s=Yl(),Ce.updateQueue=s,s.stores=[t]):(l=s.stores,l===null?s.stores=[t]:l.push(t))}function bg(t,s,l,c){s.value=l,s.getSnapshot=c,wg(s)&&kg(t)}function vg(t,s,l){return l(function(){wg(s)&&kg(t)})}function wg(t){var s=t.getSnapshot;t=t.value;try{var l=s();return!Kt(t,l)}catch{return!0}}function kg(t){var s=Ws(t,2);s!==null&&It(s,t,2)}function Sd(t){var s=Mt();if(typeof t=="function"){var l=t;if(t=l(),rn){ls(!0);try{l()}finally{ls(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:t},s}function jg(t,s,l,c){return t.baseState=l,kd(t,He,typeof c=="function"?c:Ga)}function Q1(t,s,l,c,h){if(Ql(t))throw Error(i(485));if(t=s.action,t!==null){var g={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){g.listeners.push(k)}};z.T!==null?l(!0):g.isTransition=!1,c(g),l=s.pending,l===null?(g.next=s.pending=g,Sg(s,g)):(g.next=l.next,s.pending=l.next=g)}}function Sg(t,s){var l=s.action,c=s.payload,h=t.state;if(s.isTransition){var g=z.T,k={};z.T=k;try{var N=l(h,c),U=z.S;U!==null&&U(k,N),Ng(t,s,N)}catch(X){Nd(t,s,X)}finally{g!==null&&k.types!==null&&(g.types=k.types),z.T=g}}else try{g=l(h,c),Ng(t,s,g)}catch(X){Nd(t,s,X)}}function Ng(t,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){_g(t,s,c)},function(c){return Nd(t,s,c)}):_g(t,s,l)}function _g(t,s,l){s.status="fulfilled",s.value=l,Cg(s),t.state=l,s=t.pending,s!==null&&(l=s.next,l===s?t.pending=null:(l=l.next,s.next=l,Sg(t,l)))}function Nd(t,s,l){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,Cg(s),s=s.next;while(s!==c)}t.action=null}function Cg(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Tg(t,s){return s}function Ag(t,s){if(Me){var l=Ge.formState;if(l!==null){e:{var c=Ce;if(Me){if(Ye){t:{for(var h=Ye,g=ma;h.nodeType!==8;){if(!g){h=null;break t}if(h=ga(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Ye=ga(h.nextSibling),c=h.data==="F!";break e}}hs(c)}c=!1}c&&(s=l[0])}}return l=Mt(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tg,lastRenderedState:s},l.queue=c,l=Kg.bind(null,Ce,c),c.dispatch=l,c=Sd(!1),g=Dd.bind(null,Ce,!1,c.queue),c=Mt(),h={state:s,dispatch:null,action:t,pending:null},c.queue=h,l=Q1.bind(null,Ce,h,g,l),h.dispatch=l,c.memoizedState=t,[s,l,!1]}function Eg(t){var s=rt();return Dg(s,He,t)}function Dg(t,s,l){if(s=kd(t,s,Tg)[0],t=Zl(Ga)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=ci(s)}catch(k){throw k===Gn?Pl:k}else c=s;s=rt();var h=s.queue,g=h.dispatch;return l!==s.memoizedState&&(Ce.flags|=2048,Wn(9,{destroy:void 0},J1.bind(null,h,l),null)),[c,g,t]}function J1(t,s){t.action=s}function zg(t){var s=rt(),l=He;if(l!==null)return Dg(s,l,t);rt(),s=s.memoizedState,l=rt();var c=l.queue.dispatch;return l.memoizedState=t,[s,c,!1]}function Wn(t,s,l,c){return t={tag:t,create:l,deps:c,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=Yl(),Ce.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,s.lastEffect=t),t}function Og(){return rt().memoizedState}function Wl(t,s,l,c){var h=Mt();Ce.flags|=t,h.memoizedState=Wn(1|s,{destroy:void 0},l,c===void 0?null:c)}function Xl(t,s,l,c){var h=rt();c=c===void 0?null:c;var g=h.memoizedState.inst;He!==null&&c!==null&&pd(c,He.memoizedState.deps)?h.memoizedState=Wn(s,g,l,c):(Ce.flags|=t,h.memoizedState=Wn(1|s,g,l,c))}function Rg(t,s){Wl(8390656,8,t,s)}function _d(t,s){Xl(2048,8,t,s)}function ek(t){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=Yl(),Ce.updateQueue=s,s.events=[t];else{var l=s.events;l===null?s.events=[t]:l.push(t)}}function Mg(t){var s=rt().memoizedState;return ek({ref:s,nextImpl:t}),function(){if((Pe&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Lg(t,s){return Xl(4,2,t,s)}function Ug(t,s){return Xl(4,4,t,s)}function Bg(t,s){if(typeof s=="function"){t=t();var l=s(t);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Pg(t,s,l){l=l!=null?l.concat([t]):null,Xl(4,4,Bg.bind(null,s,t),l)}function Cd(){}function $g(t,s){var l=rt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&pd(s,c[1])?c[0]:(l.memoizedState=[t,s],t)}function Vg(t,s){var l=rt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&pd(s,c[1]))return c[0];if(c=t(),rn){ls(!0);try{t()}finally{ls(!1)}}return l.memoizedState=[c,s],c}function Td(t,s,l){return l===void 0||(Ia&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=s:(t.memoizedState=l,t=H0(),Ce.lanes|=t,ws|=t,l)}function Hg(t,s,l,c){return Kt(l,s)?l:Yn.current!==null?(t=Td(t,l,c),Kt(t,s)||(ot=!0),t):(Ia&42)===0||(Ia&1073741824)!==0&&(Oe&261930)===0?(ot=!0,t.memoizedState=l):(t=H0(),Ce.lanes|=t,ws|=t,s)}function qg(t,s,l,c,h){var g=L.p;L.p=g!==0&&8>g?g:8;var k=z.T,N={};z.T=N,Dd(t,!1,s,l);try{var U=h(),X=z.S;if(X!==null&&X(N,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ne=Z1(U,c);di(t,s,ne,ea(t))}else di(t,s,c,ea(t))}catch(le){di(t,s,{then:function(){},status:"rejected",reason:le},ea())}finally{L.p=g,k!==null&&N.types!==null&&(k.types=N.types),z.T=k}}function tk(){}function Ad(t,s,l,c){if(t.tag!==5)throw Error(i(476));var h=Ig(t).queue;qg(t,h,s,I,l===null?tk:function(){return Gg(t),l(c)})}function Ig(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:I},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:l},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Gg(t){var s=Ig(t);s.next===null&&(s=t.alternate.memoizedState),di(t,s.next.queue,{},ea())}function Ed(){return Nt(Ci)}function Fg(){return rt().memoizedState}function Yg(){return rt().memoizedState}function ak(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var l=ea();t=gs(l);var c=ps(s,t,l);c!==null&&(It(c,s,l),ri(c,s,l)),s={cache:rd()},t.payload=s;return}s=s.return}}function sk(t,s,l){var c=ea();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ql(t)?Zg(s,l):(l=Kc(t,s,l,c),l!==null&&(It(l,t,c),Wg(l,s,c)))}function Kg(t,s,l){var c=ea();di(t,s,l,c)}function di(t,s,l,c){var h={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ql(t))Zg(s,h);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var k=s.lastRenderedState,N=g(k,l);if(h.hasEagerState=!0,h.eagerState=N,Kt(N,k))return zl(t,s,h,0),Ge===null&&Dl(),!1}catch{}finally{}if(l=Kc(t,s,h,c),l!==null)return It(l,t,c),Wg(l,s,c),!0}return!1}function Dd(t,s,l,c){if(c={lane:2,revertLane:cu(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ql(t)){if(s)throw Error(i(479))}else s=Kc(t,l,c,2),s!==null&&It(s,t,2)}function Ql(t){var s=t.alternate;return t===Ce||s!==null&&s===Ce}function Zg(t,s){Kn=Gl=!0;var l=t.pending;l===null?s.next=s:(s.next=l.next,l.next=s),t.pending=s}function Wg(t,s,l){if((l&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,l|=c,s.lanes=l,ef(t,l)}}var ui={readContext:Nt,use:Kl,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};ui.useEffectEvent=Je;var Xg={readContext:Nt,use:Kl,useCallback:function(t,s){return Mt().memoizedState=[t,s===void 0?null:s],t},useContext:Nt,useEffect:Rg,useImperativeHandle:function(t,s,l){l=l!=null?l.concat([t]):null,Wl(4194308,4,Bg.bind(null,s,t),l)},useLayoutEffect:function(t,s){return Wl(4194308,4,t,s)},useInsertionEffect:function(t,s){Wl(4,2,t,s)},useMemo:function(t,s){var l=Mt();s=s===void 0?null:s;var c=t();if(rn){ls(!0);try{t()}finally{ls(!1)}}return l.memoizedState=[c,s],c},useReducer:function(t,s,l){var c=Mt();if(l!==void 0){var h=l(s);if(rn){ls(!0);try{l(s)}finally{ls(!1)}}}else h=s;return c.memoizedState=c.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},c.queue=t,t=t.dispatch=sk.bind(null,Ce,t),[c.memoizedState,t]},useRef:function(t){var s=Mt();return t={current:t},s.memoizedState=t},useState:function(t){t=Sd(t);var s=t.queue,l=Kg.bind(null,Ce,s);return s.dispatch=l,[t.memoizedState,l]},useDebugValue:Cd,useDeferredValue:function(t,s){var l=Mt();return Td(l,t,s)},useTransition:function(){var t=Sd(!1);return t=qg.bind(null,Ce,t.queue,!0,!1),Mt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,l){var c=Ce,h=Mt();if(Me){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Ge===null)throw Error(i(349));(Oe&127)!==0||xg(c,s,l)}h.memoizedState=l;var g={value:l,getSnapshot:s};return h.queue=g,Rg(vg.bind(null,c,g,t),[t]),c.flags|=2048,Wn(9,{destroy:void 0},bg.bind(null,c,g,l,s),null),l},useId:function(){var t=Mt(),s=Ge.identifierPrefix;if(Me){var l=Da,c=Ea;l=(c&~(1<<32-Yt(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Fl++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=W1++,s="_"+s+"r_"+l.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Ed,useFormState:Ag,useActionState:Ag,useOptimistic:function(t){var s=Mt();s.memoizedState=s.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Dd.bind(null,Ce,!0,l),l.dispatch=s,[t,s]},useMemoCache:wd,useCacheRefresh:function(){return Mt().memoizedState=ak.bind(null,Ce)},useEffectEvent:function(t){var s=Mt(),l={impl:t};return s.memoizedState=l,function(){if((Pe&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},zd={readContext:Nt,use:Kl,useCallback:$g,useContext:Nt,useEffect:_d,useImperativeHandle:Pg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:Vg,useReducer:Zl,useRef:Og,useState:function(){return Zl(Ga)},useDebugValue:Cd,useDeferredValue:function(t,s){var l=rt();return Hg(l,He.memoizedState,t,s)},useTransition:function(){var t=Zl(Ga)[0],s=rt().memoizedState;return[typeof t=="boolean"?t:ci(t),s]},useSyncExternalStore:yg,useId:Fg,useHostTransitionStatus:Ed,useFormState:Eg,useActionState:Eg,useOptimistic:function(t,s){var l=rt();return jg(l,He,t,s)},useMemoCache:wd,useCacheRefresh:Yg};zd.useEffectEvent=Mg;var Qg={readContext:Nt,use:Kl,useCallback:$g,useContext:Nt,useEffect:_d,useImperativeHandle:Pg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:Vg,useReducer:jd,useRef:Og,useState:function(){return jd(Ga)},useDebugValue:Cd,useDeferredValue:function(t,s){var l=rt();return He===null?Td(l,t,s):Hg(l,He.memoizedState,t,s)},useTransition:function(){var t=jd(Ga)[0],s=rt().memoizedState;return[typeof t=="boolean"?t:ci(t),s]},useSyncExternalStore:yg,useId:Fg,useHostTransitionStatus:Ed,useFormState:zg,useActionState:zg,useOptimistic:function(t,s){var l=rt();return He!==null?jg(l,He,t,s):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:wd,useCacheRefresh:Yg};Qg.useEffectEvent=Mg;function Od(t,s,l,c){s=t.memoizedState,l=l(c,s),l=l==null?s:v({},s,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Rd={enqueueSetState:function(t,s,l){t=t._reactInternals;var c=ea(),h=gs(c);h.payload=s,l!=null&&(h.callback=l),s=ps(t,h,c),s!==null&&(It(s,t,c),ri(s,t,c))},enqueueReplaceState:function(t,s,l){t=t._reactInternals;var c=ea(),h=gs(c);h.tag=1,h.payload=s,l!=null&&(h.callback=l),s=ps(t,h,c),s!==null&&(It(s,t,c),ri(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var l=ea(),c=gs(l);c.tag=2,s!=null&&(c.callback=s),s=ps(t,c,l),s!==null&&(It(s,t,l),ri(s,t,l))}};function Jg(t,s,l,c,h,g,k){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,k):s.prototype&&s.prototype.isPureReactComponent?!Xr(l,c)||!Xr(h,g):!0}function e0(t,s,l,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==t&&Rd.enqueueReplaceState(s,s.state,null)}function ln(t,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(t=t.defaultProps){l===s&&(l=v({},l));for(var h in t)l[h]===void 0&&(l[h]=t[h])}return l}function t0(t){El(t)}function a0(t){console.error(t)}function s0(t){El(t)}function Jl(t,s){try{var l=t.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function n0(t,s,l){try{var c=t.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Md(t,s,l){return l=gs(l),l.tag=3,l.payload={element:null},l.callback=function(){Jl(t,s)},l}function r0(t){return t=gs(t),t.tag=3,t}function i0(t,s,l,c){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;t.payload=function(){return h(g)},t.callback=function(){n0(s,l,c)}}var k=l.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(t.callback=function(){n0(s,l,c),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function nk(t,s,l,c,h){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Hn(s,l,h,!0),l=Wt.current,l!==null){switch(l.tag){case 31:case 13:return fa===null?ho():l.alternate===null&&et===0&&(et=3),l.flags&=-257,l.flags|=65536,l.lanes=h,c===$l?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),iu(t,c,h)),!1;case 22:return l.flags|=65536,c===$l?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),iu(t,c,h)),!1}throw Error(i(435,l.tag))}return iu(t,c,h),ho(),!1}if(Me)return s=Wt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==ed&&(t=Error(i(422),{cause:c}),ei(da(t,l)))):(c!==ed&&(s=Error(i(423),{cause:c}),ei(da(s,l))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,c=da(c,l),h=Md(t.stateNode,c,h),ud(t,h),et!==4&&(et=2)),!1;var g=Error(i(520),{cause:c});if(g=da(g,l),bi===null?bi=[g]:bi.push(g),et!==4&&(et=2),s===null)return!0;c=da(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,t=h&-h,l.lanes|=t,t=Md(l.stateNode,c,t),ud(l,t),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ks===null||!ks.has(g))))return l.flags|=65536,h&=-h,l.lanes|=h,h=r0(h),i0(h,t,l,c),ud(l,h),!1}l=l.return}while(l!==null);return!1}var Ld=Error(i(461)),ot=!1;function _t(t,s,l,c){s.child=t===null?dg(s,null,l,c):nn(s,t.child,l,c)}function l0(t,s,l,c,h){l=l.render;var g=s.ref;if("ref"in c){var k={};for(var N in c)N!=="ref"&&(k[N]=c[N])}else k=c;return en(s),c=yd(t,s,l,k,g,h),N=xd(),t!==null&&!ot?(bd(t,s,h),Fa(t,s,h)):(Me&&N&&Qc(s),s.flags|=1,_t(t,s,c,h),s.child)}function o0(t,s,l,c,h){if(t===null){var g=l.type;return typeof g=="function"&&!Zc(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,c0(t,s,g,c,h)):(t=Rl(l.type,null,c,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(g=t.child,!Id(t,h)){var k=g.memoizedProps;if(l=l.compare,l=l!==null?l:Xr,l(k,c)&&t.ref===s.ref)return Fa(t,s,h)}return s.flags|=1,t=$a(g,c),t.ref=s.ref,t.return=s,s.child=t}function c0(t,s,l,c,h){if(t!==null){var g=t.memoizedProps;if(Xr(g,c)&&t.ref===s.ref)if(ot=!1,s.pendingProps=c=g,Id(t,h))(t.flags&131072)!==0&&(ot=!0);else return s.lanes=t.lanes,Fa(t,s,h)}return Ud(t,s,l,c,h)}function d0(t,s,l,c){var h=c.children,g=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,t!==null){for(c=s.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~g}else c=0,s.child=null;return u0(t,s,g,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bl(s,g!==null?g.cachePool:null),g!==null?mg(s,g):md(),fg(s);else return c=s.lanes=536870912,u0(t,s,g!==null?g.baseLanes|l:l,l,c)}else g!==null?(Bl(s,g.cachePool),mg(s,g),xs(),s.memoizedState=null):(t!==null&&Bl(s,null),md(),xs());return _t(t,s,h,l),s.child}function hi(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function u0(t,s,l,c,h){var g=ld();return g=g===null?null:{parent:it._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},t!==null&&Bl(s,null),md(),fg(s),t!==null&&Hn(t,s,c,!0),s.childLanes=h,null}function eo(t,s){return s=ao({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function h0(t,s,l){return nn(s,t.child,null,l),t=eo(s,s.pendingProps),t.flags|=2,Xt(s),s.memoizedState=null,t}function rk(t,s,l){var c=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Me){if(c.mode==="hidden")return t=eo(s,c),s.lanes=536870912,hi(null,t);if(gd(s),(t=Ye)?(t=Sp(t,ma),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ds!==null?{id:Ea,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},l=Zf(t),l.return=s,s.child=l,St=s,Ye=null)):t=null,t===null)throw hs(s);return s.lanes=536870912,null}return eo(s,c)}var g=t.memoizedState;if(g!==null){var k=g.dehydrated;if(gd(s),h)if(s.flags&256)s.flags&=-257,s=h0(t,s,l);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(ot||Hn(t,s,l,!1),h=(l&t.childLanes)!==0,ot||h){if(c=Ge,c!==null&&(k=tf(c,l),k!==0&&k!==g.retryLane))throw g.retryLane=k,Ws(t,k),It(c,t,k),Ld;ho(),s=h0(t,s,l)}else t=g.treeContext,Ye=ga(k.nextSibling),St=s,Me=!0,us=null,ma=!1,t!==null&&Qf(s,t),s=eo(s,c),s.flags|=4096;return s}return t=$a(t.child,{mode:c.mode,children:c.children}),t.ref=s.ref,s.child=t,t.return=s,t}function to(t,s){var l=s.ref;if(l===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(t===null||t.ref!==l)&&(s.flags|=4194816)}}function Ud(t,s,l,c,h){return en(s),l=yd(t,s,l,c,void 0,h),c=xd(),t!==null&&!ot?(bd(t,s,h),Fa(t,s,h)):(Me&&c&&Qc(s),s.flags|=1,_t(t,s,l,h),s.child)}function m0(t,s,l,c,h,g){return en(s),s.updateQueue=null,l=pg(s,c,l,h),gg(t),c=xd(),t!==null&&!ot?(bd(t,s,g),Fa(t,s,g)):(Me&&c&&Qc(s),s.flags|=1,_t(t,s,l,g),s.child)}function f0(t,s,l,c,h){if(en(s),s.stateNode===null){var g=Bn,k=l.contextType;typeof k=="object"&&k!==null&&(g=Nt(k)),g=new l(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Rd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},cd(s),k=l.contextType,g.context=typeof k=="object"&&k!==null?Nt(k):Bn,g.state=s.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(Od(s,l,k,c),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(k=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),k!==g.state&&Rd.enqueueReplaceState(g,g.state,null),li(s,c,g,h),ii(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){g=s.stateNode;var N=s.memoizedProps,U=ln(l,N);g.props=U;var X=g.context,ne=l.contextType;k=Bn,typeof ne=="object"&&ne!==null&&(k=Nt(ne));var le=l.getDerivedStateFromProps;ne=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N||X!==k)&&e0(s,g,c,k),fs=!1;var Q=s.memoizedState;g.state=Q,li(s,c,g,h),ii(),X=s.memoizedState,N||Q!==X||fs?(typeof le=="function"&&(Od(s,l,le,c),X=s.memoizedState),(U=fs||Jg(s,l,U,c,Q,X,k))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=X),g.props=c,g.state=X,g.context=k,c=U):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,dd(t,s),k=s.memoizedProps,ne=ln(l,k),g.props=ne,le=s.pendingProps,Q=g.context,X=l.contextType,U=Bn,typeof X=="object"&&X!==null&&(U=Nt(X)),N=l.getDerivedStateFromProps,(X=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k!==le||Q!==U)&&e0(s,g,c,U),fs=!1,Q=s.memoizedState,g.state=Q,li(s,c,g,h),ii();var se=s.memoizedState;k!==le||Q!==se||fs||t!==null&&t.dependencies!==null&&Ll(t.dependencies)?(typeof N=="function"&&(Od(s,l,N,c),se=s.memoizedState),(ne=fs||Jg(s,l,ne,c,Q,se,U)||t!==null&&t.dependencies!==null&&Ll(t.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,se,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,se,U)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||k===t.memoizedProps&&Q===t.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&Q===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=se),g.props=c,g.state=se,g.context=U,c=ne):(typeof g.componentDidUpdate!="function"||k===t.memoizedProps&&Q===t.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&Q===t.memoizedState||(s.flags|=1024),c=!1)}return g=c,to(t,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,t!==null&&c?(s.child=nn(s,t.child,null,h),s.child=nn(s,null,l,h)):_t(t,s,l,h),s.memoizedState=g.state,t=s.child):t=Fa(t,s,h),t}function g0(t,s,l,c){return Qs(),s.flags|=256,_t(t,s,l,c),s.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pd(t){return{baseLanes:t,cachePool:ng()}}function $d(t,s,l){return t=t!==null?t.childLanes&~l:0,s&&(t|=Jt),t}function p0(t,s,l){var c=s.pendingProps,h=!1,g=(s.flags&128)!==0,k;if((k=g)||(k=t!==null&&t.memoizedState===null?!1:(nt.current&2)!==0),k&&(h=!0,s.flags&=-129),k=(s.flags&32)!==0,s.flags&=-33,t===null){if(Me){if(h?ys(s):xs(),(t=Ye)?(t=Sp(t,ma),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ds!==null?{id:Ea,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},l=Zf(t),l.return=s,s.child=l,St=s,Ye=null)):t=null,t===null)throw hs(s);return ku(t)?s.lanes=32:s.lanes=536870912,null}var N=c.children;return c=c.fallback,h?(xs(),h=s.mode,N=ao({mode:"hidden",children:N},h),c=Xs(c,h,l,null),N.return=s,c.return=s,N.sibling=c,s.child=N,c=s.child,c.memoizedState=Pd(l),c.childLanes=$d(t,k,l),s.memoizedState=Bd,hi(null,c)):(ys(s),Vd(s,N))}var U=t.memoizedState;if(U!==null&&(N=U.dehydrated,N!==null)){if(g)s.flags&256?(ys(s),s.flags&=-257,s=Hd(t,s,l)):s.memoizedState!==null?(xs(),s.child=t.child,s.flags|=128,s=null):(xs(),N=c.fallback,h=s.mode,c=ao({mode:"visible",children:c.children},h),N=Xs(N,h,l,null),N.flags|=2,c.return=s,N.return=s,c.sibling=N,s.child=c,nn(s,t.child,null,l),c=s.child,c.memoizedState=Pd(l),c.childLanes=$d(t,k,l),s.memoizedState=Bd,s=hi(null,c));else if(ys(s),ku(N)){if(k=N.nextSibling&&N.nextSibling.dataset,k)var X=k.dgst;k=X,c=Error(i(419)),c.stack="",c.digest=k,ei({value:c,source:null,stack:null}),s=Hd(t,s,l)}else if(ot||Hn(t,s,l,!1),k=(l&t.childLanes)!==0,ot||k){if(k=Ge,k!==null&&(c=tf(k,l),c!==0&&c!==U.retryLane))throw U.retryLane=c,Ws(t,c),It(k,t,c),Ld;wu(N)||ho(),s=Hd(t,s,l)}else wu(N)?(s.flags|=192,s.child=t.child,s=null):(t=U.treeContext,Ye=ga(N.nextSibling),St=s,Me=!0,us=null,ma=!1,t!==null&&Qf(s,t),s=Vd(s,c.children),s.flags|=4096);return s}return h?(xs(),N=c.fallback,h=s.mode,U=t.child,X=U.sibling,c=$a(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,X!==null?N=$a(X,N):(N=Xs(N,h,l,null),N.flags|=2),N.return=s,c.return=s,c.sibling=N,s.child=c,hi(null,c),c=s.child,N=t.child.memoizedState,N===null?N=Pd(l):(h=N.cachePool,h!==null?(U=it._currentValue,h=h.parent!==U?{parent:U,pool:U}:h):h=ng(),N={baseLanes:N.baseLanes|l,cachePool:h}),c.memoizedState=N,c.childLanes=$d(t,k,l),s.memoizedState=Bd,hi(t.child,c)):(ys(s),l=t.child,t=l.sibling,l=$a(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,t!==null&&(k=s.deletions,k===null?(s.deletions=[t],s.flags|=16):k.push(t)),s.child=l,s.memoizedState=null,l)}function Vd(t,s){return s=ao({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function ao(t,s){return t=Zt(22,t,null,s),t.lanes=0,t}function Hd(t,s,l){return nn(s,t.child,null,l),t=Vd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function y0(t,s,l){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),sd(t.return,s,l)}function qd(t,s,l,c,h,g){var k=t.memoizedState;k===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:h,treeForkCount:g}:(k.isBackwards=s,k.rendering=null,k.renderingStartTime=0,k.last=c,k.tail=l,k.tailMode=h,k.treeForkCount=g)}function x0(t,s,l){var c=s.pendingProps,h=c.revealOrder,g=c.tail;c=c.children;var k=nt.current,N=(k&2)!==0;if(N?(k=k&1|2,s.flags|=128):k&=1,ce(nt,k),_t(t,s,c,l),c=Me?Jr:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y0(t,l,s);else if(t.tag===19)y0(t,l,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(l=s.child,h=null;l!==null;)t=l.alternate,t!==null&&Il(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=s.child,s.child=null):(h=l.sibling,l.sibling=null),qd(s,!1,h,l,g,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&Il(t)===null){s.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}qd(s,!0,l,null,g,c);break;case"together":qd(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Fa(t,s,l){if(t!==null&&(s.dependencies=t.dependencies),ws|=s.lanes,(l&s.childLanes)===0)if(t!==null){if(Hn(t,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,l=$a(t,t.pendingProps),s.child=l,l.return=s;t.sibling!==null;)t=t.sibling,l=l.sibling=$a(t,t.pendingProps),l.return=s;l.sibling=null}return s.child}function Id(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Ll(t)))}function ik(t,s,l){switch(s.tag){case 3:oe(s,s.stateNode.containerInfo),ms(s,it,t.memoizedState.cache),Qs();break;case 27:case 5:Ne(s);break;case 4:oe(s,s.stateNode.containerInfo);break;case 10:ms(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,gd(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ys(s),s.flags|=128,null):(l&s.child.childLanes)!==0?p0(t,s,l):(ys(s),t=Fa(t,s,l),t!==null?t.sibling:null);ys(s);break;case 19:var h=(t.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Hn(t,s,l,!1),c=(l&s.childLanes)!==0),h){if(c)return x0(t,s,l);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(nt,nt.current),c)break;return null;case 22:return s.lanes=0,d0(t,s,l,s.pendingProps);case 24:ms(s,it,t.memoizedState.cache)}return Fa(t,s,l)}function b0(t,s,l){if(t!==null)if(t.memoizedProps!==s.pendingProps)ot=!0;else{if(!Id(t,l)&&(s.flags&128)===0)return ot=!1,ik(t,s,l);ot=(t.flags&131072)!==0}else ot=!1,Me&&(s.flags&1048576)!==0&&Xf(s,Jr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(t=an(s.elementType),s.type=t,typeof t=="function")Zc(t)?(c=ln(t,c),s.tag=1,s=f0(null,s,t,c,l)):(s.tag=0,s=Ud(null,s,t,c,l));else{if(t!=null){var h=t.$$typeof;if(h===C){s.tag=11,s=l0(null,s,t,c,l);break e}else if(h===$){s.tag=14,s=o0(null,s,t,c,l);break e}}throw s=ee(t)||t,Error(i(306,s,""))}}return s;case 0:return Ud(t,s,s.type,s.pendingProps,l);case 1:return c=s.type,h=ln(c,s.pendingProps),f0(t,s,c,h,l);case 3:e:{if(oe(s,s.stateNode.containerInfo),t===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;h=g.element,dd(t,s),li(s,c,null,l);var k=s.memoizedState;if(c=k.cache,ms(s,it,c),c!==g.cache&&nd(s,[it],l,!0),ii(),c=k.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:k.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=g0(t,s,c,l);break e}else if(c!==h){h=da(Error(i(424)),s),ei(h),s=g0(t,s,c,l);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ye=ga(t.firstChild),St=s,Me=!0,us=null,ma=!0,l=dg(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Qs(),c===h){s=Fa(t,s,l);break e}_t(t,s,c,l)}s=s.child}return s;case 26:return to(t,s),t===null?(l=Ep(s.type,null,s.pendingProps,null))?s.memoizedState=l:Me||(l=s.type,t=s.pendingProps,c=bo(ke.current).createElement(l),c[jt]=s,c[Bt]=t,Ct(c,l,t),bt(c),s.stateNode=c):s.memoizedState=Ep(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ne(s),t===null&&Me&&(c=s.stateNode=Cp(s.type,s.pendingProps,ke.current),St=s,ma=!0,h=Ye,_s(s.type)?(ju=h,Ye=ga(c.firstChild)):Ye=h),_t(t,s,s.pendingProps.children,l),to(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Me&&((h=c=Ye)&&(c=Lk(c,s.type,s.pendingProps,ma),c!==null?(s.stateNode=c,St=s,Ye=ga(c.firstChild),ma=!1,h=!0):h=!1),h||hs(s)),Ne(s),h=s.type,g=s.pendingProps,k=t!==null?t.memoizedProps:null,c=g.children,xu(h,g)?c=null:k!==null&&xu(h,k)&&(s.flags|=32),s.memoizedState!==null&&(h=yd(t,s,X1,null,null,l),Ci._currentValue=h),to(t,s),_t(t,s,c,l),s.child;case 6:return t===null&&Me&&((t=l=Ye)&&(l=Uk(l,s.pendingProps,ma),l!==null?(s.stateNode=l,St=s,Ye=null,t=!0):t=!1),t||hs(s)),null;case 13:return p0(t,s,l);case 4:return oe(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=nn(s,null,c,l):_t(t,s,c,l),s.child;case 11:return l0(t,s,s.type,s.pendingProps,l);case 7:return _t(t,s,s.pendingProps,l),s.child;case 8:return _t(t,s,s.pendingProps.children,l),s.child;case 12:return _t(t,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,ms(s,s.type,c.value),_t(t,s,c.children,l),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,en(s),h=Nt(h),c=c(h),s.flags|=1,_t(t,s,c,l),s.child;case 14:return o0(t,s,s.type,s.pendingProps,l);case 15:return c0(t,s,s.type,s.pendingProps,l);case 19:return x0(t,s,l);case 31:return rk(t,s,l);case 22:return d0(t,s,l,s.pendingProps);case 24:return en(s),c=Nt(it),t===null?(h=ld(),h===null&&(h=Ge,g=rd(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=l),h=g),s.memoizedState={parent:c,cache:h},cd(s),ms(s,it,h)):((t.lanes&l)!==0&&(dd(t,s),li(s,null,null,l),ii()),h=t.memoizedState,g=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ms(s,it,c)):(c=g.cache,ms(s,it,c),c!==h.cache&&nd(s,[it],l,!0))),_t(t,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ya(t){t.flags|=4}function Gd(t,s,l,c,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(F0())t.flags|=8192;else throw sn=$l,od}else t.flags&=-16777217}function v0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Mp(s))if(F0())t.flags|=8192;else throw sn=$l,od}function so(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Qm():536870912,t.lanes|=s,er|=s)}function mi(t,s){if(!Me)switch(t.tailMode){case"hidden":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ke(t){var s=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(s)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=l,s}function lk(t,s,l){var c=s.pendingProps;switch(Jc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(s),null;case 1:return Ke(s),null;case 3:return l=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),qa(it),ue(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Vn(s)?Ya(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,td())),Ke(s),null;case 26:var h=s.type,g=s.memoizedState;return t===null?(Ya(s),g!==null?(Ke(s),v0(s,g)):(Ke(s),Gd(s,h,null,c,l))):g?g!==t.memoizedState?(Ya(s),Ke(s),v0(s,g)):(Ke(s),s.flags&=-16777217):(t=t.memoizedProps,t!==c&&Ya(s),Ke(s),Gd(s,h,t,c,l)),null;case 27:if(he(s),l=ke.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Ya(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Ke(s),null}t=de.current,Vn(s)?Jf(s):(t=Cp(h,c,l),s.stateNode=t,Ya(s))}return Ke(s),null;case 5:if(he(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Ya(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Ke(s),null}if(g=de.current,Vn(s))Jf(s);else{var k=bo(ke.current);switch(g){case 1:g=k.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=k.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=k.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=k.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=k.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?k.createElement("select",{is:c.is}):k.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?k.createElement(h,{is:c.is}):k.createElement(h)}}g[jt]=s,g[Bt]=c;e:for(k=s.child;k!==null;){if(k.tag===5||k.tag===6)g.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===s)break e;for(;k.sibling===null;){if(k.return===null||k.return===s)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}s.stateNode=g;e:switch(Ct(g,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ya(s)}}return Ke(s),Gd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,l),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&Ya(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(t=ke.current,Vn(s)){if(t=s.stateNode,l=s.memoizedProps,c=null,h=St,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}t[jt]=s,t=!!(t.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||pp(t.nodeValue,l)),t||hs(s,!0)}else t=bo(t).createTextNode(c),t[jt]=s,s.stateNode=t}return Ke(s),null;case 31:if(l=s.memoizedState,t===null||t.memoizedState!==null){if(c=Vn(s),l!==null){if(t===null){if(!c)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[jt]=s}else Qs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ke(s),t=!1}else l=td(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return s.flags&256?(Xt(s),s):(Xt(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Ke(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Vn(s),c!==null&&c.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[jt]=s}else Qs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ke(s),h=!1}else h=td(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Xt(s),s):(Xt(s),null)}return Xt(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,t=t!==null&&t.memoizedState!==null,l&&(c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)),l!==t&&l&&(s.child.flags|=8192),so(s,s.updateQueue),Ke(s),null);case 4:return ue(),t===null&&mu(s.stateNode.containerInfo),Ke(s),null;case 10:return qa(s.type),Ke(s),null;case 19:if(J(nt),c=s.memoizedState,c===null)return Ke(s),null;if(h=(s.flags&128)!==0,g=c.rendering,g===null)if(h)mi(c,!1);else{if(et!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(g=Il(t),g!==null){for(s.flags|=128,mi(c,!1),t=g.updateQueue,s.updateQueue=t,so(s,t),s.subtreeFlags=0,t=l,l=s.child;l!==null;)Kf(l,t),l=l.sibling;return ce(nt,nt.current&1|2),Me&&Va(s,c.treeForkCount),s.child}t=t.sibling}c.tail!==null&&mt()>oo&&(s.flags|=128,h=!0,mi(c,!1),s.lanes=4194304)}else{if(!h)if(t=Il(g),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,so(s,t),mi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Me)return Ke(s),null}else 2*mt()-c.renderingStartTime>oo&&l!==536870912&&(s.flags|=128,h=!0,mi(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(t=c.last,t!==null?t.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=mt(),t.sibling=null,l=nt.current,ce(nt,h?l&1|2:l&1),Me&&Va(s,c.treeForkCount),t):(Ke(s),null);case 22:case 23:return Xt(s),fd(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(Ke(s),s.subtreeFlags&6&&(s.flags|=8192)):Ke(s),l=s.updateQueue,l!==null&&so(s,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),t!==null&&J(tn),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),qa(it),Ke(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ok(t,s){switch(Jc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return qa(it),ue(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return he(s),null;case 31:if(s.memoizedState!==null){if(Xt(s),s.alternate===null)throw Error(i(340));Qs()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Xt(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Qs()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return J(nt),null;case 4:return ue(),null;case 10:return qa(s.type),null;case 22:case 23:return Xt(s),fd(),t!==null&&J(tn),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return qa(it),null;case 25:return null;default:return null}}function w0(t,s){switch(Jc(s),s.tag){case 3:qa(it),ue();break;case 26:case 27:case 5:he(s);break;case 4:ue();break;case 31:s.memoizedState!==null&&Xt(s);break;case 13:Xt(s);break;case 19:J(nt);break;case 10:qa(s.type);break;case 22:case 23:Xt(s),fd(),t!==null&&J(tn);break;case 24:qa(it)}}function fi(t,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){c=void 0;var g=l.create,k=l.inst;c=g(),k.destroy=c}l=l.next}while(l!==h)}}catch(N){Ve(s,s.return,N)}}function bs(t,s,l){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&t)===t){var k=c.inst,N=k.destroy;if(N!==void 0){k.destroy=void 0,h=s;var U=l,X=N;try{X()}catch(ne){Ve(h,U,ne)}}}c=c.next}while(c!==g)}}catch(ne){Ve(s,s.return,ne)}}function k0(t){var s=t.updateQueue;if(s!==null){var l=t.stateNode;try{hg(s,l)}catch(c){Ve(t,t.return,c)}}}function j0(t,s,l){l.props=ln(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(c){Ve(t,s,c)}}function gi(t,s){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof l=="function"?t.refCleanup=l(c):l.current=c}}catch(h){Ve(t,s,h)}}function za(t,s){var l=t.ref,c=t.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(h){Ve(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){Ve(t,s,h)}else l.current=null}function S0(t){var s=t.type,l=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(h){Ve(t,t.return,h)}}function Fd(t,s,l){try{var c=t.stateNode;Ek(c,t.type,l,s),c[Bt]=s}catch(h){Ve(t,t.return,h)}}function N0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_s(t.type)||t.tag===4}function Yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||N0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_s(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kd(t,s,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(t),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ba));else if(c!==4&&(c===27&&_s(t.type)&&(l=t.stateNode,s=null),t=t.child,t!==null))for(Kd(t,s,l),t=t.sibling;t!==null;)Kd(t,s,l),t=t.sibling}function no(t,s,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?l.insertBefore(t,s):l.appendChild(t);else if(c!==4&&(c===27&&_s(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(no(t,s,l),t=t.sibling;t!==null;)no(t,s,l),t=t.sibling}function _0(t){var s=t.stateNode,l=t.memoizedProps;try{for(var c=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Ct(s,c,l),s[jt]=t,s[Bt]=l}catch(g){Ve(t,t.return,g)}}var Ka=!1,ct=!1,Zd=!1,C0=typeof WeakSet=="function"?WeakSet:Set,vt=null;function ck(t,s){if(t=t.containerInfo,pu=_o,t=Pf(t),Hc(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var k=0,N=-1,U=-1,X=0,ne=0,le=t,Q=null;t:for(;;){for(var se;le!==l||h!==0&&le.nodeType!==3||(N=k+h),le!==g||c!==0&&le.nodeType!==3||(U=k+c),le.nodeType===3&&(k+=le.nodeValue.length),(se=le.firstChild)!==null;)Q=le,le=se;for(;;){if(le===t)break t;if(Q===l&&++X===h&&(N=k),Q===g&&++ne===c&&(U=k),(se=le.nextSibling)!==null)break;le=Q,Q=le.parentNode}le=se}l=N===-1||U===-1?null:{start:N,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(yu={focusedElem:t,selectionRange:l},_o=!1,vt=s;vt!==null;)if(s=vt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,vt=t;else for(;vt!==null;){switch(s=vt,g=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)h=t[l],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,l=s,h=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var ge=ln(l.type,h);t=c.getSnapshotBeforeUpdate(ge,g),c.__reactInternalSnapshotBeforeUpdate=t}catch(we){Ve(l,l.return,we)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,l=t.nodeType,l===9)vu(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,vt=t;break}vt=s.return}}function T0(t,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Wa(t,l),c&4&&fi(5,l);break;case 1:if(Wa(t,l),c&4)if(t=l.stateNode,s===null)try{t.componentDidMount()}catch(k){Ve(l,l.return,k)}else{var h=ln(l.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(k){Ve(l,l.return,k)}}c&64&&k0(l),c&512&&gi(l,l.return);break;case 3:if(Wa(t,l),c&64&&(t=l.updateQueue,t!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{hg(t,s)}catch(k){Ve(l,l.return,k)}}break;case 27:s===null&&c&4&&_0(l);case 26:case 5:Wa(t,l),s===null&&c&4&&S0(l),c&512&&gi(l,l.return);break;case 12:Wa(t,l);break;case 31:Wa(t,l),c&4&&D0(t,l);break;case 13:Wa(t,l),c&4&&z0(t,l),c&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=xk.bind(null,l),Bk(t,l))));break;case 22:if(c=l.memoizedState!==null||Ka,!c){s=s!==null&&s.memoizedState!==null||ct,h=Ka;var g=ct;Ka=c,(ct=s)&&!g?Xa(t,l,(l.subtreeFlags&8772)!==0):Wa(t,l),Ka=h,ct=g}break;case 30:break;default:Wa(t,l)}}function A0(t){var s=t.alternate;s!==null&&(t.alternate=null,A0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Nc(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var We=null,$t=!1;function Za(t,s,l){for(l=l.child;l!==null;)E0(t,s,l),l=l.sibling}function E0(t,s,l){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Pr,l)}catch{}switch(l.tag){case 26:ct||za(l,s),Za(t,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ct||za(l,s);var c=We,h=$t;_s(l.type)&&(We=l.stateNode,$t=!1),Za(t,s,l),Si(l.stateNode),We=c,$t=h;break;case 5:ct||za(l,s);case 6:if(c=We,h=$t,We=null,Za(t,s,l),We=c,$t=h,We!==null)if($t)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(l.stateNode)}catch(g){Ve(l,s,g)}else try{We.removeChild(l.stateNode)}catch(g){Ve(l,s,g)}break;case 18:We!==null&&($t?(t=We,kp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),or(t)):kp(We,l.stateNode));break;case 4:c=We,h=$t,We=l.stateNode.containerInfo,$t=!0,Za(t,s,l),We=c,$t=h;break;case 0:case 11:case 14:case 15:bs(2,l,s),ct||bs(4,l,s),Za(t,s,l);break;case 1:ct||(za(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&j0(l,s,c)),Za(t,s,l);break;case 21:Za(t,s,l);break;case 22:ct=(c=ct)||l.memoizedState!==null,Za(t,s,l),ct=c;break;default:Za(t,s,l)}}function D0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{or(t)}catch(l){Ve(s,s.return,l)}}}function z0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{or(t)}catch(l){Ve(s,s.return,l)}}function dk(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new C0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new C0),s;default:throw Error(i(435,t.tag))}}function ro(t,s){var l=dk(t);s.forEach(function(c){if(!l.has(c)){l.add(c);var h=bk.bind(null,t,c);c.then(h,h)}})}function Vt(t,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var h=l[c],g=t,k=s,N=k;e:for(;N!==null;){switch(N.tag){case 27:if(_s(N.type)){We=N.stateNode,$t=!1;break e}break;case 5:We=N.stateNode,$t=!1;break e;case 3:case 4:We=N.stateNode.containerInfo,$t=!0;break e}N=N.return}if(We===null)throw Error(i(160));E0(g,k,h),We=null,$t=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)O0(s,t),s=s.sibling}var ka=null;function O0(t,s){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vt(s,t),Ht(t),c&4&&(bs(3,t,t.return),fi(3,t),bs(5,t,t.return));break;case 1:Vt(s,t),Ht(t),c&512&&(ct||l===null||za(l,l.return)),c&64&&Ka&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var h=ka;if(Vt(s,t),Ht(t),c&512&&(ct||l===null||za(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=t.memoizedState,l===null)if(c===null)if(t.stateNode===null){e:{c=t.type,l=t.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Hr]||g[jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),Ct(g,c,l),g[jt]=t,bt(g),c=g;break e;case"link":var k=Op("link","href",h).get(c+(l.href||""));if(k){for(var N=0;N<k.length;N++)if(g=k[N],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){k.splice(N,1);break t}}g=h.createElement(c),Ct(g,c,l),h.head.appendChild(g);break;case"meta":if(k=Op("meta","content",h).get(c+(l.content||""))){for(N=0;N<k.length;N++)if(g=k[N],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){k.splice(N,1);break t}}g=h.createElement(c),Ct(g,c,l),h.head.appendChild(g);break;default:throw Error(i(468,c))}g[jt]=t,bt(g),c=g}t.stateNode=c}else Rp(h,t.type,t.stateNode);else t.stateNode=zp(h,c,t.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?Rp(h,t.type,t.stateNode):zp(h,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Fd(t,t.memoizedProps,l.memoizedProps)}break;case 27:Vt(s,t),Ht(t),c&512&&(ct||l===null||za(l,l.return)),l!==null&&c&4&&Fd(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Vt(s,t),Ht(t),c&512&&(ct||l===null||za(l,l.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(ge){Ve(t,t.return,ge)}}c&4&&t.stateNode!=null&&(h=t.memoizedProps,Fd(t,h,l!==null?l.memoizedProps:h)),c&1024&&(Zd=!0);break;case 6:if(Vt(s,t),Ht(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,l=t.stateNode;try{l.nodeValue=c}catch(ge){Ve(t,t.return,ge)}}break;case 3:if(ko=null,h=ka,ka=vo(s.containerInfo),Vt(s,t),ka=h,Ht(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{or(s.containerInfo)}catch(ge){Ve(t,t.return,ge)}Zd&&(Zd=!1,R0(t));break;case 4:c=ka,ka=vo(t.stateNode.containerInfo),Vt(s,t),Ht(t),ka=c;break;case 12:Vt(s,t),Ht(t);break;case 31:Vt(s,t),Ht(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ro(t,c)));break;case 13:Vt(s,t),Ht(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(lo=mt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ro(t,c)));break;case 22:h=t.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,X=Ka,ne=ct;if(Ka=X||h,ct=ne||U,Vt(s,t),ct=ne,Ka=X,Ht(t),c&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(l===null||U||Ka||ct||on(t)),l=null,s=t;;){if(s.tag===5||s.tag===26){if(l===null){U=l=s;try{if(g=U.stateNode,h)k=g.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{N=U.stateNode;var le=U.memoizedProps.style,Q=le!=null&&le.hasOwnProperty("display")?le.display:null;N.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ge){Ve(U,U.return,ge)}}}else if(s.tag===6){if(l===null){U=s;try{U.stateNode.nodeValue=h?"":U.memoizedProps}catch(ge){Ve(U,U.return,ge)}}}else if(s.tag===18){if(l===null){U=s;try{var se=U.stateNode;h?jp(se,!0):jp(U.stateNode,!1)}catch(ge){Ve(U,U.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,ro(t,l))));break;case 19:Vt(s,t),Ht(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,ro(t,c)));break;case 30:break;case 21:break;default:Vt(s,t),Ht(t)}}function Ht(t){var s=t.flags;if(s&2){try{for(var l,c=t.return;c!==null;){if(N0(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var h=l.stateNode,g=Yd(t);no(t,g,h);break;case 5:var k=l.stateNode;l.flags&32&&(Dn(k,""),l.flags&=-33);var N=Yd(t);no(t,N,k);break;case 3:case 4:var U=l.stateNode.containerInfo,X=Yd(t);Kd(t,X,U);break;default:throw Error(i(161))}}catch(ne){Ve(t,t.return,ne)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function R0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;R0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Wa(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)T0(t,s.alternate,s),s=s.sibling}function on(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:bs(4,s,s.return),on(s);break;case 1:za(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&j0(s,s.return,l),on(s);break;case 27:Si(s.stateNode);case 26:case 5:za(s,s.return),on(s);break;case 22:s.memoizedState===null&&on(s);break;case 30:on(s);break;default:on(s)}t=t.sibling}}function Xa(t,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=t,g=s,k=g.flags;switch(g.tag){case 0:case 11:case 15:Xa(h,g,l),fi(4,g);break;case 1:if(Xa(h,g,l),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(X){Ve(c,c.return,X)}if(c=g,h=c.updateQueue,h!==null){var N=c.stateNode;try{var U=h.shared.hiddenCallbacks;if(U!==null)for(h.shared.hiddenCallbacks=null,h=0;h<U.length;h++)ug(U[h],N)}catch(X){Ve(c,c.return,X)}}l&&k&64&&k0(g),gi(g,g.return);break;case 27:_0(g);case 26:case 5:Xa(h,g,l),l&&c===null&&k&4&&S0(g),gi(g,g.return);break;case 12:Xa(h,g,l);break;case 31:Xa(h,g,l),l&&k&4&&D0(h,g);break;case 13:Xa(h,g,l),l&&k&4&&z0(h,g);break;case 22:g.memoizedState===null&&Xa(h,g,l),gi(g,g.return);break;case 30:break;default:Xa(h,g,l)}s=s.sibling}}function Wd(t,s){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&ti(l))}function Xd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ti(t))}function ja(t,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)M0(t,s,l,c),s=s.sibling}function M0(t,s,l,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:ja(t,s,l,c),h&2048&&fi(9,s);break;case 1:ja(t,s,l,c);break;case 3:ja(t,s,l,c),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ti(t)));break;case 12:if(h&2048){ja(t,s,l,c),t=s.stateNode;try{var g=s.memoizedProps,k=g.id,N=g.onPostCommit;typeof N=="function"&&N(k,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(U){Ve(s,s.return,U)}}else ja(t,s,l,c);break;case 31:ja(t,s,l,c);break;case 13:ja(t,s,l,c);break;case 23:break;case 22:g=s.stateNode,k=s.alternate,s.memoizedState!==null?g._visibility&2?ja(t,s,l,c):pi(t,s):g._visibility&2?ja(t,s,l,c):(g._visibility|=2,Xn(t,s,l,c,(s.subtreeFlags&10256)!==0||!1)),h&2048&&Wd(k,s);break;case 24:ja(t,s,l,c),h&2048&&Xd(s.alternate,s);break;default:ja(t,s,l,c)}}function Xn(t,s,l,c,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=t,k=s,N=l,U=c,X=k.flags;switch(k.tag){case 0:case 11:case 15:Xn(g,k,N,U,h),fi(8,k);break;case 23:break;case 22:var ne=k.stateNode;k.memoizedState!==null?ne._visibility&2?Xn(g,k,N,U,h):pi(g,k):(ne._visibility|=2,Xn(g,k,N,U,h)),h&&X&2048&&Wd(k.alternate,k);break;case 24:Xn(g,k,N,U,h),h&&X&2048&&Xd(k.alternate,k);break;default:Xn(g,k,N,U,h)}s=s.sibling}}function pi(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=t,c=s,h=c.flags;switch(c.tag){case 22:pi(l,c),h&2048&&Wd(c.alternate,c);break;case 24:pi(l,c),h&2048&&Xd(c.alternate,c);break;default:pi(l,c)}s=s.sibling}}var yi=8192;function Qn(t,s,l){if(t.subtreeFlags&yi)for(t=t.child;t!==null;)L0(t,s,l),t=t.sibling}function L0(t,s,l){switch(t.tag){case 26:Qn(t,s,l),t.flags&yi&&t.memoizedState!==null&&Wk(l,ka,t.memoizedState,t.memoizedProps);break;case 5:Qn(t,s,l);break;case 3:case 4:var c=ka;ka=vo(t.stateNode.containerInfo),Qn(t,s,l),ka=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=yi,yi=16777216,Qn(t,s,l),yi=c):Qn(t,s,l));break;default:Qn(t,s,l)}}function U0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function xi(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];vt=c,P0(c,t)}U0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)B0(t),t=t.sibling}function B0(t){switch(t.tag){case 0:case 11:case 15:xi(t),t.flags&2048&&bs(9,t,t.return);break;case 3:xi(t);break;case 12:xi(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,io(t)):xi(t);break;default:xi(t)}}function io(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];vt=c,P0(c,t)}U0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:bs(8,s,s.return),io(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,io(s));break;default:io(s)}t=t.sibling}}function P0(t,s){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:bs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ti(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,vt=c;else e:for(l=t;vt!==null;){c=vt;var h=c.sibling,g=c.return;if(A0(c),c===l){vt=null;break e}if(h!==null){h.return=g,vt=h;break e}vt=g}}}var uk={getCacheForType:function(t){var s=Nt(it),l=s.data.get(t);return l===void 0&&(l=t(),s.data.set(t,l)),l},cacheSignal:function(){return Nt(it).controller.signal}},hk=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Ge=null,De=null,Oe=0,$e=0,Qt=null,vs=!1,Jn=!1,Qd=!1,Qa=0,et=0,ws=0,cn=0,Jd=0,Jt=0,er=0,bi=null,qt=null,eu=!1,lo=0,$0=0,oo=1/0,co=null,ks=null,gt=0,js=null,tr=null,Ja=0,tu=0,au=null,V0=null,vi=0,su=null;function ea(){return(Pe&2)!==0&&Oe!==0?Oe&-Oe:z.T!==null?cu():af()}function H0(){if(Jt===0)if((Oe&536870912)===0||Me){var t=yl;yl<<=1,(yl&3932160)===0&&(yl=262144),Jt=t}else Jt=536870912;return t=Wt.current,t!==null&&(t.flags|=32),Jt}function It(t,s,l){(t===Ge&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(ar(t,0),Ss(t,Oe,Jt,!1)),Vr(t,l),((Pe&2)===0||t!==Ge)&&(t===Ge&&((Pe&2)===0&&(cn|=l),et===4&&Ss(t,Oe,Jt,!1)),Oa(t))}function q0(t,s,l){if((Pe&6)!==0)throw Error(i(327));var c=!l&&(s&127)===0&&(s&t.expiredLanes)===0||$r(t,s),h=c?gk(t,s):ru(t,s,!0),g=c;do{if(h===0){Jn&&!c&&Ss(t,s,0,!1);break}else{if(l=t.current.alternate,g&&!mk(l)){h=ru(t,s,!1),g=!1;continue}if(h===2){if(g=s,t.errorRecoveryDisabledLanes&g)var k=0;else k=t.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){s=k;e:{var N=t;h=bi;var U=N.current.memoizedState.isDehydrated;if(U&&(ar(N,k).flags|=256),k=ru(N,k,!1),k!==2){if(Qd&&!U){N.errorRecoveryDisabledLanes|=g,cn|=g,h=4;break e}g=qt,qt=h,g!==null&&(qt===null?qt=g:qt.push.apply(qt,g))}h=k}if(g=!1,h!==2)continue}}if(h===1){ar(t,0),Ss(t,s,0,!0);break}e:{switch(c=t,g=h,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ss(c,s,Jt,!vs);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=lo+300-mt(),10<h)){if(Ss(c,s,Jt,!vs),bl(c,0,!0)!==0)break e;Ja=s,c.timeoutHandle=vp(I0.bind(null,c,l,qt,co,eu,s,Jt,cn,er,vs,g,"Throttled",-0,0),h);break e}I0(c,l,qt,co,eu,s,Jt,cn,er,vs,g,null,-0,0)}}break}while(!0);Oa(t)}function I0(t,s,l,c,h,g,k,N,U,X,ne,le,Q,se){if(t.timeoutHandle=-1,le=s.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ba},L0(s,g,le);var ge=(g&62914560)===g?lo-mt():(g&4194048)===g?$0-mt():0;if(ge=Xk(le,ge),ge!==null){Ja=g,t.cancelPendingCommit=ge(Q0.bind(null,t,s,g,l,c,h,k,N,U,ne,le,null,Q,se)),Ss(t,g,k,!X);return}}Q0(t,s,g,l,c,h,k,N,U)}function mk(t){for(var s=t;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var h=l[c],g=h.getSnapshot;h=h.value;try{if(!Kt(g(),h))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ss(t,s,l,c){s&=~Jd,s&=~cn,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var h=s;0<h;){var g=31-Yt(h),k=1<<g;c[g]=-1,h&=~k}l!==0&&Jm(t,l,s)}function uo(){return(Pe&6)===0?(wi(0),!1):!0}function nu(){if(De!==null){if($e===0)var t=De.return;else t=De,Ha=Js=null,vd(t),Fn=null,si=0,t=De;for(;t!==null;)w0(t.alternate,t),t=t.return;De=null}}function ar(t,s){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Ok(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Ja=0,nu(),Ge=t,De=l=$a(t.current,null),Oe=s,$e=0,Qt=null,vs=!1,Jn=$r(t,s),Qd=!1,er=Jt=Jd=cn=ws=et=0,qt=bi=null,eu=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var h=31-Yt(c),g=1<<h;s|=t[h],c&=~g}return Qa=s,Dl(),l}function G0(t,s){Ce=null,z.H=ui,s===Gn||s===Pl?(s=lg(),$e=3):s===od?(s=lg(),$e=4):$e=s===Ld?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qt=s,De===null&&(et=1,Jl(t,da(s,t.current)))}function F0(){var t=Wt.current;return t===null?!0:(Oe&4194048)===Oe?fa===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===fa:!1}function Y0(){var t=z.H;return z.H=ui,t===null?ui:t}function K0(){var t=z.A;return z.A=uk,t}function ho(){et=4,vs||(Oe&4194048)!==Oe&&Wt.current!==null||(Jn=!0),(ws&134217727)===0&&(cn&134217727)===0||Ge===null||Ss(Ge,Oe,Jt,!1)}function ru(t,s,l){var c=Pe;Pe|=2;var h=Y0(),g=K0();(Ge!==t||Oe!==s)&&(co=null,ar(t,s)),s=!1;var k=et;e:do try{if($e!==0&&De!==null){var N=De,U=Qt;switch($e){case 8:nu(),k=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(s=!0);var X=$e;if($e=0,Qt=null,sr(t,N,U,X),l&&Jn){k=0;break e}break;default:X=$e,$e=0,Qt=null,sr(t,N,U,X)}}fk(),k=et;break}catch(ne){G0(t,ne)}while(!0);return s&&t.shellSuspendCounter++,Ha=Js=null,Pe=c,z.H=h,z.A=g,De===null&&(Ge=null,Oe=0,Dl()),k}function fk(){for(;De!==null;)Z0(De)}function gk(t,s){var l=Pe;Pe|=2;var c=Y0(),h=K0();Ge!==t||Oe!==s?(co=null,oo=mt()+500,ar(t,s)):Jn=$r(t,s);e:do try{if($e!==0&&De!==null){s=De;var g=Qt;t:switch($e){case 1:$e=0,Qt=null,sr(t,s,g,1);break;case 2:case 9:if(rg(g)){$e=0,Qt=null,W0(s);break}s=function(){$e!==2&&$e!==9||Ge!==t||($e=7),Oa(t)},g.then(s,s);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:rg(g)?($e=0,Qt=null,W0(s)):($e=0,Qt=null,sr(t,s,g,7));break;case 5:var k=null;switch(De.tag){case 26:k=De.memoizedState;case 5:case 27:var N=De;if(k?Mp(k):N.stateNode.complete){$e=0,Qt=null;var U=N.sibling;if(U!==null)De=U;else{var X=N.return;X!==null?(De=X,mo(X)):De=null}break t}}$e=0,Qt=null,sr(t,s,g,5);break;case 6:$e=0,Qt=null,sr(t,s,g,6);break;case 8:nu(),et=6;break e;default:throw Error(i(462))}}pk();break}catch(ne){G0(t,ne)}while(!0);return Ha=Js=null,z.H=c,z.A=h,Pe=l,De!==null?0:(Ge=null,Oe=0,Dl(),et)}function pk(){for(;De!==null&&!fl();)Z0(De)}function Z0(t){var s=b0(t.alternate,t,Qa);t.memoizedProps=t.pendingProps,s===null?mo(t):De=s}function W0(t){var s=t,l=s.alternate;switch(s.tag){case 15:case 0:s=m0(l,s,s.pendingProps,s.type,void 0,Oe);break;case 11:s=m0(l,s,s.pendingProps,s.type.render,s.ref,Oe);break;case 5:vd(s);default:w0(l,s),s=De=Kf(s,Qa),s=b0(l,s,Qa)}t.memoizedProps=t.pendingProps,s===null?mo(t):De=s}function sr(t,s,l,c){Ha=Js=null,vd(s),Fn=null,si=0;var h=s.return;try{if(nk(t,h,s,l,Oe)){et=1,Jl(t,da(l,t.current)),De=null;return}}catch(g){if(h!==null)throw De=h,g;et=1,Jl(t,da(l,t.current)),De=null;return}s.flags&32768?(Me||c===1?t=!0:Jn||(Oe&536870912)!==0?t=!1:(vs=t=!0,(c===2||c===9||c===3||c===6)&&(c=Wt.current,c!==null&&c.tag===13&&(c.flags|=16384))),X0(s,t)):mo(s)}function mo(t){var s=t;do{if((s.flags&32768)!==0){X0(s,vs);return}t=s.return;var l=lk(s.alternate,s,Qa);if(l!==null){De=l;return}if(s=s.sibling,s!==null){De=s;return}De=s=t}while(s!==null);et===0&&(et=5)}function X0(t,s){do{var l=ok(t.alternate,t);if(l!==null){l.flags&=32767,De=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(t=t.sibling,t!==null)){De=t;return}De=t=l}while(t!==null);et=6,De=null}function Q0(t,s,l,c,h,g,k,N,U){t.cancelPendingCommit=null;do fo();while(gt!==0);if((Pe&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=Yc,Zw(t,l,g,k,N,U),t===Ge&&(De=Ge=null,Oe=0),tr=s,js=t,Ja=l,tu=g,au=h,V0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vk(Gt,function(){return sp(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=z.T,z.T=null,h=L.p,L.p=2,k=Pe,Pe|=4;try{ck(t,s,l)}finally{Pe=k,L.p=h,z.T=c}}gt=1,J0(),ep(),tp()}}function J0(){if(gt===1){gt=0;var t=js,s=tr,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var c=L.p;L.p=2;var h=Pe;Pe|=4;try{O0(s,t);var g=yu,k=Pf(t.containerInfo),N=g.focusedElem,U=g.selectionRange;if(k!==N&&N&&N.ownerDocument&&Bf(N.ownerDocument.documentElement,N)){if(U!==null&&Hc(N)){var X=U.start,ne=U.end;if(ne===void 0&&(ne=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(ne,N.value.length);else{var le=N.ownerDocument||document,Q=le&&le.defaultView||window;if(Q.getSelection){var se=Q.getSelection(),ge=N.textContent.length,we=Math.min(U.start,ge),Ie=U.end===void 0?we:Math.min(U.end,ge);!se.extend&&we>Ie&&(k=Ie,Ie=we,we=k);var Y=Uf(N,we),G=Uf(N,Ie);if(Y&&G&&(se.rangeCount!==1||se.anchorNode!==Y.node||se.anchorOffset!==Y.offset||se.focusNode!==G.node||se.focusOffset!==G.offset)){var W=le.createRange();W.setStart(Y.node,Y.offset),se.removeAllRanges(),we>Ie?(se.addRange(W),se.extend(G.node,G.offset)):(W.setEnd(G.node,G.offset),se.addRange(W))}}}}for(le=[],se=N;se=se.parentNode;)se.nodeType===1&&le.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<le.length;N++){var re=le[N];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}_o=!!pu,yu=pu=null}finally{Pe=h,L.p=c,z.T=l}}t.current=s,gt=2}}function ep(){if(gt===2){gt=0;var t=js,s=tr,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var c=L.p;L.p=2;var h=Pe;Pe|=4;try{T0(t,s.alternate,s)}finally{Pe=h,L.p=c,z.T=l}}gt=3}}function tp(){if(gt===4||gt===3){gt=0,qs();var t=js,s=tr,l=Ja,c=V0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gt=5:(gt=0,tr=js=null,ap(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ks=null),jc(l),s=s.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Pr,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=z.T,h=L.p,L.p=2,z.T=null;try{for(var g=t.onRecoverableError,k=0;k<c.length;k++){var N=c[k];g(N.value,{componentStack:N.stack})}}finally{z.T=s,L.p=h}}(Ja&3)!==0&&fo(),Oa(t),h=t.pendingLanes,(l&261930)!==0&&(h&42)!==0?t===su?vi++:(vi=0,su=t):vi=0,wi(0)}}function ap(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,ti(s)))}function fo(){return J0(),ep(),tp(),sp()}function sp(){if(gt!==5)return!1;var t=js,s=tu;tu=0;var l=jc(Ja),c=z.T,h=L.p;try{L.p=32>l?32:l,z.T=null,l=au,au=null;var g=js,k=Ja;if(gt=0,tr=js=null,Ja=0,(Pe&6)!==0)throw Error(i(331));var N=Pe;if(Pe|=4,B0(g.current),M0(g,g.current,k,l),Pe=N,wi(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Pr,g)}catch{}return!0}finally{L.p=h,z.T=c,ap(t,s)}}function np(t,s,l){s=da(l,s),s=Md(t.stateNode,s,2),t=ps(t,s,2),t!==null&&(Vr(t,2),Oa(t))}function Ve(t,s,l){if(t.tag===3)np(t,t,l);else for(;s!==null;){if(s.tag===3){np(s,t,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ks===null||!ks.has(c))){t=da(l,t),l=r0(2),c=ps(s,l,2),c!==null&&(i0(l,c,s,t),Vr(c,2),Oa(c));break}}s=s.return}}function iu(t,s,l){var c=t.pingCache;if(c===null){c=t.pingCache=new hk;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(l)||(Qd=!0,h.add(l),t=yk.bind(null,t,s,l),s.then(t,t))}function yk(t,s,l){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Ge===t&&(Oe&l)===l&&(et===4||et===3&&(Oe&62914560)===Oe&&300>mt()-lo?(Pe&2)===0&&ar(t,0):Jd|=l,er===Oe&&(er=0)),Oa(t)}function rp(t,s){s===0&&(s=Qm()),t=Ws(t,s),t!==null&&(Vr(t,s),Oa(t))}function xk(t){var s=t.memoizedState,l=0;s!==null&&(l=s.retryLane),rp(t,l)}function bk(t,s){var l=0;switch(t.tag){case 31:case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),rp(t,l)}function vk(t,s){return Aa(t,s)}var go=null,nr=null,lu=!1,po=!1,ou=!1,Ns=0;function Oa(t){t!==nr&&t.next===null&&(nr===null?go=nr=t:nr=nr.next=t),po=!0,lu||(lu=!0,kk())}function wi(t,s){if(!ou&&po){ou=!0;do for(var l=!1,c=go;c!==null;){if(t!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var k=c.suspendedLanes,N=c.pingedLanes;g=(1<<31-Yt(42|t)+1)-1,g&=h&~(k&~N),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,cp(c,g))}else g=Oe,g=bl(c,c===Ge?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||$r(c,g)||(l=!0,cp(c,g));c=c.next}while(l);ou=!1}}function wk(){ip()}function ip(){po=lu=!1;var t=0;Ns!==0&&zk()&&(t=Ns);for(var s=mt(),l=null,c=go;c!==null;){var h=c.next,g=lp(c,s);g===0?(c.next=null,l===null?go=h:l.next=h,h===null&&(nr=l)):(l=c,(t!==0||(g&3)!==0)&&(po=!0)),c=h}gt!==0&&gt!==5||wi(t),Ns!==0&&(Ns=0)}function lp(t,s){for(var l=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var k=31-Yt(g),N=1<<k,U=h[k];U===-1?((N&l)===0||(N&c)!==0)&&(h[k]=Kw(N,s)):U<=s&&(t.expiredLanes|=N),g&=~N}if(s=Ge,l=Oe,l=bl(t,t===s?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,l===0||t===s&&($e===2||$e===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&rs(c),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||$r(t,l)){if(s=l&-l,s===t.callbackPriority)return s;switch(c!==null&&rs(c),jc(l)){case 2:case 8:l=ft;break;case 32:l=Gt;break;case 268435456:l=gl;break;default:l=Gt}return c=op.bind(null,t),l=Aa(l,c),t.callbackPriority=s,t.callbackNode=l,s}return c!==null&&c!==null&&rs(c),t.callbackPriority=2,t.callbackNode=null,2}function op(t,s){if(gt!==0&&gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(fo()&&t.callbackNode!==l)return null;var c=Oe;return c=bl(t,t===Ge?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(q0(t,c,s),lp(t,mt()),t.callbackNode!=null&&t.callbackNode===l?op.bind(null,t):null)}function cp(t,s){if(fo())return null;q0(t,s,!0)}function kk(){Rk(function(){(Pe&6)!==0?Aa(me,wk):ip()})}function cu(){if(Ns===0){var t=qn;t===0&&(t=pl,pl<<=1,(pl&261888)===0&&(pl=256)),Ns=t}return Ns}function dp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:jl(""+t)}function up(t,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,t.id&&l.setAttribute("form",t.id),s.parentNode.insertBefore(l,s),t=new FormData(t),l.parentNode.removeChild(l),t}function jk(t,s,l,c,h){if(s==="submit"&&l&&l.stateNode===h){var g=dp((h[Bt]||null).action),k=c.submitter;k&&(s=(s=k[Bt]||null)?dp(s.formAction):k.getAttribute("formAction"),s!==null&&(g=s,k=null));var N=new Cl("action","action",null,c,h);t.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ns!==0){var U=k?up(h,k):new FormData(h);Ad(l,{pending:!0,data:U,method:h.method,action:g},null,U)}}else typeof g=="function"&&(N.preventDefault(),U=k?up(h,k):new FormData(h),Ad(l,{pending:!0,data:U,method:h.method,action:g},g,U))},currentTarget:h}]})}}for(var du=0;du<Fc.length;du++){var uu=Fc[du],Sk=uu.toLowerCase(),Nk=uu[0].toUpperCase()+uu.slice(1);wa(Sk,"on"+Nk)}wa(Hf,"onAnimationEnd"),wa(qf,"onAnimationIteration"),wa(If,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(V1,"onTransitionRun"),wa(H1,"onTransitionStart"),wa(q1,"onTransitionCancel"),wa(Gf,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_k=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ki));function hp(t,s){s=(s&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],h=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var k=c.length-1;0<=k;k--){var N=c[k],U=N.instance,X=N.currentTarget;if(N=N.listener,U!==g&&h.isPropagationStopped())break e;g=N,h.currentTarget=X;try{g(h)}catch(ne){El(ne)}h.currentTarget=null,g=U}else for(k=0;k<c.length;k++){if(N=c[k],U=N.instance,X=N.currentTarget,N=N.listener,U!==g&&h.isPropagationStopped())break e;g=N,h.currentTarget=X;try{g(h)}catch(ne){El(ne)}h.currentTarget=null,g=U}}}}function ze(t,s){var l=s[Sc];l===void 0&&(l=s[Sc]=new Set);var c=t+"__bubble";l.has(c)||(mp(s,t,2,!1),l.add(c))}function hu(t,s,l){var c=0;s&&(c|=4),mp(l,t,c,s)}var yo="_reactListening"+Math.random().toString(36).slice(2);function mu(t){if(!t[yo]){t[yo]=!0,rf.forEach(function(l){l!=="selectionchange"&&(_k.has(l)||hu(l,!1,t),hu(l,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[yo]||(s[yo]=!0,hu("selectionchange",!1,s))}}function mp(t,s,l,c){switch(Hp(s)){case 2:var h=e2;break;case 8:h=t2;break;default:h=Tu}l=h.bind(null,s,l,t),h=void 0,!Oc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(s,l,{capture:!0,passive:h}):t.addEventListener(s,l,!0):h!==void 0?t.addEventListener(s,l,{passive:h}):t.addEventListener(s,l,!1)}function fu(t,s,l,c,h){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var k=c.tag;if(k===3||k===4){var N=c.stateNode.containerInfo;if(N===h)break;if(k===4)for(k=c.return;k!==null;){var U=k.tag;if((U===3||U===4)&&k.stateNode.containerInfo===h)return;k=k.return}for(;N!==null;){if(k=_n(N),k===null)return;if(U=k.tag,U===5||U===6||U===26||U===27){c=g=k;continue e}N=N.parentNode}}c=c.return}xf(function(){var X=g,ne=Dc(l),le=[];e:{var Q=Ff.get(t);if(Q!==void 0){var se=Cl,ge=t;switch(t){case"keypress":if(Nl(l)===0)break e;case"keydown":case"keyup":se=b1;break;case"focusin":ge="focus",se=Uc;break;case"focusout":ge="blur",se=Uc;break;case"beforeblur":case"afterblur":se=Uc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=l1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=k1;break;case Hf:case qf:case If:se=d1;break;case Gf:se=S1;break;case"scroll":case"scrollend":se=r1;break;case"wheel":se=_1;break;case"copy":case"cut":case"paste":se=h1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=jf;break;case"toggle":case"beforetoggle":se=T1}var we=(s&4)!==0,Ie=!we&&(t==="scroll"||t==="scrollend"),Y=we?Q!==null?Q+"Capture":null:Q;we=[];for(var G=X,W;G!==null;){var re=G;if(W=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||W===null||Y===null||(re=Ir(G,Y),re!=null&&we.push(ji(G,re,W))),Ie)break;G=G.return}0<we.length&&(Q=new se(Q,ge,null,l,ne),le.push({event:Q,listeners:we}))}}if((s&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",Q&&l!==Ec&&(ge=l.relatedTarget||l.fromElement)&&(_n(ge)||ge[Nn]))break e;if((se||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,se?(ge=l.relatedTarget||l.toElement,se=X,ge=ge?_n(ge):null,ge!==null&&(Ie=d(ge),we=ge.tag,ge!==Ie||we!==5&&we!==27&&we!==6)&&(ge=null)):(se=null,ge=X),se!==ge)){if(we=wf,re="onMouseLeave",Y="onMouseEnter",G="mouse",(t==="pointerout"||t==="pointerover")&&(we=jf,re="onPointerLeave",Y="onPointerEnter",G="pointer"),Ie=se==null?Q:qr(se),W=ge==null?Q:qr(ge),Q=new we(re,G+"leave",se,l,ne),Q.target=Ie,Q.relatedTarget=W,re=null,_n(ne)===X&&(we=new we(Y,G+"enter",ge,l,ne),we.target=W,we.relatedTarget=Ie,re=we),Ie=re,se&&ge)t:{for(we=Ck,Y=se,G=ge,W=0,re=Y;re;re=we(re))W++;re=0;for(var ve=G;ve;ve=we(ve))re++;for(;0<W-re;)Y=we(Y),W--;for(;0<re-W;)G=we(G),re--;for(;W--;){if(Y===G||G!==null&&Y===G.alternate){we=Y;break t}Y=we(Y),G=we(G)}we=null}else we=null;se!==null&&fp(le,Q,se,we,!1),ge!==null&&Ie!==null&&fp(le,Ie,ge,we,!0)}}e:{if(Q=X?qr(X):window,se=Q.nodeName&&Q.nodeName.toLowerCase(),se==="select"||se==="input"&&Q.type==="file")var Le=Df;else if(Af(Q))if(zf)Le=B1;else{Le=L1;var ye=M1}else se=Q.nodeName,!se||se.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?X&&Ac(X.elementType)&&(Le=Df):Le=U1;if(Le&&(Le=Le(t,X))){Ef(le,Le,l,ne);break e}ye&&ye(t,Q,X),t==="focusout"&&X&&Q.type==="number"&&X.memoizedProps.value!=null&&Tc(Q,"number",Q.value)}switch(ye=X?qr(X):window,t){case"focusin":(Af(ye)||ye.contentEditable==="true")&&(Mn=ye,qc=X,Qr=null);break;case"focusout":Qr=qc=Mn=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,$f(le,l,ne);break;case"selectionchange":if($1)break;case"keydown":case"keyup":$f(le,l,ne)}var Te;if(Pc)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Rn?Cf(t,l)&&(Re="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(Sf&&l.locale!=="ko"&&(Rn||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Rn&&(Te=bf()):(cs=ne,Rc="value"in cs?cs.value:cs.textContent,Rn=!0)),ye=xo(X,Re),0<ye.length&&(Re=new kf(Re,t,null,l,ne),le.push({event:Re,listeners:ye}),Te?Re.data=Te:(Te=Tf(l),Te!==null&&(Re.data=Te)))),(Te=E1?D1(t,l):z1(t,l))&&(Re=xo(X,"onBeforeInput"),0<Re.length&&(ye=new kf("onBeforeInput","beforeinput",null,l,ne),le.push({event:ye,listeners:Re}),ye.data=Te)),jk(le,t,X,l,ne)}hp(le,s)})}function ji(t,s,l){return{instance:t,listener:s,currentTarget:l}}function xo(t,s){for(var l=s+"Capture",c=[];t!==null;){var h=t,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Ir(t,l),h!=null&&c.unshift(ji(t,h,g)),h=Ir(t,s),h!=null&&c.push(ji(t,h,g))),t.tag===3)return c;t=t.return}return[]}function Ck(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fp(t,s,l,c,h){for(var g=s._reactName,k=[];l!==null&&l!==c;){var N=l,U=N.alternate,X=N.stateNode;if(N=N.tag,U!==null&&U===c)break;N!==5&&N!==26&&N!==27||X===null||(U=X,h?(X=Ir(l,g),X!=null&&k.unshift(ji(l,X,U))):h||(X=Ir(l,g),X!=null&&k.push(ji(l,X,U)))),l=l.return}k.length!==0&&t.push({event:s,listeners:k})}var Tk=/\r\n?/g,Ak=/\u0000|\uFFFD/g;function gp(t){return(typeof t=="string"?t:""+t).replace(Tk,`
`).replace(Ak,"")}function pp(t,s){return s=gp(s),gp(t)===s}function qe(t,s,l,c,h,g){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Dn(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Dn(t,""+c);break;case"className":wl(t,"class",c);break;case"tabIndex":wl(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":wl(t,l,c);break;case"style":pf(t,c,g);break;case"data":if(s!=="object"){wl(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){t.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=jl(""+c),t.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&qe(t,s,"name",h.name,h,null),qe(t,s,"formEncType",h.formEncType,h,null),qe(t,s,"formMethod",h.formMethod,h,null),qe(t,s,"formTarget",h.formTarget,h,null)):(qe(t,s,"encType",h.encType,h,null),qe(t,s,"method",h.method,h,null),qe(t,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=jl(""+c),t.setAttribute(l,c);break;case"onClick":c!=null&&(t.onclick=Ba);break;case"onScroll":c!=null&&ze("scroll",t);break;case"onScrollEnd":c!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}l=jl(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""+c):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":c===!0?t.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,c):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(l,c):t.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(l):t.setAttribute(l,c);break;case"popover":ze("beforetoggle",t),ze("toggle",t),vl(t,"popover",c);break;case"xlinkActuate":Ua(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ua(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ua(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ua(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ua(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ua(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ua(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ua(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ua(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":vl(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=s1.get(l)||l,vl(t,l,c))}}function gu(t,s,l,c,h,g){switch(l){case"style":pf(t,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"children":typeof c=="string"?Dn(t,c):(typeof c=="number"||typeof c=="bigint")&&Dn(t,""+c);break;case"onScroll":c!=null&&ze("scroll",t);break;case"onScrollEnd":c!=null&&ze("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lf.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),s=l.slice(2,h?l.length-7:void 0),g=t[Bt]||null,g=g!=null?g[l]:null,typeof g=="function"&&t.removeEventListener(s,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(s,c,h);break e}l in t?t[l]=c:c===!0?t.setAttribute(l,""):vl(t,l,c)}}}function Ct(t,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var c=!1,h=!1,g;for(g in l)if(l.hasOwnProperty(g)){var k=l[g];if(k!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:qe(t,s,g,k,l,null)}}h&&qe(t,s,"srcSet",l.srcSet,l,null),c&&qe(t,s,"src",l.src,l,null);return;case"input":ze("invalid",t);var N=g=k=h=null,U=null,X=null;for(c in l)if(l.hasOwnProperty(c)){var ne=l[c];if(ne!=null)switch(c){case"name":h=ne;break;case"type":k=ne;break;case"checked":U=ne;break;case"defaultChecked":X=ne;break;case"value":g=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:qe(t,s,c,ne,l,null)}}hf(t,g,N,U,X,k,h,!1);return;case"select":ze("invalid",t),c=k=g=null;for(h in l)if(l.hasOwnProperty(h)&&(N=l[h],N!=null))switch(h){case"value":g=N;break;case"defaultValue":k=N;break;case"multiple":c=N;default:qe(t,s,h,N,l,null)}s=g,l=k,t.multiple=!!c,s!=null?En(t,!!c,s,!1):l!=null&&En(t,!!c,l,!0);return;case"textarea":ze("invalid",t),g=h=c=null;for(k in l)if(l.hasOwnProperty(k)&&(N=l[k],N!=null))switch(k){case"value":c=N;break;case"defaultValue":h=N;break;case"children":g=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:qe(t,s,k,N,l,null)}ff(t,c,h,g);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(c=l[U],c!=null))switch(U){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:qe(t,s,U,c,l,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(c=0;c<ki.length;c++)ze(ki[c],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(c=l[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:qe(t,s,X,c,l,null)}return;default:if(Ac(s)){for(ne in l)l.hasOwnProperty(ne)&&(c=l[ne],c!==void 0&&gu(t,s,ne,c,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null&&qe(t,s,N,c,l,null))}function Ek(t,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,k=null,N=null,U=null,X=null,ne=null;for(se in l){var le=l[se];if(l.hasOwnProperty(se)&&le!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":U=le;default:c.hasOwnProperty(se)||qe(t,s,se,null,c,le)}}for(var Q in c){var se=c[Q];if(le=l[Q],c.hasOwnProperty(Q)&&(se!=null||le!=null))switch(Q){case"type":g=se;break;case"name":h=se;break;case"checked":X=se;break;case"defaultChecked":ne=se;break;case"value":k=se;break;case"defaultValue":N=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:se!==le&&qe(t,s,Q,se,c,le)}}Cc(t,k,N,U,X,ne,g,h);return;case"select":se=k=N=Q=null;for(g in l)if(U=l[g],l.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":se=U;default:c.hasOwnProperty(g)||qe(t,s,g,null,c,U)}for(h in c)if(g=c[h],U=l[h],c.hasOwnProperty(h)&&(g!=null||U!=null))switch(h){case"value":Q=g;break;case"defaultValue":N=g;break;case"multiple":k=g;default:g!==U&&qe(t,s,h,g,c,U)}s=N,l=k,c=se,Q!=null?En(t,!!l,Q,!1):!!c!=!!l&&(s!=null?En(t,!!l,s,!0):En(t,!!l,l?[]:"",!1));return;case"textarea":se=Q=null;for(N in l)if(h=l[N],l.hasOwnProperty(N)&&h!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:qe(t,s,N,null,c,h)}for(k in c)if(h=c[k],g=l[k],c.hasOwnProperty(k)&&(h!=null||g!=null))switch(k){case"value":Q=h;break;case"defaultValue":se=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&qe(t,s,k,h,c,g)}mf(t,Q,se);return;case"option":for(var ge in l)if(Q=l[ge],l.hasOwnProperty(ge)&&Q!=null&&!c.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:qe(t,s,ge,null,c,Q)}for(U in c)if(Q=c[U],se=l[U],c.hasOwnProperty(U)&&Q!==se&&(Q!=null||se!=null))switch(U){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:qe(t,s,U,Q,c,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in l)Q=l[we],l.hasOwnProperty(we)&&Q!=null&&!c.hasOwnProperty(we)&&qe(t,s,we,null,c,Q);for(X in c)if(Q=c[X],se=l[X],c.hasOwnProperty(X)&&Q!==se&&(Q!=null||se!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:qe(t,s,X,Q,c,se)}return;default:if(Ac(s)){for(var Ie in l)Q=l[Ie],l.hasOwnProperty(Ie)&&Q!==void 0&&!c.hasOwnProperty(Ie)&&gu(t,s,Ie,void 0,c,Q);for(ne in c)Q=c[ne],se=l[ne],!c.hasOwnProperty(ne)||Q===se||Q===void 0&&se===void 0||gu(t,s,ne,Q,c,se);return}}for(var Y in l)Q=l[Y],l.hasOwnProperty(Y)&&Q!=null&&!c.hasOwnProperty(Y)&&qe(t,s,Y,null,c,Q);for(le in c)Q=c[le],se=l[le],!c.hasOwnProperty(le)||Q===se||Q==null&&se==null||qe(t,s,le,Q,c,se)}function yp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dk(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var h=l[c],g=h.transferSize,k=h.initiatorType,N=h.duration;if(g&&N&&yp(k)){for(k=0,N=h.responseEnd,c+=1;c<l.length;c++){var U=l[c],X=U.startTime;if(X>N)break;var ne=U.transferSize,le=U.initiatorType;ne&&yp(le)&&(U=U.responseEnd,k+=ne*(U<N?1:(N-X)/(U-X)))}if(--c,s+=8*(g+k)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pu=null,yu=null;function bo(t){return t.nodeType===9?t:t.ownerDocument}function xp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bp(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function xu(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bu=null;function zk(){var t=window.event;return t&&t.type==="popstate"?t===bu?!1:(bu=t,!0):(bu=null,!1)}var vp=typeof setTimeout=="function"?setTimeout:void 0,Ok=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,Rk=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(t){return wp.resolve(null).then(t).catch(Mk)}:vp;function Mk(t){setTimeout(function(){throw t})}function _s(t){return t==="head"}function kp(t,s){var l=s,c=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"||l==="/&"){if(c===0){t.removeChild(h),or(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Si(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,Si(l);for(var g=l.firstChild;g;){var k=g.nextSibling,N=g.nodeName;g[Hr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=k}}else l==="body"&&Si(t.ownerDocument.body);l=h}while(l);or(s)}function jp(t,s){var l=t;t=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=c}while(l)}function vu(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":vu(l),Nc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Lk(t,s,l,c){for(;t.nodeType===1;){var h=l;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Hr])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=ga(t.nextSibling),t===null)break}return null}function Uk(t,s,l){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=ga(t.nextSibling),t===null))return null;return t}function Sp(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ga(t.nextSibling),t===null))return null;return t}function wu(t){return t.data==="$?"||t.data==="$~"}function ku(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Bk(t,s){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function ga(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var ju=null;function Np(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(s===0)return ga(t.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}t=t.nextSibling}return null}function _p(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return t;s--}else l!=="/$"&&l!=="/&"||s++}t=t.previousSibling}return null}function Cp(t,s,l){switch(s=bo(l),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Si(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Nc(t)}var pa=new Map,Tp=new Set;function vo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=L.d;L.d={f:Pk,r:$k,D:Vk,C:Hk,L:qk,m:Ik,X:Fk,S:Gk,M:Yk};function Pk(){var t=es.f(),s=uo();return t||s}function $k(t){var s=Cn(t);s!==null&&s.tag===5&&s.type==="form"?Gg(s):es.r(t)}var rr=typeof document>"u"?null:document;function Ap(t,s,l){var c=rr;if(c&&typeof s=="string"&&s){var h=oa(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),Tp.has(h)||(Tp.add(h),t={rel:t,crossOrigin:l,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),Ct(s,"link",t),bt(s),c.head.appendChild(s)))}}function Vk(t){es.D(t),Ap("dns-prefetch",t,null)}function Hk(t,s){es.C(t,s),Ap("preconnect",t,s)}function qk(t,s,l){es.L(t,s,l);var c=rr;if(c&&t&&s){var h='link[rel="preload"][as="'+oa(s)+'"]';s==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+oa(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+oa(l.imageSizes)+'"]')):h+='[href="'+oa(t)+'"]';var g=h;switch(s){case"style":g=ir(t);break;case"script":g=lr(t)}pa.has(g)||(t=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:t,as:s},l),pa.set(g,t),c.querySelector(h)!==null||s==="style"&&c.querySelector(Ni(g))||s==="script"&&c.querySelector(_i(g))||(s=c.createElement("link"),Ct(s,"link",t),bt(s),c.head.appendChild(s)))}}function Ik(t,s){es.m(t,s);var l=rr;if(l&&t){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+oa(c)+'"][href="'+oa(t)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=lr(t)}if(!pa.has(g)&&(t=v({rel:"modulepreload",href:t},s),pa.set(g,t),l.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(_i(g)))return}c=l.createElement("link"),Ct(c,"link",t),bt(c),l.head.appendChild(c)}}}function Gk(t,s,l){es.S(t,s,l);var c=rr;if(c&&t){var h=Tn(c).hoistableStyles,g=ir(t);s=s||"default";var k=h.get(g);if(!k){var N={loading:0,preload:null};if(k=c.querySelector(Ni(g)))N.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":s},l),(l=pa.get(g))&&Su(t,l);var U=k=c.createElement("link");bt(U),Ct(U,"link",t),U._p=new Promise(function(X,ne){U.onload=X,U.onerror=ne}),U.addEventListener("load",function(){N.loading|=1}),U.addEventListener("error",function(){N.loading|=2}),N.loading|=4,wo(k,s,c)}k={type:"stylesheet",instance:k,count:1,state:N},h.set(g,k)}}}function Fk(t,s){es.X(t,s);var l=rr;if(l&&t){var c=Tn(l).hoistableScripts,h=lr(t),g=c.get(h);g||(g=l.querySelector(_i(h)),g||(t=v({src:t,async:!0},s),(s=pa.get(h))&&Nu(t,s),g=l.createElement("script"),bt(g),Ct(g,"link",t),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function Yk(t,s){es.M(t,s);var l=rr;if(l&&t){var c=Tn(l).hoistableScripts,h=lr(t),g=c.get(h);g||(g=l.querySelector(_i(h)),g||(t=v({src:t,async:!0,type:"module"},s),(s=pa.get(h))&&Nu(t,s),g=l.createElement("script"),bt(g),Ct(g,"link",t),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function Ep(t,s,l,c){var h=(h=ke.current)?vo(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ir(l.href),l=Tn(h).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=ir(l.href);var g=Tn(h).hoistableStyles,k=g.get(t);if(k||(h=h.ownerDocument||h,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,k),(g=h.querySelector(Ni(t)))&&!g._p&&(k.instance=g,k.state.loading=5),pa.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pa.set(t,l),g||Kk(h,t,l,k.state))),s&&c===null)throw Error(i(528,""));return k}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lr(l),l=Tn(h).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function ir(t){return'href="'+oa(t)+'"'}function Ni(t){return'link[rel="stylesheet"]['+t+"]"}function Dp(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Kk(t,s,l,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Ct(s,"link",l),bt(s),t.head.appendChild(s))}function lr(t){return'[src="'+oa(t)+'"]'}function _i(t){return"script[async]"+t}function zp(t,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+oa(l.href)+'"]');if(c)return s.instance=c,bt(c),c;var h=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),bt(c),Ct(c,"style",h),wo(c,l.precedence,t),s.instance=c;case"stylesheet":h=ir(l.href);var g=t.querySelector(Ni(h));if(g)return s.state.loading|=4,s.instance=g,bt(g),g;c=Dp(l),(h=pa.get(h))&&Su(c,h),g=(t.ownerDocument||t).createElement("link"),bt(g);var k=g;return k._p=new Promise(function(N,U){k.onload=N,k.onerror=U}),Ct(g,"link",c),s.state.loading|=4,wo(g,l.precedence,t),s.instance=g;case"script":return g=lr(l.src),(h=t.querySelector(_i(g)))?(s.instance=h,bt(h),h):(c=l,(h=pa.get(g))&&(c=v({},l),Nu(c,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Ct(h,"link",c),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,wo(c,l.precedence,t));return s.instance}function wo(t,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,k=0;k<c.length;k++){var N=c[k];if(N.dataset.precedence===s)g=N;else if(g!==h)break}g?g.parentNode.insertBefore(t,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(t,s.firstChild))}function Su(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Nu(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var ko=null;function Op(t,s,l){if(ko===null){var c=new Map,h=ko=new Map;h.set(l,c)}else h=ko,c=h.get(l),c||(c=new Map,h.set(l,c));if(c.has(t))return c;for(c.set(t,null),l=l.getElementsByTagName(t),h=0;h<l.length;h++){var g=l[h];if(!(g[Hr]||g[jt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var k=g.getAttribute(s)||"";k=t+k;var N=c.get(k);N?N.push(g):c.set(k,[g])}}return c}function Rp(t,s,l){t=t.ownerDocument||t,t.head.insertBefore(l,s==="title"?t.querySelector("head > title"):null)}function Zk(t,s,l){if(l===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Mp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Wk(t,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var h=ir(c.href),g=s.querySelector(Ni(h));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=jo.bind(t),s.then(t,t)),l.state.loading|=4,l.instance=g,bt(g);return}g=s.ownerDocument||s,c=Dp(c),(h=pa.get(h))&&Su(c,h),g=g.createElement("link"),bt(g);var k=g;k._p=new Promise(function(N,U){k.onload=N,k.onerror=U}),Ct(g,"link",c),l.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=jo.bind(t),s.addEventListener("load",l),s.addEventListener("error",l))}}var _u=0;function Xk(t,s){return t.stylesheets&&t.count===0&&No(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var c=setTimeout(function(){if(t.stylesheets&&No(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+s);0<t.imgBytes&&_u===0&&(_u=62500*Dk());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&No(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>_u?50:800)+s);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function jo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)No(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var So=null;function No(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,So=new Map,s.forEach(Qk,t),So=null,jo.call(t))}function Qk(t,s){if(!(s.state.loading&4)){var l=So.get(t);if(l)var c=l.get(null);else{l=new Map,So.set(t,l);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var k=h[g];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(l.set(k.dataset.precedence,k),c=k)}c&&l.set(null,c)}h=s.instance,k=h.getAttribute("data-precedence"),g=l.get(k)||c,g===c&&l.set(null,h),l.set(k,h),this.count++,c=jo.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var Ci={$$typeof:_,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Jk(t,s,l,c,h,g,k,N,U){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.hiddenUpdates=wc(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Lp(t,s,l,c,h,g,k,N,U,X,ne,le){return t=new Jk(t,s,l,k,U,X,ne,le,N),s=1,g===!0&&(s|=24),g=Zt(3,null,null,s),t.current=g,g.stateNode=t,s=rd(),s.refCount++,t.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:s},cd(g),t}function Up(t){return t?(t=Bn,t):Bn}function Bp(t,s,l,c,h,g){h=Up(h),c.context===null?c.context=h:c.pendingContext=h,c=gs(s),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=ps(t,c,s),l!==null&&(It(l,t,s),ri(l,t,s))}function Pp(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<s?l:s}}function Cu(t,s){Pp(t,s),(t=t.alternate)&&Pp(t,s)}function $p(t){if(t.tag===13||t.tag===31){var s=Ws(t,67108864);s!==null&&It(s,t,67108864),Cu(t,67108864)}}function Vp(t){if(t.tag===13||t.tag===31){var s=ea();s=kc(s);var l=Ws(t,s);l!==null&&It(l,t,s),Cu(t,s)}}var _o=!0;function e2(t,s,l,c){var h=z.T;z.T=null;var g=L.p;try{L.p=2,Tu(t,s,l,c)}finally{L.p=g,z.T=h}}function t2(t,s,l,c){var h=z.T;z.T=null;var g=L.p;try{L.p=8,Tu(t,s,l,c)}finally{L.p=g,z.T=h}}function Tu(t,s,l,c){if(_o){var h=Au(c);if(h===null)fu(t,s,c,Co,l),qp(t,c);else if(s2(h,t,s,l,c))c.stopPropagation();else if(qp(t,c),s&4&&-1<a2.indexOf(t)){for(;h!==null;){var g=Cn(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var k=Gs(g.pendingLanes);if(k!==0){var N=g;for(N.pendingLanes|=2,N.entangledLanes|=2;k;){var U=1<<31-Yt(k);N.entanglements[1]|=U,k&=~U}Oa(g),(Pe&6)===0&&(oo=mt()+500,wi(0))}}break;case 31:case 13:N=Ws(g,2),N!==null&&It(N,g,2),uo(),Cu(g,2)}if(g=Au(c),g===null&&fu(t,s,c,Co,l),g===h)break;h=g}h!==null&&c.stopPropagation()}else fu(t,s,c,null,l)}}function Au(t){return t=Dc(t),Eu(t)}var Co=null;function Eu(t){if(Co=null,t=_n(t),t!==null){var s=d(t);if(s===null)t=null;else{var l=s.tag;if(l===13){if(t=u(s),t!==null)return t;t=null}else if(l===31){if(t=m(s),t!==null)return t;t=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Co=t,null}function Hp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Is()){case me:return 2;case ft:return 8;case Gt:case is:return 32;case gl:return 268435456;default:return 32}default:return 32}}var Du=!1,Cs=null,Ts=null,As=null,Ti=new Map,Ai=new Map,Es=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qp(t,s){switch(t){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Ti.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(s.pointerId)}}function Ei(t,s,l,c,h,g){return t===null||t.nativeEvent!==g?(t={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},s!==null&&(s=Cn(s),s!==null&&$p(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function s2(t,s,l,c,h){switch(s){case"focusin":return Cs=Ei(Cs,t,s,l,c,h),!0;case"dragenter":return Ts=Ei(Ts,t,s,l,c,h),!0;case"mouseover":return As=Ei(As,t,s,l,c,h),!0;case"pointerover":var g=h.pointerId;return Ti.set(g,Ei(Ti.get(g)||null,t,s,l,c,h)),!0;case"gotpointercapture":return g=h.pointerId,Ai.set(g,Ei(Ai.get(g)||null,t,s,l,c,h)),!0}return!1}function Ip(t){var s=_n(t.target);if(s!==null){var l=d(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){t.blockedOn=s,sf(t.priority,function(){Vp(l)});return}}else if(s===31){if(s=m(l),s!==null){t.blockedOn=s,sf(t.priority,function(){Vp(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function To(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var l=Au(t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);Ec=c,l.target.dispatchEvent(c),Ec=null}else return s=Cn(l),s!==null&&$p(s),t.blockedOn=l,!1;s.shift()}return!0}function Gp(t,s,l){To(t)&&l.delete(s)}function n2(){Du=!1,Cs!==null&&To(Cs)&&(Cs=null),Ts!==null&&To(Ts)&&(Ts=null),As!==null&&To(As)&&(As=null),Ti.forEach(Gp),Ai.forEach(Gp)}function Ao(t,s){t.blockedOn===s&&(t.blockedOn=null,Du||(Du=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,n2)))}var Eo=null;function Fp(t){Eo!==t&&(Eo=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Eo===t&&(Eo=null);for(var s=0;s<t.length;s+=3){var l=t[s],c=t[s+1],h=t[s+2];if(typeof c!="function"){if(Eu(c||l)===null)continue;break}var g=Cn(l);g!==null&&(t.splice(s,3),s-=3,Ad(g,{pending:!0,data:h,method:l.method,action:c},c,h))}}))}function or(t){function s(U){return Ao(U,t)}Cs!==null&&Ao(Cs,t),Ts!==null&&Ao(Ts,t),As!==null&&Ao(As,t),Ti.forEach(s),Ai.forEach(s);for(var l=0;l<Es.length;l++){var c=Es[l];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Es.length&&(l=Es[0],l.blockedOn===null);)Ip(l),l.blockedOn===null&&Es.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var h=l[c],g=l[c+1],k=h[Bt]||null;if(typeof g=="function")k||Fp(l);else if(k){var N=null;if(g&&g.hasAttribute("formAction")){if(h=g,k=g[Bt]||null)N=k.formAction;else if(Eu(h)!==null)continue}else N=k.action;typeof N=="function"?l[c+1]=N:(l.splice(c,3),c-=3),Fp(l)}}}function Yp(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(k){return h=k})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function zu(t){this._internalRoot=t}Do.prototype.render=zu.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=ea();Bp(l,c,t,s,null,null)},Do.prototype.unmount=zu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Bp(t.current,2,null,t,null,null),uo(),s[Nn]=null}};function Do(t){this._internalRoot=t}Do.prototype.unstable_scheduleHydration=function(t){if(t){var s=af();t={blockedOn:null,target:t,priority:s};for(var l=0;l<Es.length&&s!==0&&s<Es[l].priority;l++);Es.splice(l,0,t),l===0&&Ip(t)}};var Kp=e.version;if(Kp!=="19.2.3")throw Error(i(527,Kp,"19.2.3"));L.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(s),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var r2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zo.isDisabled&&zo.supportsFiber)try{Pr=zo.inject(r2),Ft=zo}catch{}}return zi.createRoot=function(t,s){if(!o(t))throw Error(i(299));var l=!1,c="",h=t0,g=a0,k=s0;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError)),s=Lp(t,1,!1,null,null,l,c,null,h,g,k,Yp),t[Nn]=s.current,mu(t),new zu(s)},zi.hydrateRoot=function(t,s,l){if(!o(t))throw Error(i(299));var c=!1,h="",g=t0,k=a0,N=s0,U=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(k=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.formState!==void 0&&(U=l.formState)),s=Lp(t,1,!0,s,l??null,c,h,U,g,k,N,Yp),s.context=Up(null),l=s.current,c=ea(),c=kc(c),h=gs(c),h.callback=null,ps(l,h,c),l=c,s.current.lanes=l,Vr(s,l),Oa(s),t[Nn]=s.current,mu(t),new Do(s)},zi.version="19.2.3",zi}var ny;function g2(){if(ny)return Mu.exports;ny=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Mu.exports=f2(),Mu.exports}var p2=g2();const y2=gb(p2);/*! Capacitor: https://capacitorjs.com/ - MIT License */var Tr;(function(a){a.Unimplemented="UNIMPLEMENTED",a.Unavailable="UNAVAILABLE"})(Tr||(Tr={}));class Pu extends Error{constructor(e,n,i){super(e),this.message=e,this.code=n,this.data=i}}const x2=a=>{var e,n;return a!=null&&a.androidBridge?"android":!((n=(e=a==null?void 0:a.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},b2=a=>{const e=a.CapacitorCustomPlatform||null,n=a.Capacitor||{},i=n.Plugins=n.Plugins||{},o=()=>e!==null?e.name:x2(a),d=()=>o()!=="web",u=v=>{const w=p.get(v);return!!(w!=null&&w.platforms.has(o())||m(v))},m=v=>{var w;return(w=n.PluginHeaders)===null||w===void 0?void 0:w.find(j=>j.name===v)},f=v=>a.console.error(v),p=new Map,y=(v,w={})=>{const j=p.get(v);if(j)return console.warn(`Capacitor plugin "${v}" already registered. Cannot register plugins twice.`),j.proxy;const S=o(),T=m(v);let E;const A=async()=>(!E&&S in w?E=typeof w[S]=="function"?E=await w[S]():E=w[S]:e!==null&&!E&&"web"in w&&(E=typeof w.web=="function"?E=await w.web():E=w.web),E),D=(B,q)=>{var ae,M;if(T){const P=T==null?void 0:T.methods.find(R=>q===R.name);if(P)return P.rtype==="promise"?R=>n.nativePromise(v,q.toString(),R):(R,ee)=>n.nativeCallback(v,q.toString(),R,ee);if(B)return(ae=B[q])===null||ae===void 0?void 0:ae.bind(B)}else{if(B)return(M=B[q])===null||M===void 0?void 0:M.bind(B);throw new Pu(`"${v}" plugin is not implemented on ${S}`,Tr.Unimplemented)}},_=B=>{let q;const ae=(...M)=>{const P=A().then(R=>{const ee=D(R,B);if(ee){const F=ee(...M);return q=F==null?void 0:F.remove,F}else throw new Pu(`"${v}.${B}()" is not implemented on ${S}`,Tr.Unimplemented)});return B==="addListener"&&(P.remove=async()=>q()),P};return ae.toString=()=>`${B.toString()}() { [capacitor code] }`,Object.defineProperty(ae,"name",{value:B,writable:!1,configurable:!1}),ae},C=_("addListener"),H=_("removeListener"),V=(B,q)=>{const ae=C({eventName:B},q),M=async()=>{const R=await ae;H({eventName:B,callbackId:R},q)},P=new Promise(R=>ae.then(()=>R({remove:M})));return P.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await M()},P},$=new Proxy({},{get(B,q){switch(q){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return T?V:C;case"removeListener":return H;default:return _(q)}}});return i[v]=$,p.set(v,{name:v,proxy:$,platforms:new Set([...Object.keys(w),...T?[S]:[]])}),$};return n.convertFileSrc||(n.convertFileSrc=v=>v),n.getPlatform=o,n.handleError=f,n.isNativePlatform=d,n.isPluginAvailable=u,n.registerPlugin=y,n.Exception=Pu,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},v2=a=>a.Capacitor=b2(a),Fo=v2(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),im=Fo.registerPlugin;class lm{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let i=!1;this.listeners[e]||(this.listeners[e]=[],i=!0),this.listeners[e].push(n);const d=this.windowListeners[e];d&&!d.registered&&this.addWindowListener(d),i&&this.sendRetainedArgumentsForEvent(e);const u=async()=>this.removeListener(e,n);return Promise.resolve({remove:u})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,i){const o=this.listeners[e];if(!o){if(i){let d=this.retainedEventArguments[e];d||(d=[]),d.push(n),this.retainedEventArguments[e]=d}return}o.forEach(d=>d(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(e="not implemented"){return new Fo.Exception(e,Tr.Unimplemented)}unavailable(e="not available"){return new Fo.Exception(e,Tr.Unavailable)}async removeListener(e,n){const i=this.listeners[e];if(!i)return;const o=i.indexOf(n);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(i=>{this.notifyListeners(e,i)}))}}const ry=a=>encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),iy=a=>a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class w2 extends lm{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[o,d]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=iy(o).trim(),d=iy(d).trim(),n[o]=d}),n}async setCookie(e){try{const n=ry(e.key),i=ry(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,d=(e.path||"/").replace("path=",""),u=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${i||""}${o}; path=${d}; ${u};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}im("CapacitorCookies",{web:()=>new w2});const k2=async a=>new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{const o=i.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},i.onerror=o=>n(o),i.readAsDataURL(a)}),j2=(a={})=>{const e=Object.keys(a);return Object.keys(a).map(o=>o.toLocaleLowerCase()).reduce((o,d,u)=>(o[d]=a[e[u]],o),{})},S2=(a,e=!0)=>a?Object.entries(a).reduce((i,o)=>{const[d,u]=o;let m,f;return Array.isArray(u)?(f="",u.forEach(p=>{m=e?encodeURIComponent(p):p,f+=`${d}=${m}&`}),f.slice(0,-1)):(m=e?encodeURIComponent(u):u,f=`${d}=${m}`),`${i}&${f}`},"").substr(1):null,N2=(a,e={})=>{const n=Object.assign({method:a.method||"GET",headers:a.headers},e),o=j2(a.headers)["content-type"]||"";if(typeof a.data=="string")n.body=a.data;else if(o.includes("application/x-www-form-urlencoded")){const d=new URLSearchParams;for(const[u,m]of Object.entries(a.data||{}))d.set(u,m);n.body=d.toString()}else if(o.includes("multipart/form-data")||a.data instanceof FormData){const d=new FormData;if(a.data instanceof FormData)a.data.forEach((m,f)=>{d.append(f,m)});else for(const m of Object.keys(a.data))d.append(m,a.data[m]);n.body=d;const u=new Headers(n.headers);u.delete("content-type"),n.headers=u}else(o.includes("application/json")||typeof a.data=="object")&&(n.body=JSON.stringify(a.data));return n};class _2 extends lm{async request(e){const n=N2(e,e.webFetchExtra),i=S2(e.params,e.shouldEncodeUrlParams),o=i?`${e.url}?${i}`:e.url,d=await fetch(o,n),u=d.headers.get("content-type")||"";let{responseType:m="text"}=d.ok?e:{};u.includes("application/json")&&(m="json");let f,p;switch(m){case"arraybuffer":case"blob":p=await d.blob(),f=await k2(p);break;case"json":f=await d.json();break;case"document":case"text":default:f=await d.text()}const y={};return d.headers.forEach((v,w)=>{y[w]=v}),{data:f,headers:y,status:d.status,url:d.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}im("CapacitorHttp",{web:()=>new _2});var ly;(function(a){a.Dark="DARK",a.Light="LIGHT",a.Default="DEFAULT"})(ly||(ly={}));var oy;(function(a){a.StatusBar="StatusBar",a.NavigationBar="NavigationBar"})(oy||(oy={}));class C2 extends lm{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}im("SystemBars",{web:()=>new C2});function T2(a,e,n,i){function o(d){return d instanceof n?d:new n(function(u){u(d)})}return new(n||(n=Promise))(function(d,u){function m(y){try{p(i.next(y))}catch(v){u(v)}}function f(y){try{p(i.throw(y))}catch(v){u(v)}}function p(y){y.done?d(y.value):o(y.value).then(m,f)}p((i=i.apply(a,e||[])).next())})}const A2=a=>a?(...e)=>a(...e):(...e)=>fetch(...e);class om extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class E2 extends om{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cy extends om{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dy extends om{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vh;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(vh||(vh={}));class D2{constructor(e,{headers:n={},customFetch:i,region:o=vh.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=A2(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return T2(this,arguments,void 0,function*(n,i={}){var o;let d,u;try{const{headers:m,method:f,body:p,signal:y,timeout:v}=i;let w={},{region:j}=i;j||(j=this.region);const S=new URL(`${this.url}/${n}`);j&&j!=="any"&&(w["x-region"]=j,S.searchParams.set("forceFunctionRegion",j));let T;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(w["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(w["Content-Type"]="application/json",T=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?T=JSON.stringify(p):T=p;let E=y;v&&(u=new AbortController,d=setTimeout(()=>u.abort(),v),y?(E=u.signal,y.addEventListener("abort",()=>u.abort())):E=u.signal);const A=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:T,signal:E}).catch(H=>{throw new E2(H)}),D=A.headers.get("x-relay-error");if(D&&D==="true")throw new cy(A);if(!A.ok)throw new dy(A);let _=((o=A.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),C;return _==="application/json"?C=yield A.json():_==="application/octet-stream"||_==="application/pdf"?C=yield A.blob():_==="text/event-stream"?C=A:_==="multipart/form-data"?C=yield A.formData():C=yield A.text(),{data:C,error:null,response:A}}catch(m){return{data:null,error:m,response:m instanceof dy||m instanceof cy?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var z2=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},O2=class{constructor(a){var e,n;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(e=a.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=a.signal,this.isMaybeSingle=(n=a.isMaybeSingle)!==null&&n!==void 0?n:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,e){return this.headers=new Headers(this.headers),this.headers.set(a,e),this}then(a,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let u=null,m=null,f=null,p=d.status,y=d.statusText;if(d.ok){var v,w;if(n.method!=="HEAD"){var j;const A=await d.text();A===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((j=n.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?m=A:m=JSON.parse(A))}const T=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),E=(w=d.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");T&&E&&E.length>1&&(f=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(m)&&(m.length>1?(u={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,f=null,p=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var S;const T=await d.text();try{u=JSON.parse(T),Array.isArray(u)&&d.status===404&&(m=[],u=null,p=200,y="OK")}catch{d.status===404&&T===""?(p=204,y="No Content"):u={message:T}}if(u&&n.isMaybeSingle&&(!(u==null||(S=u.details)===null||S===void 0)&&S.includes("0 rows"))&&(u=null,p=200,y="OK"),u&&n.shouldThrowOnError)throw new z2(u)}return{error:u,data:m,count:f,status:p,statusText:y}});return this.shouldThrowOnError||(o=o.catch(d=>{var u;let m="";const f=d==null?void 0:d.cause;if(f){var p,y,v,w;const S=(p=f==null?void 0:f.message)!==null&&p!==void 0?p:"",T=(y=f==null?void 0:f.code)!==null&&y!==void 0?y:"";m=`${(v=d==null?void 0:d.name)!==null&&v!==void 0?v:"FetchError"}: ${d==null?void 0:d.message}`,m+=`

Caused by: ${(w=f==null?void 0:f.name)!==null&&w!==void 0?w:"Error"}: ${S}`,T&&(m+=` (${T})`),f!=null&&f.stack&&(m+=`
${f.stack}`)}else{var j;m=(j=d==null?void 0:d.stack)!==null&&j!==void 0?j:""}return{error:{message:`${(u=d==null?void 0:d.name)!==null&&u!==void 0?u:"FetchError"}: ${d==null?void 0:d.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(a,e)}returns(){return this}overrideTypes(){return this}},R2=class extends O2{select(a){let e=!1;const n=(a??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:e=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const d=o?`${o}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${a}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:e,referencedTable:n=e}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${a}`),this}range(a,e,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,d=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${a}`),this.url.searchParams.set(d,`${e-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:e=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:d="text"}={}){var u;const m=[a?"analyze":null,e?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${f}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const uy=new RegExp("[,()]");var pr=class extends R2{eq(a,e){return this.url.searchParams.append(a,`eq.${e}`),this}neq(a,e){return this.url.searchParams.append(a,`neq.${e}`),this}gt(a,e){return this.url.searchParams.append(a,`gt.${e}`),this}gte(a,e){return this.url.searchParams.append(a,`gte.${e}`),this}lt(a,e){return this.url.searchParams.append(a,`lt.${e}`),this}lte(a,e){return this.url.searchParams.append(a,`lte.${e}`),this}like(a,e){return this.url.searchParams.append(a,`like.${e}`),this}likeAllOf(a,e){return this.url.searchParams.append(a,`like(all).{${e.join(",")}}`),this}likeAnyOf(a,e){return this.url.searchParams.append(a,`like(any).{${e.join(",")}}`),this}ilike(a,e){return this.url.searchParams.append(a,`ilike.${e}`),this}ilikeAllOf(a,e){return this.url.searchParams.append(a,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(a,e){return this.url.searchParams.append(a,`ilike(any).{${e.join(",")}}`),this}regexMatch(a,e){return this.url.searchParams.append(a,`match.${e}`),this}regexIMatch(a,e){return this.url.searchParams.append(a,`imatch.${e}`),this}is(a,e){return this.url.searchParams.append(a,`is.${e}`),this}isDistinct(a,e){return this.url.searchParams.append(a,`isdistinct.${e}`),this}in(a,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&uy.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(a,`in.(${n})`),this}notIn(a,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&uy.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(a,`not.in.(${n})`),this}contains(a,e){return typeof e=="string"?this.url.searchParams.append(a,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(a,`cs.{${e.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(e)}`),this}containedBy(a,e){return typeof e=="string"?this.url.searchParams.append(a,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(a,`cd.{${e.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(e)}`),this}rangeGt(a,e){return this.url.searchParams.append(a,`sr.${e}`),this}rangeGte(a,e){return this.url.searchParams.append(a,`nxl.${e}`),this}rangeLt(a,e){return this.url.searchParams.append(a,`sl.${e}`),this}rangeLte(a,e){return this.url.searchParams.append(a,`nxr.${e}`),this}rangeAdjacent(a,e){return this.url.searchParams.append(a,`adj.${e}`),this}overlaps(a,e){return typeof e=="string"?this.url.searchParams.append(a,`ov.${e}`):this.url.searchParams.append(a,`ov.{${e.join(",")}}`),this}textSearch(a,e,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const d=n===void 0?"":`(${n})`;return this.url.searchParams.append(a,`${o}fts${d}.${e}`),this}match(a){return Object.entries(a).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(a,e,n){return this.url.searchParams.append(a,`not.${e}.${n}`),this}or(a,{foreignTable:e,referencedTable:n=e}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${a})`),this}filter(a,e,n){return this.url.searchParams.append(a,`${e}.${n}`),this}},M2=class{constructor(a,{headers:e={},schema:n,fetch:i}){this.url=a,this.headers=new Headers(e),this.schema=n,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,e){const{head:n=!1,count:i}=e??{},o=n?"HEAD":"GET";let d=!1;const u=(a??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join(""),{url:m,headers:f}=this.cloneRequestState();return m.searchParams.set("select",u),i&&f.append("Prefer",`count=${i}`),new pr({method:o,url:m,headers:f,schema:this.schema,fetch:this.fetch})}insert(a,{count:e,defaultToNull:n=!0}={}){var i;const o="POST",{url:d,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(m.length>0){const f=[...new Set(m)].map(p=>`"${p}"`);d.searchParams.set("columns",f.join(","))}}return new pr({method:o,url:d,headers:u,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(a,{onConflict:e,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){var d;const u="POST",{url:m,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&m.searchParams.set("on_conflict",e),i&&f.append("Prefer",`count=${i}`),o||f.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);m.searchParams.set("columns",y.join(","))}}return new pr({method:u,url:m,headers:f,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(a,{count:e}={}){var n;const i="PATCH",{url:o,headers:d}=this.cloneRequestState();return e&&d.append("Prefer",`count=${e}`),new pr({method:i,url:o,headers:d,schema:this.schema,body:a,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:a}={}){var e;const n="DELETE",{url:i,headers:o}=this.cloneRequestState();return a&&o.append("Prefer",`count=${a}`),new pr({method:n,url:i,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},L2=class yb{constructor(e,{headers:n={},schema:i,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=i,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new M2(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new yb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:o=!1,count:d}={}){var u;let m;const f=new URL(`${this.url}/rpc/${e}`);let p;const y=j=>j!==null&&typeof j=="object"&&(!Array.isArray(j)||j.some(y)),v=i&&Object.values(n).some(y);v?(m="POST",p=n):i||o?(m=i?"HEAD":"GET",Object.entries(n).filter(([j,S])=>S!==void 0).map(([j,S])=>[j,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([j,S])=>{f.searchParams.append(j,S)})):(m="POST",p=n);const w=new Headers(this.headers);return v?w.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&w.set("Prefer",`count=${d}`),new pr({method:m,url:f,headers:w,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class U2{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const o=i.node,d=parseInt(o.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const B2="2.90.1",P2=`realtime-js/${B2}`,xb="1.0.0",$2="2.0.0",hy=xb,wh=1e4,V2=1e3,H2=100;var Rs;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Rs||(Rs={}));var pt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(pt||(pt={}));var Ta;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Ta||(Ta={}));var kh;(function(a){a.websocket="websocket"})(kh||(kh={}));var gn;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(gn||(gn={}));class q2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const o=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,i;const o=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,i){var o,d;const u=e.topic,m=(o=e.ref)!==null&&o!==void 0?o:"",f=(d=e.join_ref)!==null&&d!==void 0?d:"",p=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+m.length+u.length+p.length+v.length,j=new ArrayBuffer(this.HEADER_LENGTH+w);let S=new DataView(j),T=0;S.setUint8(T++,this.KINDS.userBroadcastPush),S.setUint8(T++,f.length),S.setUint8(T++,m.length),S.setUint8(T++,u.length),S.setUint8(T++,p.length),S.setUint8(T++,v.length),S.setUint8(T++,n),Array.from(f,A=>S.setUint8(T++,A.charCodeAt(0))),Array.from(m,A=>S.setUint8(T++,A.charCodeAt(0))),Array.from(u,A=>S.setUint8(T++,A.charCodeAt(0))),Array.from(p,A=>S.setUint8(T++,A.charCodeAt(0))),Array.from(v,A=>S.setUint8(T++,A.charCodeAt(0)));var E=new Uint8Array(j.byteLength+i.byteLength);return E.set(new Uint8Array(j),0),E.set(new Uint8Array(i),j.byteLength),E.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[o,d,u,m,f]=i;return n({join_ref:o,ref:d,topic:u,event:m,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,i){const o=n.getUint8(1),d=n.getUint8(2),u=n.getUint8(3),m=n.getUint8(4);let f=this.HEADER_LENGTH+4;const p=i.decode(e.slice(f,f+o));f=f+o;const y=i.decode(e.slice(f,f+d));f=f+d;const v=i.decode(e.slice(f,f+u));f=f+u;const w=e.slice(f,e.byteLength),j=m===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,S={type:this.BROADCAST_EVENT,event:y,payload:j};return u>0&&(S.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class bb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Fe||(Fe={}));const my=(a,e,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((d,u)=>(d[u]=I2(u,a,e,o),d),{}):{}},I2=(a,e,n,i)=>{const o=e.find(m=>m.name===a),d=o==null?void 0:o.type,u=n[a];return d&&!i.includes(d)?vb(d,u):jh(u)},vb=(a,e)=>{if(a.charAt(0)==="_"){const n=a.slice(1,a.length);return K2(e,n)}switch(a){case Fe.bool:return G2(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return F2(e);case Fe.json:case Fe.jsonb:return Y2(e);case Fe.timestamp:return Z2(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return jh(e);default:return jh(e)}},jh=a=>a,G2=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},F2=a=>{if(typeof a=="string"){const e=parseFloat(a);if(!Number.isNaN(e))return e}return a},Y2=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},K2=(a,e)=>{if(typeof a!="string")return a;const n=a.length-1,i=a[n];if(a[0]==="{"&&i==="}"){let d;const u=a.slice(1,n);try{d=JSON.parse("["+u+"]")}catch{d=u?u.split(","):[]}return d.map(m=>vb(e,m))}return a},Z2=a=>typeof a=="string"?a.replace(" ","T"):a,wb=a=>{const e=new URL(a);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class $u{constructor(e,n,i={},o=wh){this.channel=e,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fy;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(fy||(fy={}));class Bi{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:d,onLeave:u,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bi.syncState(this.state,o,d,u),this.pendingDiffs.forEach(f=>{this.state=Bi.syncDiff(this.state,f,d,u)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},o=>{const{onJoin:d,onLeave:u,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Bi.syncDiff(this.state,o,d,u),m())}),this.onJoin((o,d,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:d,newPresences:u})}),this.onLeave((o,d,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:d,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,o){const d=this.cloneDeep(e),u=this.transformState(n),m={},f={};return this.map(d,(p,y)=>{u[p]||(f[p]=y)}),this.map(u,(p,y)=>{const v=d[p];if(v){const w=y.map(E=>E.presence_ref),j=v.map(E=>E.presence_ref),S=y.filter(E=>j.indexOf(E.presence_ref)<0),T=v.filter(E=>w.indexOf(E.presence_ref)<0);S.length>0&&(m[p]=S),T.length>0&&(f[p]=T)}else m[p]=y}),this.syncDiff(d,{joins:m,leaves:f},i,o)}static syncDiff(e,n,i,o){const{joins:d,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(d,(m,f)=>{var p;const y=(p=e[m])!==null&&p!==void 0?p:[];if(e[m]=this.cloneDeep(f),y.length>0){const v=e[m].map(j=>j.presence_ref),w=y.filter(j=>v.indexOf(j.presence_ref)<0);e[m].unshift(...w)}i(m,y,f)}),this.map(u,(m,f)=>{let p=e[m];if(!p)return;const y=f.map(v=>v.presence_ref);p=p.filter(v=>y.indexOf(v.presence_ref)<0),e[m]=p,o(m,p,f),p.length===0&&delete e[m]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const o=e[i];return"metas"in o?n[i]=o.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):n[i]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gy;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(gy||(gy={}));var Pi;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Pi||(Pi={}));var ts;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class br{constructor(e,n={config:{}},i){var o,d;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $u(this,Ta.join,this.params,this.timeout),this.rejoinTimer=new bb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ta.reply,{},(u,m)=>{this._trigger(this._replyEventName(m),u)}),this.presence=new Bi(this),this.broadcastEndpointURL=wb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,o,d;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:u,presence:m,private:f}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(j=>j.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Pi.PRESENCE]&&this.bindings[Pi.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(j=>e==null?void 0:e(ts.CHANNEL_ERROR,j)),this._onClose(()=>e==null?void 0:e(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:j})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){e==null||e(ts.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,E=(S=T==null?void 0:T.length)!==null&&S!==void 0?S:0,A=[];for(let D=0;D<E;D++){const _=T[D],{filter:{event:C,schema:H,table:V,filter:$}}=_,B=j&&j[D];if(B&&B.event===C&&br.isFilterValueEqual(B.schema,H)&&br.isFilterValueEqual(B.table,V)&&br.isFilterValueEqual(B.filter,$))A.push(Object.assign(Object.assign({},_),{id:B.id}));else{this.unsubscribe(),this.state=pt.errored,e==null||e(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(ts.SUBSCRIBED);return}}).receive("error",j=>{this.state=pt.errored,e==null||e(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===pt.joined&&e===Pi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let f=m.statusText;try{const p=await m.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:u}=e,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var u,m,f;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(m=(u=this.params)===null||u===void 0?void 0:u.config)===null||m===void 0?void 0:m.broadcast)===null||f===void 0)&&f.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ta.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new $u(this,Ta.leave,{},e),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const o=new AbortController,d=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(d),u}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new $u(this,e,n,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>H2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var o,d;const u=e.toLocaleLowerCase(),{close:m,error:f,leave:p,join:y}=Ta;if(i&&[m,f,p,y].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,n,i);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(j=>{var S,T,E;return((S=j.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(T=j.filter)===null||T===void 0?void 0:T.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(j=>j.callback(w,i)):(d=this.bindings[u])===null||d===void 0||d.filter(j=>{var S,T,E,A,D,_,C,H;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in j){const V=j.id,$=(S=j.filter)===null||S===void 0?void 0:S.event;return V&&((T=n.ids)===null||T===void 0?void 0:T.includes(V))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))&&(!(!((A=j.filter)===null||A===void 0)&&A.table)||j.filter.table===((D=n.data)===null||D===void 0?void 0:D.table))}else{const V=(C=(_=j==null?void 0:j.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return V==="*"||V===((H=n==null?void 0:n.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===u}).map(j=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:T,table:E,commit_timestamp:A,type:D,errors:_}=S;w=Object.assign(Object.assign({},{schema:T,table:E,commit_timestamp:A,eventType:D,new:{},old:{},errors:_}),this._getPayloadRecords(S))}j.callback(w,i)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const o=e.toLocaleLowerCase(),d={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(d):this.bindings[o]=[d],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var d;return!(((d=o.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&br.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ta.close,{},e)}_onError(e){this._on(Ta.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=my(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=my(e.columns,e.old_record)),n}}const Vu=()=>{},Oo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},W2=[1e3,2e3,5e3,1e4],X2=1e4,Q2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class J2{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wh,this.transport=null,this.heartbeatIntervalMs=Oo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vu,this.ref=0,this.reconnectTimer=null,this.vsn=hy,this.logger=Vu,this.conn=null,this.sendBuffer=[],this.serializer=new q2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...d)=>o(...d):(...d)=>fetch(...d),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${kh.websocket}`,this.httpEndpoint=wb(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=U2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Rs.connecting:return gn.Connecting;case Rs.open:return gn.Open;case Rs.closing:return gn.Closing;default:return gn.Closed}}isConnected(){return this.connectionState()===gn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(d=>d.topic===i);if(o)return o;{const d=new br(`realtime:${e}`,n,this);return this.channels.push(d),d}}push(e){const{topic:n,event:i,payload:o,ref:d}=e,u=()=>{this.encode(e,m=>{var f;(f=this.conn)===null||f===void 0||f.send(m)})};this.log("push",`${n} ${i} (${d})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(V2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Oo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",p)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:d,ref:u}=n,m=u?`(${u})`:"",f=d.status||"";this.log("receive",`${f} ${i} ${o} ${m}`.trim(),d),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,d,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Rs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rs.open||this.conn.readyState===Rs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ta.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${i}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([Q2],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,i=!1;if(e)n=e,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const d={access_token:n,version:P2};n&&o.updateJoinPayload(d),o.joinedOnce&&o._isJoined()&&o._push(Ta.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new bb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Oo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,o,d,u,m,f,p,y,v,w,j;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:wh,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Oo.HEARTBEAT_INTERVAL,this.worker=(d=e==null?void 0:e.worker)!==null&&d!==void 0?d:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(m=e==null?void 0:e.heartbeatCallback)!==null&&m!==void 0?m:Vu,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:hy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(S=>W2[S-1]||X2),this.vsn){case xb:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((S,T)=>T(JSON.stringify(S))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((S,T)=>T(JSON.parse(S)));break;case $2:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(j=e==null?void 0:e.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Gi=class extends Error{constructor(a,e){var n;super(a),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ej(a,e,n){const i=new URL(e,a);if(n)for(const[o,d]of Object.entries(n))d!==void 0&&i.searchParams.set(o,d);return i.toString()}async function tj(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function aj(a){const e=a.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:o,body:d,headers:u}){const m=ej(a.baseUrl,i,o),f=await tj(a.auth),p=await e(m,{method:n,headers:{...d?{"Content-Type":"application/json"}:{},...f,...u},body:d?JSON.stringify(d):void 0}),y=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),w=v&&y?JSON.parse(y):y;if(!p.ok){const j=v?w:void 0,S=j==null?void 0:j.error;throw new Gi((S==null?void 0:S.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:j})}return{status:p.status,headers:p.headers,data:w}}}}function Ro(a){return a.join("")}var sj=class{constructor(a,e=""){this.client=a,this.prefix=e}async listNamespaces(a){const e=a?{parent:Ro(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(a,e){const n={namespace:a.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ro(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ro(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ro(a.namespace)}`}),!0}catch(e){if(e instanceof Gi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(a,e){try{return await this.createNamespace(a,e)}catch(n){if(n instanceof Gi&&n.status===409)return;throw n}}};function cr(a){return a.join("")}var nj=class{constructor(a,e="",n){this.client=a,this.prefix=e,this.accessDelegation=n}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cr(a.namespace)}/tables`})).data.identifiers}async createTable(a,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cr(a.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(a,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cr(a.namespace)}/tables/${a.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(a,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cr(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(a){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cr(a.namespace)}/tables/${a.name}`,headers:e})).data.metadata}async tableExists(a){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cr(a.namespace)}/tables/${a.name}`,headers:e}),!0}catch(n){if(n instanceof Gi&&n.status===404)return!1;throw n}}async createTableIfNotExists(a,e){try{return await this.createTable(a,e)}catch(n){if(n instanceof Gi&&n.status===409)return await this.loadTable({namespace:a.namespace,name:e.name});throw n}}},rj=class{constructor(a){var i;let e="v1";a.catalogName&&(e+=`/${a.catalogName}`);const n=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=aj({baseUrl:n,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=(i=a.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new sj(this.client,e),this.tableOps=new nj(this.client,e,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,e){return this.namespaceOps.createNamespace(a,e)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,e){return this.tableOps.createTable(a,e)}async updateTable(a,e){return this.tableOps.updateTable(a,e)}async dropTable(a,e){await this.tableOps.dropTable(a,e)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,e){return this.namespaceOps.createNamespaceIfNotExists(a,e)}async createTableIfNotExists(a,e){return this.tableOps.createTableIfNotExists(a,e)}},oc=class extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}};function Xe(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var ij=class extends oc{constructor(a,e,n){super(a),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sh=class extends oc{constructor(a,e){super(a),this.name="StorageUnknownError",this.originalError=e}};const cm=a=>a?(...e)=>a(...e):(...e)=>fetch(...e),lj=()=>Response,Nh=a=>{if(Array.isArray(a))return a.map(n=>Nh(n));if(typeof a=="function"||a!==Object(a))return a;const e={};return Object.entries(a).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));e[o]=Nh(i)}),e},oj=a=>{if(typeof a!="object"||a===null)return!1;const e=Object.getPrototypeOf(a);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},cj=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function Fi(a){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fi(a)}function dj(a,e){if(Fi(a)!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var i=n.call(a,e);if(Fi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function uj(a){var e=dj(a,"string");return Fi(e)=="symbol"?e:e+""}function hj(a,e,n){return(e=uj(e))in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function py(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),n.push.apply(n,i)}return n}function Se(a){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?py(Object(n),!0).forEach(function(i){hj(a,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):py(Object(n)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(n,i))})}return a}const Hu=a=>{var e;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(e=a.error)===null||e===void 0?void 0:e.message)||JSON.stringify(a)},mj=async(a,e,n)=>{a instanceof await lj()&&!(n!=null&&n.noResolveJson)?a.json().then(i=>{const o=a.status||500,d=(i==null?void 0:i.statusCode)||o+"";e(new ij(Hu(i),o,d))}).catch(i=>{e(new Sh(Hu(i),i))}):e(new Sh(Hu(a),a))},fj=(a,e,n,i)=>{const o={method:a,headers:(e==null?void 0:e.headers)||{}};return a==="GET"||!i?o:(oj(i)?(o.headers=Se({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,e!=null&&e.duplex&&(o.duplex=e.duplex),Se(Se({},o),n))};async function ll(a,e,n,i,o,d){return new Promise((u,m)=>{a(n,fj(e,i,o,d)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>mj(f,m,i))})}async function Yi(a,e,n,i){return ll(a,"GET",e,n,i)}async function Ca(a,e,n,i,o){return ll(a,"POST",e,i,o,n)}async function _h(a,e,n,i,o){return ll(a,"PUT",e,i,o,n)}async function gj(a,e,n,i){return ll(a,"HEAD",e,Se(Se({},n),{},{noResolveJson:!0}),i)}async function dm(a,e,n,i,o){return ll(a,"DELETE",e,i,o,n)}var pj=class{constructor(a,e){this.downloadFn=a,this.shouldThrowOnError=e}then(a,e){return this.execute().then(a,e)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(e){if(a.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}}};let kb;kb=Symbol.toStringTag;var yj=class{constructor(a,e){this.downloadFn=a,this.shouldThrowOnError=e,this[kb]="BlobDownloadBuilder",this.promise=null}asStream(){return new pj(this.downloadFn,this.shouldThrowOnError)}then(a,e){return this.getPromise().then(a,e)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(e){if(a.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}}};const xj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var bj=class{constructor(a,e={},n,i){this.shouldThrowOnError=!1,this.url=a,this.headers=e,this.bucketId=n,this.fetch=cm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(a,e,n,i){var o=this;try{let d;const u=Se(Se({},yy),i);let m=Se(Se({},o.headers),a==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",u.cacheControl),f&&d.append("metadata",o.encodeMetadata(f)),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.has("cacheControl")||d.append("cacheControl",u.cacheControl),f&&!d.has("metadata")&&d.append("metadata",o.encodeMetadata(f))):(d=n,m["cache-control"]=`max-age=${u.cacheControl}`,m["content-type"]=u.contentType,f&&(m["x-metadata"]=o.toBase64(o.encodeMetadata(f))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!u.duplex&&(u.duplex="half")),i!=null&&i.headers&&(m=Se(Se({},m),i.headers));const p=o._removeEmptyFolders(e),y=o._getFinalPath(p),v=await(a=="PUT"?_h:Ca)(o.fetch,`${o.url}/object/${y}`,d,Se({headers:m},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(d){if(o.shouldThrowOnError)throw d;if(Xe(d))return{data:null,error:d};throw d}}async upload(a,e,n){return this.uploadOrUpdate("POST",a,e,n)}async uploadToSignedUrl(a,e,n,i){var o=this;const d=o._removeEmptyFolders(a),u=o._getFinalPath(d),m=new URL(o.url+`/object/upload/sign/${u}`);m.searchParams.set("token",e);try{let f;const p=Se({upsert:yy.upsert},i),y=Se(Se({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",p.cacheControl)):(f=n,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType),{data:{path:d,fullPath:(await _h(o.fetch,m.toString(),f,{headers:y})).Key},error:null}}catch(f){if(o.shouldThrowOnError)throw f;if(Xe(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(a,e){var n=this;try{let i=n._getFinalPath(a);const o=Se({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const d=await Ca(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(n.url+d.url),m=u.searchParams.get("token");if(!m)throw new oc("No token returned by API");return{data:{signedUrl:u.toString(),path:a,token:m},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}}async update(a,e,n){return this.uploadOrUpdate("PUT",a,e,n)}async move(a,e,n){var i=this;try{return{data:await Ca(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:a,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}}async copy(a,e,n){var i=this;try{return{data:{path:(await Ca(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:a,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers})).Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}}async createSignedUrl(a,e,n){var i=this;try{let o=i._getFinalPath(a),d=await Ca(i.fetch,`${i.url}/object/sign/${o}`,Se({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:i.headers});const u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return d={signedUrl:encodeURI(`${i.url}${d.signedURL}${u}`)},{data:d,error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}}async createSignedUrls(a,e,n){var i=this;try{const o=await Ca(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:a},{headers:i.headers}),d=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>Se(Se({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${d}`):null})),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}}download(a,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=i?`?${i}`:"",d=this._getFinalPath(a),u=()=>Yi(this.fetch,`${this.url}/${n}/${d}${o}`,{headers:this.headers,noResolveJson:!0});return new yj(u,this.shouldThrowOnError)}async info(a){var e=this;const n=e._getFinalPath(a);try{return{data:Nh(await Yi(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}}async exists(a){var e=this;const n=e._getFinalPath(a);try{return await gj(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Xe(i)&&i instanceof Sh){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}}getPublicUrl(a,e){const n=this._getFinalPath(a),i=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);const d=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&i.push(u);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${m}`)}}}async remove(a){var e=this;try{return{data:await dm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:a},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async list(a,e,n){var i=this;try{const o=Se(Se(Se({},xj),e),{},{prefix:a||""});return{data:await Ca(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},n),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}}async listV2(a,e){var n=this;try{const i=Se({},a);return{data:await Ca(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},e),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const e=[];return a.width&&e.push(`width=${a.width}`),a.height&&e.push(`height=${a.height}`),a.resize&&e.push(`resize=${a.resize}`),a.format&&e.push(`format=${a.format}`),a.quality&&e.push(`quality=${a.quality}`),e.join("&")}};const jb="2.90.1",Sb={"X-Client-Info":`storage-js/${jb}`};var vj=class{constructor(a,e={},n,i){this.shouldThrowOnError=!1;const o=new URL(a);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Se(Se({},Sb),e),this.fetch=cm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(a){var e=this;try{const n=e.listBucketOptionsToQueryString(a);return{data:await Yi(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async getBucket(a){var e=this;try{return{data:await Yi(e.fetch,`${e.url}/bucket/${a}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async createBucket(a,e={public:!1}){var n=this;try{return{data:await Ca(n.fetch,`${n.url}/bucket`,{id:a,name:a,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}}async updateBucket(a,e){var n=this;try{return{data:await _h(n.fetch,`${n.url}/bucket/${a}`,{id:a,name:a,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}}async emptyBucket(a){var e=this;try{return{data:await Ca(e.fetch,`${e.url}/bucket/${a}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async deleteBucket(a){var e=this;try{return{data:await dm(e.fetch,`${e.url}/bucket/${a}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(a){const e={};return a&&("limit"in a&&(e.limit=String(a.limit)),"offset"in a&&(e.offset=String(a.offset)),a.search&&(e.search=a.search),a.sortColumn&&(e.sortColumn=a.sortColumn),a.sortOrder&&(e.sortOrder=a.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},wj=class{constructor(a,e={},n){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Se(Se({},Sb),e),this.fetch=cm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var e=this;try{return{data:await Ca(e.fetch,`${e.url}/bucket`,{name:a},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async listBuckets(a){var e=this;try{const n=new URLSearchParams;(a==null?void 0:a.limit)!==void 0&&n.set("limit",a.limit.toString()),(a==null?void 0:a.offset)!==void 0&&n.set("offset",a.offset.toString()),a!=null&&a.sortColumn&&n.set("sortColumn",a.sortColumn),a!=null&&a.sortOrder&&n.set("sortOrder",a.sortOrder),a!=null&&a.search&&n.set("search",a.search);const i=n.toString(),o=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Yi(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async deleteBucket(a){var e=this;try{return{data:await dm(e.fetch,`${e.url}/bucket/${a}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}from(a){var e=this;if(!cj(a))throw new oc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new rj({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(o,d){const u=o[d];return typeof u!="function"?u:async(...m)=>{try{return{data:await u.apply(o,m),error:null}}catch(f){if(i)throw f;return{data:null,error:f}}}}})}};const um={"X-Client-Info":`storage-js/${jb}`,"Content-Type":"application/json"};var Nb=class extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function na(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}var qu=class extends Nb{constructor(a,e,n){super(a),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kj=class extends Nb{constructor(a,e){super(a),this.name="StorageVectorsUnknownError",this.originalError=e}};const hm=a=>a?(...e)=>a(...e):(...e)=>fetch(...e),jj=a=>{if(typeof a!="object"||a===null)return!1;const e=Object.getPrototypeOf(a);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},xy=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Sj=async(a,e,n)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!(n!=null&&n.noResolveJson)){const i=a.status||500,o=a;if(typeof o.json=="function")o.json().then(d=>{const u=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||i+"";e(new qu(xy(d),i,u))}).catch(()=>{const d=i+"";e(new qu(o.statusText||`HTTP ${i} error`,i,d))});else{const d=i+"";e(new qu(o.statusText||`HTTP ${i} error`,i,d))}}else e(new kj(xy(a),a))},Nj=(a,e,n,i)=>{const o={method:a,headers:(e==null?void 0:e.headers)||{}};return i?(jj(i)?(o.headers=Se({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,Se(Se({},o),n)):o};async function _j(a,e,n,i,o,d){return new Promise((u,m)=>{a(n,Nj(e,i,o,d)).then(f=>{if(!f.ok)throw f;if(i!=null&&i.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>Sj(f,m,i))})}async function ra(a,e,n,i,o){return _j(a,"POST",e,i,o,n)}var Cj=class{constructor(a,e={},n){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Se(Se({},um),e),this.fetch=hm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(a){var e=this;try{return{data:await ra(e.fetch,`${e.url}/CreateIndex`,a,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(na(n))return{data:null,error:n};throw n}}async getIndex(a,e){var n=this;try{return{data:await ra(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:a,indexName:e},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(na(i))return{data:null,error:i};throw i}}async listIndexes(a){var e=this;try{return{data:await ra(e.fetch,`${e.url}/ListIndexes`,a,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(na(n))return{data:null,error:n};throw n}}async deleteIndex(a,e){var n=this;try{return{data:await ra(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:a,indexName:e},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(na(i))return{data:null,error:i};throw i}}},Tj=class{constructor(a,e={},n){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Se(Se({},um),e),this.fetch=hm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(a){var e=this;try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ra(e.fetch,`${e.url}/PutVectors`,a,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(na(n))return{data:null,error:n};throw n}}async getVectors(a){var e=this;try{return{data:await ra(e.fetch,`${e.url}/GetVectors`,a,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(na(n))return{data:null,error:n};throw n}}async listVectors(a){var e=this;try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:await ra(e.fetch,`${e.url}/ListVectors`,a,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(na(n))return{data:null,error:n};throw n}}async queryVectors(a){var e=this;try{return{data:await ra(e.fetch,`${e.url}/QueryVectors`,a,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(na(n))return{data:null,error:n};throw n}}async deleteVectors(a){var e=this;try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ra(e.fetch,`${e.url}/DeleteVectors`,a,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(na(n))return{data:null,error:n};throw n}}},Aj=class{constructor(a,e={},n){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Se(Se({},um),e),this.fetch=hm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var e=this;try{return{data:await ra(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(na(n))return{data:null,error:n};throw n}}async getBucket(a){var e=this;try{return{data:await ra(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:a},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(na(n))return{data:null,error:n};throw n}}async listBuckets(a={}){var e=this;try{return{data:await ra(e.fetch,`${e.url}/ListVectorBuckets`,a,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(na(n))return{data:null,error:n};throw n}}async deleteBucket(a){var e=this;try{return{data:await ra(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(na(n))return{data:null,error:n};throw n}}},Ej=class extends Aj{constructor(a,e={}){super(a,e.headers||{},e.fetch)}from(a){return new Dj(this.url,this.headers,a,this.fetch)}async createBucket(a){var e=()=>super.createBucket,n=this;return e().call(n,a)}async getBucket(a){var e=()=>super.getBucket,n=this;return e().call(n,a)}async listBuckets(a={}){var e=()=>super.listBuckets,n=this;return e().call(n,a)}async deleteBucket(a){var e=()=>super.deleteBucket,n=this;return e().call(n,a)}},Dj=class extends Cj{constructor(a,e,n,i){super(a,e,i),this.vectorBucketName=n}async createIndex(a){var e=()=>super.createIndex,n=this;return e().call(n,Se(Se({},a),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(a={}){var e=()=>super.listIndexes,n=this;return e().call(n,Se(Se({},a),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(a){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,a)}async deleteIndex(a){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,a)}index(a){return new zj(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},zj=class extends Tj{constructor(a,e,n,i,o){super(a,e,o),this.vectorBucketName=n,this.indexName=i}async putVectors(a){var e=()=>super.putVectors,n=this;return e().call(n,Se(Se({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(a){var e=()=>super.getVectors,n=this;return e().call(n,Se(Se({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(a={}){var e=()=>super.listVectors,n=this;return e().call(n,Se(Se({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(a){var e=()=>super.queryVectors,n=this;return e().call(n,Se(Se({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(a){var e=()=>super.deleteVectors,n=this;return e().call(n,Se(Se({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Oj=class extends vj{constructor(a,e={},n,i){super(a,e,n,i)}from(a){return new bj(this.url,this.headers,a,this.fetch)}get vectors(){return new Ej(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wj(this.url+"/iceberg",this.headers,this.fetch)}};function cc(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n}const _b="2.90.1",yr=30*1e3,Ch=3,Iu=Ch*yr,Rj="http://localhost:9999",Mj="supabase.auth.token",Lj={"X-Client-Info":`gotrue-js/${_b}`},Th="X-Supabase-Api-Version",Cb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Uj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bj=600*1e3;class Ki extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function be(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class Pj extends Ki{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function $j(a){return be(a)&&a.name==="AuthApiError"}class pn extends Ki{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ns extends Ki{constructor(e,n,i,o){super(e,i,o),this.name=n,this.status=i}}class aa extends ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vj(a){return be(a)&&a.name==="AuthSessionMissingError"}class dr extends ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mo extends ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Lo extends ns{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hj(a){return be(a)&&a.name==="AuthImplicitGrantRedirectError"}class by extends ns{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qj extends ns{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ah extends ns{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Gu(a){return be(a)&&a.name==="AuthRetryableFetchError"}class vy extends ns{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Eh extends ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wy=` 	
\r=`.split(""),Ij=(()=>{const a=new Array(128);for(let e=0;e<a.length;e+=1)a[e]=-1;for(let e=0;e<wy.length;e+=1)a[wy[e].charCodeAt(0)]=-2;for(let e=0;e<Yo.length;e+=1)a[Yo[e].charCodeAt(0)]=e;return a})();function ky(a,e,n){if(a!==null)for(e.queue=e.queue<<8|a,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Yo[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Yo[i]),e.queuedBits-=6}}function Tb(a,e,n){const i=Ij[a];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function jy(a){const e=[],n=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},d=u=>{Yj(u,i,n)};for(let u=0;u<a.length;u+=1)Tb(a.charCodeAt(u),o,d);return e.join("")}function Gj(a,e){if(a<=127){e(a);return}else if(a<=2047){e(192|a>>6),e(128|a&63);return}else if(a<=65535){e(224|a>>12),e(128|a>>6&63),e(128|a&63);return}else if(a<=1114111){e(240|a>>18),e(128|a>>12&63),e(128|a>>6&63),e(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function Fj(a,e){for(let n=0;n<a.length;n+=1){let i=a.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(a.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}Gj(i,e)}}function Yj(a,e,n){if(e.utf8seq===0){if(a<=127){n(a);return}for(let i=1;i<6;i+=1)if((a>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=a&31;else if(e.utf8seq===3)e.codepoint=a&15;else if(e.utf8seq===4)e.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|a&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Sr(a){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<a.length;o+=1)Tb(a.charCodeAt(o),n,i);return new Uint8Array(e)}function Kj(a){const e=[];return Fj(a,n=>e.push(n)),new Uint8Array(e)}function yn(a){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};return a.forEach(o=>ky(o,n,i)),ky(null,n,i),e.join("")}function Zj(a){return Math.round(Date.now()/1e3)+a}function Wj(){return Symbol("auth-callback")}const Et=()=>typeof window<"u"&&typeof document<"u",dn={tested:!1,writable:!1},Ab=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dn.tested)return dn.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),dn.tested=!0,dn.writable=!0}catch{dn.tested=!0,dn.writable=!1}return dn.writable};function Xj(a){const e={},n=new URL(a);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,d)=>{e[d]=o})}catch{}return n.searchParams.forEach((i,o)=>{e[o]=i}),e}const Eb=a=>a?(...e)=>a(...e):(...e)=>fetch(...e),Qj=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",xr=async(a,e,n)=>{await a.setItem(e,JSON.stringify(n))},un=async(a,e)=>{const n=await a.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tt=async(a,e)=>{await a.removeItem(e)};class dc{constructor(){this.promise=new dc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}dc.promiseConstructor=Promise;function Fu(a){const e=a.split(".");if(e.length!==3)throw new Eh("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Uj.test(e[i]))throw new Eh("JWT not in base64url format");return{header:JSON.parse(jy(e[0])),payload:JSON.parse(jy(e[1])),signature:Sr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Jj(a){return await new Promise(e=>{setTimeout(()=>e(null),a)})}function e5(a,e){return new Promise((i,o)=>{(async()=>{for(let d=0;d<1/0;d++)try{const u=await a(d);if(!e(d,null,u)){i(u);return}}catch(u){if(!e(d,u)){o(u);return}}})()})}function t5(a){return("0"+a.toString(16)).substr(-2)}function a5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let d=0;d<56;d++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,t5).join("")}async function s5(a){const n=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(d=>String.fromCharCode(d)).join("")}async function n5(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const n=await s5(a);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ur(a,e,n=!1){const i=a5();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await xr(a,`${e}-code-verifier`,o);const d=await n5(i);return[d,i===d?"plain":"s256"]}const r5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function i5(a){const e=a.headers.get(Th);if(!e||!e.match(r5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function l5(a){if(!a)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(a<=e)throw new Error("JWT has expired")}function o5(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const c5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hr(a){if(!c5.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yu(){const a={};return new Proxy(a,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function d5(a,e){return new Proxy(a,{get:(n,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const d=i.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,o)}})}function Sy(a){return JSON.parse(JSON.stringify(a))}const mn=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),u5=[502,503,504];async function Ny(a){var e;if(!Qj(a))throw new Ah(mn(a),0);if(u5.includes(a.status))throw new Ah(mn(a),a.status);let n;try{n=await a.json()}catch(d){throw new pn(mn(d),d)}let i;const o=i5(a);if(o&&o.getTime()>=Cb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new vy(mn(n),a.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new aa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((d,u)=>d&&typeof u=="string",!0))throw new vy(mn(n),a.status,n.weak_password.reasons);throw new Pj(mn(n),a.status||500,i)}const h5=(a,e,n,i)=>{const o={method:a,headers:(e==null?void 0:e.headers)||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function je(a,e,n,i){var o;const d=Object.assign({},i==null?void 0:i.headers);d[Th]||(d[Th]=Cb["2024-01-01"].name),i!=null&&i.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const m=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await m5(a,e,n+m,{headers:d,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function m5(a,e,n,i,o,d){const u=h5(e,i,o,d);let m;try{m=await a(n,Object.assign({},u))}catch(f){throw console.error(f),new Ah(mn(f),0)}if(m.ok||await Ny(m),i!=null&&i.noResolveJson)return m;try{return await m.json()}catch(f){await Ny(f)}}function Na(a){var e;let n=null;p5(a)&&(n=Object.assign({},a),a.expires_at||(n.expires_at=Zj(a.expires_in)));const i=(e=a.user)!==null&&e!==void 0?e:a;return{data:{session:n,user:i},error:null}}function _y(a){const e=Na(a);return!e.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=a.weak_password),e}function Ms(a){var e;return{data:{user:(e=a.user)!==null&&e!==void 0?e:a},error:null}}function f5(a){return{data:a,error:null}}function g5(a){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:d}=a,u=cc(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:d},f=Object.assign({},u);return{data:{properties:m,user:f},error:null}}function Cy(a){return a}function p5(a){return a.access_token&&a.refresh_token&&a.expires_in}const Ku=["global","local","others"];class y5{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Eb(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ku[0]){if(Ku.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ku.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ms})}catch(i){if(be(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=cc(e,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:g5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ms})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,o,d,u,m,f;try{const p={nextPage:null,lastPage:0,total:0},y=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(d=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&d!==void 0?d:""},xform:Cy});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,j=(f=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&f!==void 0?f:[];return j.length>0&&(j.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);p[`${E}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(be(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){hr(e);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ms})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){hr(e);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ms})}catch(i){if(be(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){hr(e);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ms})}catch(i){if(be(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){hr(e.userId);try{const{data:n,error:i}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(e){hr(e.userId),hr(e.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,o,d,u,m,f;try{const p={nextPage:null,lastPage:0,total:0},y=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(d=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&d!==void 0?d:""},xform:Cy});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,j=(f=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&f!==void 0?f:[];return j.length>0&&(j.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);p[`${E}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(be(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(be(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}}function Ty(a={}){return{getItem:e=>a[e]||null,setItem:(e,n)=>{a[e]=n},removeItem:e=>{delete a[e]}}}const mr={debug:!!(globalThis&&Ab()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Db extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class x5 extends Db{}async function b5(a,e,n){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await n()}finally{mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(e===0)throw mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new x5(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(mr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function v5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zb(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function w5(a){return parseInt(a,16)}function k5(a){const e=new TextEncoder().encode(a);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function j5(a){var e;const{chainId:n,domain:i,expirationTime:o,issuedAt:d=new Date,nonce:u,notBefore:m,requestId:f,resources:p,scheme:y,uri:v,version:w}=a;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=a.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const j=zb(a.address),S=y?`${y}://${i}`:i,T=a.statement?`${a.statement}
`:"",E=`${S} wants you to sign in with your Ethereum account:
${j}

${T}`;let A=`URI: ${v}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${d.toISOString()}`;if(o&&(A+=`
Expiration Time: ${o.toISOString()}`),m&&(A+=`
Not Before: ${m.toISOString()}`),f&&(A+=`
Request ID: ${f}`),p){let D=`
Resources:`;for(const _ of p){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);D+=`
- ${_}`}A+=D}return`${E}
${A}`}class dt extends Error{constructor({message:e,code:n,cause:i,name:o}){var d;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(d=o??(i instanceof Error?i.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=n}}class Ko extends dt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function S5({error:a,options:e}){var n,i,o;const{publicKey:d}=e;if(!d)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((n=d.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(e.mediation==="conditional"&&((i=d.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=d.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new dt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const u=window.location.hostname;if(Ob(u)){if(d.rp.id!==u)return new dt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function N5({error:a,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new dt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const i=window.location.hostname;if(Ob(i)){if(n.rpId!==i)return new dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class _5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const C5=new _5;function T5(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:e,user:n,excludeCredentials:i}=a,o=cc(a,["challenge","user","excludeCredentials"]),d=Sr(e).buffer,u=Object.assign(Object.assign({},n),{id:Sr(n.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:d,user:u});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const p=i[f];m.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:Sr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function A5(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:e,allowCredentials:n}=a,i=cc(a,["challenge","allowCredentials"]),o=Sr(e).buffer,d=Object.assign(Object.assign({},i),{challenge:o});if(n&&n.length>0){d.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const m=n[u];d.allowCredentials[u]=Object.assign(Object.assign({},m),{id:Sr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function E5(a){var e;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const n=a;return{id:a.id,rawId:a.id,response:{attestationObject:yn(new Uint8Array(a.response.attestationObject)),clientDataJSON:yn(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function D5(a){var e;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const n=a,i=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:yn(new Uint8Array(o.authenticatorData)),clientDataJSON:yn(new Uint8Array(o.clientDataJSON)),signature:yn(new Uint8Array(o.signature)),userHandle:o.userHandle?yn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ob(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Ay(){var a,e;return!!(Et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function z5(a){try{const e=await navigator.credentials.create(a);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ko("Browser returned unexpected credential type",e)}:{data:null,error:new Ko("Empty credential response",e)}}catch(e){return{data:null,error:S5({error:e,options:a})}}}async function O5(a){try{const e=await navigator.credentials.get(a);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ko("Browser returned unexpected credential type",e)}:{data:null,error:new Ko("Empty credential response",e)}}catch(e){return{data:null,error:N5({error:e,options:a})}}}const R5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},M5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zo(...a){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of a)if(o)for(const d in o){const u=o[d];if(u!==void 0)if(Array.isArray(u))i[d]=u;else if(n(u))i[d]=u;else if(e(u)){const m=i[d];e(m)?i[d]=Zo(m,u):i[d]=Zo(u)}else i[d]=u}return i}function L5(a,e){return Zo(R5,a,e||{})}function U5(a,e){return Zo(M5,a,e||{})}class B5{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:o},d){try{const{data:u,error:m}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:m};const f=o??C5.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=L5(u.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:y,error:v}=await z5({publicKey:p,signal:f});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const p=U5(u.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:y,error:v}=await O5(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return be(u)?{data:null,error:u}:{data:null,error:new pn("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},d){if(!n)return{data:null,error:new Ki("rpId is required for WebAuthn authentication")};try{if(!Ay())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:u,error:m}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:o},{request:d});if(!u)return{data:null,error:m};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:i,credential_response:f.credential_response}})}catch(u){return be(u)?{data:null,error:u}:{data:null,error:new pn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},d){if(!n)return{data:null,error:new Ki("rpId is required for WebAuthn registration")};try{if(!Ay())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:u,error:m}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:m};const{data:f,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:o},{create:d});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(u){return be(u)?{data:null,error:u}:{data:null,error:new pn("Unexpected error in register",u)}}}}v5();const P5={url:Rj,storageKey:Mj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ey(a,e,n){return await n()}const fr={};class Zi{get jwks(){var e,n;return(n=(e=fr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=fr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},P5),e);if(this.storageKey=d.storageKey,this.instanceID=(n=Zi.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Zi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&Et()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new y5({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Eb(d.fetch),this.lock=d.lock||Ey,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&Et()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=b5:this.lock=Ey,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new B5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Ab()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ty(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Ty(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_b}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(Et()&&(n=Xj(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),Et()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:d}=await this._getSessionFromURL(n,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Hj(d)){const f=(e=d.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:u,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",m),await this._saveSession(u),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?this._returnResult({error:n}):this._returnResult({error:new pn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,o;try{const d=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Na}),{data:u,error:m}=d;if(m||!u)return this._returnResult({data:{user:null,session:null},error:m});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(d){if(be(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(e){var n,i,o;try{let d;if("email"in e){const{email:y,password:v,options:w}=e;let j=null,S=null;this.flowType==="pkce"&&([j,S]=await ur(this.storage,this.storageKey)),d=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:v,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:j,code_challenge_method:S},xform:Na})}else if("phone"in e){const{phone:y,password:v,options:w}=e;d=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Na})}else throw new Mo("You must provide either an email or phone number and a password");const{data:u,error:m}=d;if(m||!u)return await Tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(d){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),be(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(e){try{let n;if("email"in e){const{email:d,password:u,options:m}=e;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:u,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:_y})}else if("phone"in e){const{phone:d,password:u,options:m}=e;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:u,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:_y})}else throw new Mo("You must provide either an email or phone number and a password");const{data:i,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const d=new dr;return this._returnResult({data:{user:null,session:null},error:d})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,o,d;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(d=e.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,o,d,u,m,f,p,y,v,w;let j,S;if("message"in e)j=e.message,S=e.signature;else{const{chain:T,wallet:E,statement:A,options:D}=e;let _;if(Et())if(typeof E=="object")_=E;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")_=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=E}const C=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href),H=await _.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=zb(H[0]);let $=(i=D==null?void 0:D.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!$){const q=await _.request({method:"eth_chainId"});$=w5(q)}const B={domain:C.host,address:V,statement:A,uri:C.href,version:"1",chainId:$,nonce:(o=D==null?void 0:D.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(d=D==null?void 0:D.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(m=D==null?void 0:D.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(f=D==null?void 0:D.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=D==null?void 0:D.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=D==null?void 0:D.signInWithEthereum)===null||y===void 0?void 0:y.resources};j=j5(B),S=await _.request({method:"personal_sign",params:[k5(j),V]})}try{const{data:T,error:E}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:S},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Na});if(E)throw E;if(!T||!T.session||!T.user){const A=new dr;return this._returnResult({data:{user:null,session:null},error:A})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:E})}catch(T){if(be(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(e){var n,i,o,d,u,m,f,p,y,v,w,j;let S,T;if("message"in e)S=e.message,T=e.signature;else{const{chain:E,wallet:A,statement:D,options:_}=e;let C;if(Et())if(typeof A=="object")C=A;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))C=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=A}const H=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const V=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),D?{statement:D}:null));let $;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")$=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)$=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)S=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),T=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${H.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(o=(i=_==null?void 0:_.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((d=_==null?void 0:_.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((m=_==null?void 0:_.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((f=_==null?void 0:_.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((p=_==null?void 0:_.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((v=(y=_==null?void 0:_.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",..._.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const V=await C.signMessage(new TextEncoder().encode(S),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=V}}try{const{data:E,error:A}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:yn(T)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(j=e.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Na});if(A)throw A;if(!E||!E.session||!E.user){const D=new dr;return this._returnResult({data:{user:null,session:null},error:D})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:A})}catch(E){if(be(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const n=await un(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new qj;const{data:d,error:u}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Na});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!d||!d.session||!d.user){const m=new dr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:o??null}),error:u})}catch(d){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),be(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(e){try{const{options:n,provider:i,token:o,access_token:d,nonce:u}=e,m=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:d,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Na}),{data:f,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const y=new dr;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,o,d,u;try{if("email"in e){const{email:m,options:f}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ur(this.storage,this.storageKey));const{error:v}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:m,options:f}=e,{data:p,error:y}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(d=f==null?void 0:f.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new Mo("You must provide either an email or phone number.")}catch(m){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),be(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(e){var n,i;try{let o,d;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,d=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:m}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:d}}),redirectTo:o,xform:Na});if(m)throw m;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,i,o,d,u;try{let m=null,f=null;this.flowType==="pkce"&&([m,f]=await ur(this.storage,this.storageKey));const p=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:f}),headers:this.headers,xform:f5});return!((d=p.data)===null||d===void 0)&&d.url&&Et()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),be(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new aa;const{error:o}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(be(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:d}=e,{error:u}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:o,options:d}=e,{data:u,error:m}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:m})}throw new Mo("You must provide either an email or phone number and a type")}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await un(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Iu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await un(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Yu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=d5(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:d}=await this._callRefreshToken(e.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ms}):await this._useSession(async n=>{var i,o,d;const{data:u,error:m}=n;if(m)throw m;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new aa}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0,xform:Ms})})}catch(n){if(be(n))return Vj(n)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:o,error:d}=i;if(d)throw d;if(!o.session)throw new aa;const u=o.session;let m=null,f=null;this.flowType==="pkce"&&e.email!=null&&([m,f]=await ur(this.storage,this.storageKey));const{data:p,error:y}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:f}),jwt:u.access_token,xform:Ms});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),be(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new aa;const n=Date.now()/1e3;let i=n,o=!0,d=null;const{payload:u}=Fu(e.access_token);if(u.exp&&(i=u.exp,o=i<=n),o){const{data:m,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:f}=await this._getUser(e.access_token);if(f)throw f;d={access_token:e.access_token,refresh_token:e.refresh_token,user:m.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:u,error:m}=n;if(m)throw m;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new aa;const{data:o,error:d}=await this._callRefreshToken(e.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Et())throw new Lo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Lo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new by("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new by("No code detected.");const{data:D,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:d,refresh_token:u,expires_in:m,expires_at:f,token_type:p}=e;if(!d||!m||!u||!p)throw new Lo("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(m);let w=y+v;f&&(w=parseInt(f));const j=w-y;j*1e3<=yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${v}s`);const S=w-v;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,y);const{data:T,error:E}=await this._getUser(d);if(E)throw E;const A={provider_token:i,provider_refresh_token:o,access_token:d,expires_in:v,expires_at:w,refresh_token:u,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(i){if(be(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await un(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:d}=n;if(d)return this._returnResult({error:d});const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:m}=await this.admin.signOut(u,e);if(m&&!($j(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return e!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Wj(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,o;try{const{data:{session:d},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",e,"session",d)}catch(d){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",d),console.error(d)}})}async resetPasswordForEmail(e,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ur(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(d){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),be(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:o}=await this._useSession(async d=>{var u,m,f,p,y;const{data:v,error:w}=d;if(w)throw w;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(m=e.options)===null||m===void 0?void 0:m.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",j,{headers:this.headers,jwt:(y=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Et()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(be(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:o,data:{session:d}}=n;if(o)throw o;const{options:u,provider:m,token:f,access_token:p,nonce:y}=e,v=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=d==null?void 0:d.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:f,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Na}),{data:w,error:j}=v;return j?this._returnResult({data:{user:null,session:null},error:j}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new dr}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:j}))}catch(o){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,o;const{data:d,error:u}=n;if(u)throw u;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await e5(async o=>(o>0&&await Jj(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Na})),(o,d)=>{const u=200*Math.pow(2,o);return d&&Gu(d)&&Date.now()+u-i<yr})}catch(i){if(this._debug(n,"error",i),be(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Et()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await un(this.storage,this.storageKey);if(o&&this.userStorage){let u=await un(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await xr(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Yu()}else if(o&&!o.user&&!o.user){const u=await un(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await Tt(this.storage,this.storageKey+"-user"),await xr(this.storage,this.storageKey,o)):o.user=Yu()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const d=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Iu;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${Iu}s`),d){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Gu(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:m}=await this._getUser(o.access_token);!m&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new dc;const{data:d,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!d.session)throw new aa;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(o,"error",d),be(d)){const u={data:null,error:d};return Gu(d)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const d=[],u=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(e,n)}catch(f){d.push(f)}});if(await Promise.all(u),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Tt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await xr(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const d=Sy(o);await xr(this.storage,this.storageKey,d)}else{const o=Sy(n);await xr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${yr}ms, refresh threshold is ${Ch} ticks`),o<=Ch&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Db)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,u]=await ur(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(m.toString())}if(i!=null&&i.queryParams){const d=new URLSearchParams(i.queryParams);o.push(d.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:o,error:d}=n;return d?this._returnResult({data:null,error:d}):await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,o;const{data:d,error:u}=n;if(u)return this._returnResult({data:null,error:u});const m=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await je(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=d==null?void 0:d.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:d}=n;if(d)return this._returnResult({data:null,error:d});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?E5(e.webauthn.credential_response):D5(e.webauthn.credential_response)})}:{code:e.code}),{data:m,error:f}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:f}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:d}=n;if(d)return this._returnResult({data:null,error:d});const u=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:m}=u;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:T5(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:A5(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const d of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(d),d.status==="verified"&&o[d.factor_type].push(d);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Fu(i.access_token);let u=null;d.aal&&(u=d.aal);let m=u;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const p=d.amr||[];return{data:{currentLevel:u,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new aa})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:o},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!o)return this._returnResult({data:null,error:new aa});const u=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return u.data&&u.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:o},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!o)return this._returnResult({data:null,error:new aa});const u=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return u.data&&u.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new aa})})}catch(e){if(be(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new aa})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(m=>m.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(m=>m.kid===e),i&&this.jwks_cached_at+Bj>o)return i;const{data:d,error:u}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=o,i=d.keys.find(m=>m.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:j,error:S}=await this.getSession();if(S||!j.session)return this._returnResult({data:null,error:S});i=j.session.access_token}const{header:o,payload:d,signature:u,raw:{header:m,payload:f}}=Fu(i);n!=null&&n.allowExpired||l5(d.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:j}=await this.getUser(i);if(j)throw j;return{data:{claims:d,header:o,signature:u},error:null}}const y=o5(o.alg),v=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,Kj(`${m}.${f}`)))throw new Eh("Invalid JWT signature");return{data:{claims:d,header:o,signature:u},error:null}}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}}Zi.nextInstanceID={};const $5=Zi,V5="2.90.1";let Mi="";typeof Deno<"u"?Mi="deno":typeof document<"u"?Mi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mi="react-native":Mi="node";const H5={"X-Client-Info":`supabase-js-${Mi}/${V5}`},q5={headers:H5},I5={schema:"public"},G5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},F5={};function Wi(a){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi(a)}function Y5(a,e){if(Wi(a)!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var i=n.call(a,e);if(Wi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function K5(a){var e=Y5(a,"string");return Wi(e)=="symbol"?e:e+""}function Z5(a,e,n){return(e=K5(e))in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function Dy(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),n.push.apply(n,i)}return n}function tt(a){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dy(Object(n),!0).forEach(function(i){Z5(a,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(n,i))})}return a}const W5=a=>a?(...e)=>a(...e):(...e)=>fetch(...e),X5=()=>Headers,Q5=(a,e,n)=>{const i=W5(n),o=X5();return async(d,u)=>{var m;const f=(m=await e())!==null&&m!==void 0?m:a;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),i(d,tt(tt({},u),{},{headers:p}))}};function J5(a){return a.endsWith("/")?a:a+"/"}function eS(a,e){var n,i;const{db:o,auth:d,realtime:u,global:m}=a,{db:f,auth:p,realtime:y,global:v}=e,w={db:tt(tt({},f),o),auth:tt(tt({},p),d),realtime:tt(tt({},y),u),storage:{},global:tt(tt(tt({},v),m),{},{headers:tt(tt({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(i=m==null?void 0:m.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return a.accessToken?w.accessToken=a.accessToken:delete w.accessToken,w}function tS(a){const e=a==null?void 0:a.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(J5(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var aS=class extends $5{constructor(a){super(a)}},sS=class{constructor(a,e,n){var i,o;this.supabaseUrl=a,this.supabaseKey=e;const d=tS(a);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const u=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:I5,realtime:F5,auth:tt(tt({},G5),{},{storageKey:u}),global:q5},f=eS(n??{},m);if(this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=f.auth)!==null&&p!==void 0?p:{},this.headers,f.global.fetch)}this.fetch=Q5(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(tt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new L2(new URL("rest/v1",d).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Oj(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new D2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,e,n)}channel(a,e={config:{}}){return this.realtime.channel(a,e)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,e,n;if(a.accessToken)return await a.accessToken();const{data:i}=await a.auth.getSession();return(e=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:d,flowType:u,lock:m,debug:f,throwOnError:p},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aS({url:this.authUrl.href,headers:tt(tt({},w),y),storageKey:d,autoRefreshToken:a,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:o,flowType:u,lock:m,debug:f,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new J2(this.realtimeUrl.href,tt(tt({},a),{},{params:tt(tt({},{apikey:this.supabaseKey}),a==null?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,e)=>{this._handleTokenChanged(a,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(a,e,n){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nS=(a,e,n)=>new sS(a,e,n);function rS(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const e=a.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}rS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iS="https://kxvimzacukdqqldfkocu.supabase.co",lS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt4dmltemFjdWtkcXFsZGZrb2N1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5MzgyNjUsImV4cCI6MjA3NzUxNDI2NX0.c6m_N2avqmV_vqaAxPhS1ftRUbJTEmBge3AxLpXRu6U",Z=nS(iS,lS);let Sn="tr";const oS=()=>{var a;if(typeof window<"u"){const e=localStorage.getItem("app_language");if(e==="tr"||e==="en")return e;if(((a=navigator.language)==null?void 0:a.slice(0,2))==="en")return"en"}return"tr"};Sn=oS();const Wo=a=>{Sn=a,typeof window<"u"&&localStorage.setItem("app_language",a)},Be=()=>Sn,cS={tr:{turkish:"Trke",math:"Matematik",science:"Fen",social:"Sosyal",motor_health:"Hareket ve Salk",art:"Sanat",music:"Mzik"},en:{turkish:"Turkish Language",math:"Mathematics",science:"Science",social:"Social Studies",motor_health:"Motor & Health",art:"Art",music:"Music"}},xt=()=>cS[Sn],dS={tr:{classroom:"Snf i",outdoor:"D Mekan",home:"Ev",other:"Dier"},en:{classroom:"Classroom",outdoor:"Outdoor",home:"Home",other:"Other"}},zy=()=>dS[Sn],Ma=()=>Sn==="tr"?"tr-TR":"en-US",Oy={tr:{appName:"Lukid AI",signInTitle:"Giri Yapn",signUpTitle:"Hesap Oluturun",signInDescription:"Hesabnza erimek iin e-posta ve parolanz girin.",signUpDescription:"Balamak iin yeni bir hesap oluturun.",emailLabel:"E-posta Adresi",passwordLabel:"Parola",signInAction:"Giri Yap",signUpAction:"ye Ol",noAccountPrompt:"Hesabnz yok mu?",haveAccountPrompt:"Zaten hesabnz var m?",switchToSignUp:"ye Olun",switchToSignIn:"Giri Yapn",signUpSuccess:"Hesabnz oluturuldu! Ltfen e-postanz dorulayn.",apiKeyError:"Supabase API Anahtar geersiz veya eksik.",dashboard:"Anasayfa",children:"ocuklar",observations:"Gzlemler",settings:"Ayarlar",signOut:"k Yap",welcome:"Ho Geldiniz",landingHero:"Erken ocukluk eitiminde yapay zeka destekli dijital portfolyo uygulamas. Trkiye Yzyl Maarif Modeli Okul ncesi Eitim Program ile uyumlu olarak okul ncesi retmenleri iin tasarland.",smartAnalysisTitle:"Akll Gzlem Analizi",smartAnalysisDesc:"Yapay zeka ile otomatik deerlendirme ve neriler",digitalPortfolioTitle:"Dijital Portfolyo",digitalPortfolioDesc:"ocuklarn rnlerini ve geliimini dijital ortamda saklayn",anyDeviceTitle:"Her Yerden Eriim",anyDeviceDesc:"Telefon, tablet veya bilgisayardan kolayca ulan",createAccountTitle:"Hesap Olutur",welcomeTitle:"Ho Geldiniz",createAccountDesc:"Yeni bir hesap oluturun ve balayn",signInDesc:"Hesabnza giri yapn",yourName:"Adnz",yourSurname:"Soyadnz",schoolName:"Okul Ad",secureSSL:"SSL ifreli",secureBadge:"Gvenli",fastBadge:"Hzl",footerRights:" 2025 Lukid AI - Tm haklar sakldr",haveAccountBtn:"Zaten hesabnz var m? Giri yapn",noAccountBtn:"Hesabnz yok mu? Kayt olun",missingTeacherFields:"Ltfen ad, soyad ve okul alanlarn doldurun.",recentObservations:"Son Gzlemler",quickAccess:"Hzl Eriim",addChild:"ocuk Ekle",addObservation:"Gzlem Ekle",editObservation:"Gzlemi Dzenle",childList:"Kaytl ocuklar",searchChild:"ocuk ara...",noChildrenFound:"Henz hi ocuk eklenmedi.",childProfile:"ocuk Profili",firstName:"Ad",lastName:"Soyad",dob:"Doum Tarihi",age:"Ya",classroom:"Snf",parentalConsent:"Veli Onay Alnd",save:"Kaydet",cancel:"ptal",delete:"Sil",edit:"Dzenle",newObservationFor:"iin Yeni Gzlem",observationNote:"Gzlem Notu",notePlaceholder:"ocuun davranlar, szleri ve etkileimleri hakknda detayl notlar...",developmentDomains:"Beceri Alanlar",selectDomains:"lgili beceri alanlarn sein",context:"Ortam",tags:"Etiketler",tagsPlaceholder:"Virgl ile ayrarak etiket ekleyin",addMedia:"Fotoraf/Video Ekle",submitObservation:"Gzlemi Kaydet",consentYes:"Evet",consentNo:"Hayr",childDetail:"ocuk Detaylar",profile:"Profil",development:"Geliim",media:"Medya",generateReport:"Beceri Edinim Raporu Olutur",reportSuccess:"Geliim raporu baaryla oluturuldu ve indirildi!",aiAnalysis:"Yapay Zeka Analizi",getAnalysis:"Analiz ste",summary:"zet",riskLevel:"Risk Dzeyi",suggestions:"retmene neriler",domainScores:"Alan Puanlar",low:"Dk",medium:"Orta",high:"Yksek",loading:"Ykleniyor...",deleting:"Siliniyor...",errorOccurred:"Bir hata olutu.",offlineWarning:"evrimd moddasnz.",syncAttempt:"Veriler senkronize ediliyor...",syncSuccess:"Veriler baaryla senkronize edildi.",syncError:"Senkronizasyon srasnda hata olutu.",noInternetConnection:"nternet balantnz bulunmuyor. Baz zellikler almayabilir.",exportData:"Verileri Da Aktar",exportChildData:"ocuun Verilerini Da Aktar (JSON)",legal:"Yasal Bilgiler",privacyPolicy:"Gizlilik Politikas",termsOfService:"Hizmet artlar",noRecentObservations:"Yakn zamanda gzlem yok.",childNotFound:"ocuk bulunamad.",pendingSync:"Senkronizasyon bekleniyor.",developmentSummary:"Geliim zeti",developmentReport:"Beceri Edinim Raporu",reportDate:"Rapor Tarihi",childInfo:"ocuk Bilgileri",fullName:"Tam Ad",aiSummariesAndSuggestions:"Yapay Zeka zetleri ve neriler",noAssessmentsForReport:"Rapor iin deerlendirme yok.",observationDate:"Gzlem Tarihi",aiSummary:"Yapay Zeka zeti",observationSavedOffline:"Gzlem evrimd kaydedildi.",observationsSynced:"Gzlemler senkronize edildi.",exportDataDescription:"Tm verilerinizi JSON olarak da Aktarn.",exportAllData:"Tm Verileri Da Aktar",products:"rnler",selectValidImage:"Ltfen geerli bir resim dosyas sein.",fileTooLarge:"Dosya boyutu ok byk. Maksimum 10MB olmaldr.",profilePhoto:"Profil Fotoraf",retakePhoto:"Yeniden ek",deletePhoto:"Fotoraf Sil",takeWithCamera:"Kamera ile ek",uploadFromFile:"Dosyadan Ykle",changePhoto:"Fotoraf Deitir",lowRisk:"Dk Risk",mediumRisk:"Orta Risk",highRisk:"Yksek Risk",unknown:"Belirsiz",notAddedYet:"Henz eklenmedi.",interestsSection:"lgi Alanlar",strengthsSection:"Gl Ynler",guardiansSection:"Veli ve letiim Bilgileri",noGuardiansAdded:"Veli bilgisi eklenmemi.",enrollmentDate:"Kayt Tarihi",importantNotes:"nemli Notlar",aiInsights:"Yapay Zek ngrleri",goalsLoadError:"Hedefler yklenemedi",goalsLoading:"Hedefler ykleniyor...",developmentGoals:"Geliim Hedefleri",addGoal:"Hedef Ekle",addNewGoal:"Yeni Hedef Ekle",goalTitle:"Hedef Bal",goalTitlePlaceholder:"rn: 10 kelime renme",developmentArea:"Geliim Alan",priority:"ncelik",priorityLow:"Dk",priorityMedium:"Orta",priorityHigh:"Yksek",targetDate:"Hedef Tarihi",descriptionLabel:"Aklama",descriptionPlaceholder:"Hedef hakknda detayl aklama...",statusCompleted:"Tamamland",statusInProgress:"Devam Ediyor",statusNotStarted:"Balamad",statusCancelled:"ptal Edildi",noGoalsYet:"Henz hedef belirlenmemi.",addGoalHint:"Yukardaki butondan yeni hedef ekleyebilirsiniz.",attachPhotoOptional:"Ek Fotoraf (istee bal)",present:"Geldi",absent:"Gelmedi",late:"Ge",allItems:"Tm",fullList:"Tm Liste",studentsShown:"renci gsteriliyor",theme:"Tema",lightTheme:"Ak",darkTheme:"Koyu",pdfTeacher:"retmen",pdfSchool:"Okul",pdfReport:"Rapor",pdfTitle:"Beceri Edinim Raporu",pdfProductMedia:"rn / Medya",pdfObservation:"Gzlem",pdfObservationNote:"Gzlem Notu",pdfAiSummary:"Yapay Zek zeti",pdfSuggestions:"retmene neriler",pdfBirth:"Doum",pdfAge:"Ya",pdfClass:"Snf",pdfNoObservations:"Gzlem bulunamad.",pdfYears:"yl",pdfMonths:"ay",filtering:"Filtreleniyor",classLabel:"Snf:",pinned:"Sabitlenmi",last7daysObs:"Son 7 Gn Gzlem",last7daysProducts:"Son 7 Gn rn",nameSurnamePlaceholder:"Ad Soyad...",developmentTrend:"Geliim Alan Trendi (8 Hafta)",deleteClassConfirm:'"{classroom}" snfn silmek istediinize emin misiniz?',deleteClassConfirmWithChildren:`"{classroom}" snfn silmek istediinize emin misiniz?

Bu ilem {childCount} ocuu ve tm gzlem/rn kaytlarn kalc olarak silecektir!`,classDeleting:"Snf siliniyor...",changeLanguageDesc:"Uygulama dilini deitirin.",createDemoData:"Demo Verisi Olutur",demoDataDesc:"Mevcut hesabnza rnek snf, ocuk, gzlem ve rn fotoraflar ekler.",classCount:"Snf says (15)",childrenPerClass:"Snf bana ocuk",obsPerChild:"ocuk bana gzlem",mediaPerChild:"ocuk bana rn",starting:"Balyor...",completed:"Tamamland.",errorPrefix:"Hata:",creating:"Oluturuluyor...",createDemoBtn:"Demo Verisini Olutur",demoNote:"Not: lem internet hzna gre zaman alabilir.",confirmRemoveDemo:"Demo verileri kaldrlacak. Devam edilsin mi?",removing:"Kaldrlyor...",removeDemoBtn:"Demo Verisini Geri Al",aiInsightsDesc:"Hesabnzdaki gzlemler iin eksik/yer tutucu (fallback) analizleri yeniden oluturur.",recomputeBtn:"Tm ocuklar in Yeniden Olutur",recomputeSuccess:"Tamamland. ocuk sayfalarnda Yenile'ye gerek kalmadan neriler grnr.",deleteAccount:"Hesabm Sil",deleteAccountConfirm:"DKKAT! Hesabnz ve tm veriler (ocuklar, fotoraflar, gzlemler) kalc olarak silinecektir. Bu ilem geri alnamaz. Devam etmek istiyor musunuz?",deleteAccountWarning:"Hesabnzla ilikili tm veriler siliniyor...",accountDeleted:"Hesabnz baaryla silindi.",advancedOps:"Gelimi lemler",exportToExcel:"Excele Aktar (CSV)",exportDesc:"Tm ocuk verilerinizi Excel formatnda (CSV) da aktarn.",exportNote:"Trke karakterler korunur, Excelde dzenleme ve analiz yapabilirsiniz.",preparingData:"Veriler hazrlanyor...",noChildrenToExport:"Da aktarlacak ocuk bulunamad.",preparingChildren:"ocuk verisi hazrlanyor...",downloadCompleted:"Tamamland! ocuk iin Excel dosyas indirildi.",preparing:"Hazrlanyor...",exportBtn:"Excele Aktar",exportCsvNote:"* Tek bir CSV dosyas indirilecek, Excelde alabilir.",totalObservations:"Toplam Gzlem",mediaCount:"rn/Medya Says",lastObservation:"Son Gzlem",consentPending:"Bekliyor",uploadProduct:"rn Ykle",noProductsAdded:"Henz rn eklenmedi.",productName:"rn Ad",productDescription:"rn Hakknda Not",productDomain:"lgili Beceri Alan",selectFile:"Medya Se",fileSelected:"Dosya Seildi:",noFileSelected:"Henz dosya seilmedi.",productNamePlaceholder:"rn: Renkli Bloklarla Yaplan Kule",productDescriptionPlaceholder:"Ksa aklama...",selectDomainPrompt:"Bir geliim alan sein...",confirmDeleteTitle:"Kayd Sil",confirmDeleteMessage:"Bu kayd silmek istiyor musunuz?",sharedWithFamily:"Aileyle Paylald",shareWithFamily:"Aileyle Payla",sharedMedia:"Paylalan Grseller",noSharedMedia:"Henz paylalan grsel yok",messagingHours:"Mesaj Saatleri",messagingHoursDesc:"Mesaj kabul ettiiniz saatleri ayarlayn",enableMessagingHours:"Mesaj saatlerini etkinletir",availableDays:"Uygun Gnler",availableHours:"Uygun Saatler",startTime:"Balang",endTime:"Biti",monday:"Pazartesi",tuesday:"Sal",wednesday:"aramba",thursday:"Perembe",friday:"Cuma",saturday:"Cumartesi",sunday:"Pazar",teacherAvailableHours:"retmen mesaj kabul saatleri",messageScheduled:"Bu mesaj belirtilen saatte iletilecek",scheduledFor:"letilecek saat",manualOverride:"Manuel Kontrol",acceptingMessages:"Mesaj Kabul Ediliyor",notAcceptingMessages:"Mesaj Kabul Edilmiyor",useSchedule:"Takvimi Kullan",yes:"Evet",no:"Hayr",deleteSuccess:"Gzlem silindi.",productDeleteSuccess:"rn silindi.",basicInfo:"Temel Bilgiler",guardians:"Veli Bilgileri",healthInfo:"Salk Bilgileri",otherInfo:"Dier Bilgiler",addGuardian:"Veli Ekle",guardianName:"Ad Soyad",guardianRelation:"Yaknl",guardianPhone:"Telefon",guardianEmail:"E-posta",removeGuardian:"Kaldr",allergies:"Alerjiler (virgl ile ayrn)",healthNotes:"nemli Salk Notlar",interests:"lgi Alanlar",strengths:"Gl Ynler",editChild:"ocuk Bilgilerini Dzenle",updateSuccess:"Gncellendi.",confirmDeleteChildTitle:"ocuu Sil",confirmDeleteChildMessage:"Bu ocuu ve ilikili verileri silmek istiyor musunuz?",childDeleteSuccess:"Silindi.",editClass:"Dzenle",pdfDownload:"PDF ndir",backToClasses:"Snflara Dn",teacherFirstName:"retmen Ad",teacherLastName:"retmen Soyad",profileUpdateSuccess:"Profil gncellendi.",gettingStarted:"Balarken",language:"Dil",classes:"Snflar",attendance:"Yoklama",aiAssistant:"Yapay Zek Asistan",earlyChildhoodSystem:"Erken ocukluk Eitiminde Yapay Zeka Destekli Dijital Portfolyo Uygulamas",welcomeBack:"Ho geldin",today:"Bugn",activity7days:"Aktivite (7 gn)",viewChild:"ocua Git",pinnedChildren:"Sabitlenen ocuklar",newChat:"Yeni Sohbet",chats:"Sohbetler",noChatYet:"Henz sohbet yok.",general:"Genel",child:"ocuk",selectClass:"Snf sein",selectChild:"ocuk sein",typeMessage:"Mesajnz yazn",send:"Gnder",assistantTyping:"Asistan yazyor",noteDisclaimer:"Not: Tbbi tan koymaz; pratik snf ii neriler sunar.",createClass:"Snf Olutur",noClassFound:"Snf bulunamad. stten yeni snf oluturabilirsiniz.",allChildren:"Tm ocuklar",editClassTitle:"Snf Dzenle",className:"Snf Ad",color:"Renk",pinClass:"Snf sabitle",deleteClass:"Snf Sil",deletingClass:"Snf siliniyor...",filterClass:"Snf Filtrele",allClasses:"Tm Snflar",classReport:"Snf Raporu",aiSuggestionsForClass:"Snf iin Yapay Zek nerileri",nameSurname:"Ad Soyad",childrenList:"ocuklar",saveChildrenPortfolio:"ocuklarn rnlerini ve geliimini dijital ortamda saklayn",selectClassFirst:"Ltfen bir snf sein. nce Snflar sayfasndan snf oluturmanz gerekebilir.",createClassFirst:"nce Snflar sayfasndan snf oluturun.",classAddError:"Snf eklenemedi",noChildInClass:"Bu snfta ocuk yok.",noSuggestionsYet:"Henz neri yok.",noData:"Veri yok.",regenerateAll:"Tm ocuklar in Yeniden Olutur",generating:"Oluturuluyor...",regenerateDone:"Tamamland. ocuk sayfalarnda Yenile'ye gerek kalmadan neriler grnr.",searchBox:"ocuk ara: st ksmdaki arama kutusunu kullann.",themeSetting:"ak/koyu temay",createClassAndChild:"Snf Olutur ve ocuk Ekle",createClassDescription:"Sol mende Snflar blmnden yeni snf oluturun. Ardndan ocuklar sayfasndan her snfa ocuk kartlar ekleyin.",recordObservation:"Gzlem Kayd",recordObservationDescription:"ocuun detay sayfasna girerek gzlem ve rn kayd yapn. Yazl not veya fotoraf/video ekleyebilirsiniz.",aiReports:"Yapay Zek Raporlar",aiReportsDescription:"ocuk veya snf sayfalarndaki Rapor blmnden geliim zetlerini grntleyebilir, PDF olarak indirebilirsiniz.",tipsTitle:"pular",askAnything:'Sorunuzu yazn. rn: "3-4 ya grubu iin ince motoru glendiren etkinlik nerir misin?"',confirmDeleteChat:"sohbetini silmek istiyor musunuz?",gettingStartedDesc:"PortfoAI ile hzl bir balang yapmanz iin kapsaml kullanm klavuzu.",gsQuickStart:"Hzl Balang",gsStep1Title:"Snf Olutur",gsStep1Desc:"Snflar blmnden yeni snf ekle",gsStep2Title:"ocuk Ekle",gsStep2Desc:"Her snfa ocuk kartlar ekle",gsStep3Title:"Gzlem Yaz",gsStep3Desc:"ocuun geliimini not al",gsStep4Title:"Rapor Al",gsStep4Desc:"AI destekli beceri raporu olutur",gsMainFeatures:"Temel zellikler",gsClassManagement:"Snf Ynetimi",gsClassManagementDesc:"Snflarnz oluturun, dzenleyin ve ynetin. Her snfn detay sayfasndan o snftaki tm ocuklar ve toplu istatistikleri grntleyin.",gsClassTip1:"Snf kartna tklayarak detaylara gidin",gsClassTip2:"Snf ii trend analizlerini grntleyin",gsClassTip3:"Toplu gzlem istatistiklerini takip edin",gsViewClasses:"Snflar Grntle",gsChildPortfolio:"ocuk Portfolyosu",gsChildPortfolioDesc:"Her ocuk iin kapsaml portfolyo oluturun. Kiisel bilgiler, veli bilgileri, ilgi alanlar, gl ynler ve salk notlar ekleyin.",gsChildTip1:"Profil fotoraf ekleyebilirsiniz",gsChildTip2:"Veli iletiim bilgilerini kaydedin",gsChildTip3:"Alerjiler ve salk notlarn girin",gsViewChildren:"ocuklar Grntle",gsObservations:"Gzlem Kaytlar",gsObservationsDesc:"7 beceri alanna gre gzlem notlar ekleyin. Her gzlem iin balam ve etiketler belirleyin.",gsObsTip1:"Trke, Matematik, Fen, Sosyal, Motor-Salk, Sanat, Mzik alanlar",gsObsTip2:"Snf ii, bahe, ev veya dier balamlar sein",gsMediaPhotos:"Medya & rn Fotoraflar",gsMediaDesc:"ocuklarn rn fotoraflarn, izimlerini ve etkinlik grsellerini ykleyin. Her medyaya geliim alan ve aklama ekleyin.",gsMediaTip1:"oklu dosya ykleme destei",gsMediaTip2:"Galeri grnmnde medyalar inceleyin",gsMediaTip3:"Medya raporda otomatik yer alr",gsCommunication:"letiim zellikleri",gsParentMessaging:"Veli Mesajlama",gsParentMessagingDesc:"Velilerle gvenli mesajlama. ocuk bazl veya snf bazl sohbetler balatn, gzlem paylan.",gsMsgTip1:"Mesaj bildirimleri ile takip edin",gsMsgTip2:"Gelen kutusu ile mesajlar ynetin",gsMsgTip3:"ocuk veya snf bazl gruplar oluturun",gsViewMessages:"Mesajlar Grntle",gsAnnouncements:"Duyurular",gsAnnouncementsDesc:"Snf bazl veya tm okula duyurular gnderin. Veliler duyurular annda grsn.",gsAnnTip1:"Snfa zel veya genel duyurular",gsAnnTip2:"Duyuru gemiini grntleyin",gsAnnTip3:"Kolay dzenleme ve silme",gsGoToAnnouncements:"Duyurulara Git",gsTracking:"Takip & Raporlama",gsAttendance:"Yoklama Sistemi",gsAttendanceDesc:"Gnlk devam takibi yapn. Geldi, gelmedi, mazeretli durumlarn iaretleyin ve aylk istatistikleri grn.",gsAttTip1:"Takvim grnm ile gemi yoklamalar",gsAttTip2:"Aylk devam oranlar",gsAttTip3:"Snf bazl filtreleme",gsGoToAttendance:"Yoklamaya Git",gsSkillReport:"Beceri Edinim Raporu",gsSkillReportDesc:"AI destekli geliim raporlar oluturun. 7 beceri alannda puan, neriler ve genel deerlendirme aln.",gsReportTip1:"Word formatnda indirin",gsReportTip2:"Trke veya ngilizce rapor seenei",gsReportTip3:"Medya ve gzlemler rapora dahil",gsDataExport:"Veri Da Aktarma",gsDataExportDesc:"Tm verilerinizi JSON formatnda da aktarn. Yedekleme veya baka sistemlere tama iin kullann.",gsExportTip1:"ocuklar, gzlemler, medya verileri",gsExportTip2:"Ayarlar sayfasndan eriim",gsSettingsDemo:"Ayarlar & Demo",gsDemoData:"Demo Veri ile Kefet",gsDemoDataDesc:"Uygulamay hzlca kefetmek iin rnek veriler oluturun. 2 snf, 10 ocuk ve 1500 gzlem notu ile deneyin.",gsDemoTip1:"Ayarlar sayfasndan Demo Veri Ekle",gsDemoTip2:"stediiniz zaman demo veriyi silebilirsiniz",gsDemoTip3:"Gerek verilerinizi etkilemez",gsProfilePrefs:"Profil & Tercihler",gsProfilePrefsDesc:"Profil bilgilerinizi gncelleyin, tema sein, dil deitirin. Hesap silme ve veri ynetimi seenekleri.",gsPrefTip1:"Ak/Koyu tema destei",gsPrefTip2:"Trke/ngilizce dil seenei",gsPrefTip3:"AI deerlendirmelerini yeniden hesaplama",gsProTips:"Pro pular",gsQuickSearch:"Hzl Arama:",gsQuickSearchDesc:"st mendeki arama kutusu ile ocuklar annda bulun.",gsKeyboardShortcuts:"Klavye Ksayollar:",gsKeyboardDesc:"Tab ile alanlar aras gei yapn.",gsMobileApp:"Mobil Uygulama:",gsMobileAppDesc:"iOS ve Android'de yerel uygulama deneyimi.",goToSettings:"Ayarlar'a Git",attendanceSystem:"Yoklama Sistemi",dailyAttendanceTracking:"Gnlk devam takibi ve istatistikler",thisMonthAttendance:"Bu Ay Devam",excused:"Mazeret",unmarked:"aretlenmedi",allList:"Tm Liste",selectDate:"Tarih Se",quickAction:"Hzl lem",markAllPresent:"Hepsini Geldi aretle",markAllAbsent:"Hepsini Gelmedi aretle",clearFilter:"Filtreyi Temizle",showAll:"Tm Listeyi Gster",studentList:"renci Listesi",showingStudents:"renci gsteriliyor",showAllList:"Tmn Gster",photo:"Fotoraf",status:"Durum",action:"lem",noStudentFound:"Hi ocuk bulunamad.",noStudentInStatus:"durumunda renci bulunamad.",saveAttendance:"Yoklamay Kaydet",savingAttendance:"Kaydediliyor...",attendanceSaved:"Yoklama baaryla kaydedildi!",attendanceSaveFailed:"Yoklama kaydedilemedi",dataLoadFailed:"Veri yklenemedi",appearanceAndMenu:"Grnm ve Men",refresh:"Yenile",navHome:"Ana",navChildren:"ocuk",navClasses:"Snf",navAttendance:"Devam",navSettings:"Ayar",announcementsDesc:"Snf ve ocuk bazl duyurular",newAnnouncement:"Yeni Duyuru",messagesDesc:"Veli mesajlar",announcements:"Duyurular",messages:"Mesajlar",familyPortal:"Lukid AI Aile Portal",sendMessageToTeacher:"retmene mesaj gnder",noSharedObservations:"Henz paylalm gzlem yok",sharing:"Paylalyor",notSharing:"Paylalmyor",sendMessage:"Mesajnz yazn...",noConversations:"Henz mesaj yok",guardiansInfo:"Veliler",interestsInfo:"lgi Alanlar",strengthsInfo:"Gl Ynler",childDetails:"Detaylar",addChildLink:"ocuk Ekle",linkCode:"Davet Kodu",linkSuccess:"Balant Baarl!",cognitive:"Bilisel",socialEmotional:"Sosyal-Duygusal",physical:"Fiziksel",creative:"Yaratclk",selfHelp:"z Bakm",logout:"k Yap",myChildren:"ocuklarm",details:"Detaylar",childSpecificAnnouncement:"ocua zel duyuru",noChildrenLinked:"Henz bal ocuk yok",linkChildInstruction:"retmeninizden davet kodu alarak ocuunuza balann",enterInviteCode:"Davet Kodu Gir",enterInviteCodeDesc:"retmeninizden aldnz 6 haneli davet kodunu girin",inviteCodeLabel:"Davet Kodu",connecting:"Balanyor...",connect:"Balan",inviteCodeFooter:"Davet kodu retmeniniz tarafndan oluturulmutur. Kodunuz yoksa retmeninizle iletiime gein.",teacherTitle:"retmen",about:"hakknda",yesterday:"Dn",familyContent:"Aile Eklentileri",familyAddedContent:"Aile Tarafndan Eklenen",addObservationFamily:"Gzlem Ekle",addMediaFamily:"Fotoraf/Video Ekle",myContent:"Eklediklerim",myObservations:"Gzlemlerim",myPhotos:"Fotoraflarm",familyObservationNote:"Gzlem Notu",familyObservationPlaceholder:"ocuunuzla ilgili gzlemlerinizi yazn...",developmentAreasOptional:"Geliim Alanlar (Opsiyonel)",noObservationsYet:"Henz gzlem eklememisiniz",noPhotosYet:"Henz fotoraf/video eklememisiniz",confirmDeleteObservation:"Bu gzlemi silmek istediinize emin misiniz?",confirmDeleteMedia:"Bu fotoraf/videoyu silmek istediinize emin misiniz?",deleteError:"Silinirken hata olutu",updateError:"Gncellenirken hata olutu",saving:"Kaydediliyor...",uploadPhoto:"Fotoraf/Video Ykle",selectMedia:"Dosya Se",mediaName:"sim",mediaDescription:"Aklama",maxPhotoSize:"Maks. fotoraf boyutu: 5MB",maxVideoSize:"Maks. video boyutu: 20MB",uploading:"Ykleniyor...",uploadSuccess:"Yklendi!",fileTooLargePhoto:"Fotoraf boyutu 5MB'dan kk olmaldr",fileTooLargeVideo:"Video boyutu 20MB'dan kk olmaldr",invalidFileType:"Geersiz dosya tr",linkedFamilies:"Bal Veliler",createInviteCode:"Davet Kodu Olutur",remove:"Kaldr",linkedOn:"Baland",inviteCodeCreated:" Yeni davet kodu oluturuldu!",copied:" Kopyaland",copy:" Kopyala",inviteCodeInstruction:"Bu kodu veliye gnderin. Veli bu kodla kayt olduunda ocua otomatik balanacak.",pendingInvites:"Bekleyen Davetler",confirmRevokeLink:"Bu aile balantsn silmek istediinize emin misiniz?",parentRole:"Veli",notUsedYet:"Henz kullanlmad",cancelInvite:"ptal",noFamiliesLinked:"Henz bal veli yok",createInviteInstruction:"Yukardaki butona tklayarak davet kodu oluturun"},en:{appName:"PortfoAI",signInTitle:"Sign In",signUpTitle:"Create Account",signInDescription:"Enter your email and password to access your account.",signUpDescription:"Create a new account to get started.",emailLabel:"Email Address",passwordLabel:"Password",signInAction:"Sign In",signUpAction:"Sign Up",noAccountPrompt:"Don't have an account?",haveAccountPrompt:"Already have an account?",switchToSignUp:"Sign Up",switchToSignIn:"Sign In",signUpSuccess:"Account created! Please verify your email.",apiKeyError:"Supabase API key is invalid or missing.",dashboard:"Dashboard",children:"Children",observations:"Observations",settings:"Settings",signOut:"Sign Out",welcome:"Welcome",landingHero:"AI-powered digital portfolio application in early childhood education. Designed for preschool teachers in compliance with the Trkiye Yzyl Education Model Preschool Education Program.",smartAnalysisTitle:"Smart Analysis",smartAnalysisDesc:"Automated evaluation and suggestions with AI",digitalPortfolioTitle:"Digital Portfolio",digitalPortfolioDesc:"Store children's work and development digitally",anyDeviceTitle:"Access Anywhere",anyDeviceDesc:"Easily access from phone, tablet, or computer",createAccountTitle:"Create Account",welcomeTitle:"Welcome",createAccountDesc:"Create a new account to get started",signInDesc:"Sign in to your account",yourName:"First Name",yourSurname:"Last Name",schoolName:"School Name",secureSSL:"SSL Encrypted",secureBadge:"Secure",fastBadge:"Fast",footerRights:" 2025 Lukid AI - All rights reserved",haveAccountBtn:"Already have an account? Sign in",noAccountBtn:"Don't have an account? Sign up",missingTeacherFields:"Please fill in name, surname, and school fields.",recentObservations:"Recent Observations",quickAccess:"Quick Access",addChild:"Add Child",addObservation:"Add Observation",editObservation:"Edit Observation",childList:"Child List",searchChild:"Search child...",noChildrenFound:"No children added yet.",childProfile:"Child Profile",firstName:"First Name",lastName:"Last Name",dob:"Date of Birth",age:"Age",classroom:"Classroom",parentalConsent:"Parental Consent Obtained",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",newObservationFor:"New Observation for",observationNote:"Observation Note",notePlaceholder:"Detailed notes about the child's behaviors, words, and interactions...",developmentDomains:"Skill Areas",selectDomains:"Select relevant skill areas",context:"Context",tags:"Tags",tagsPlaceholder:"Add tags separated by commas",addMedia:"Add Photo/Video",submitObservation:"Save Observation",consentYes:"Yes",consentNo:"No",childDetail:"Child Details",profile:"Profile",development:"Development",media:"Media",generateReport:"Generate Development Report",reportSuccess:"Development report generated and downloaded successfully!",aiAnalysis:"AI Analysis",getAnalysis:"Get Analysis",summary:"Summary",riskLevel:"Risk Level",suggestions:"Suggestions for Teacher",domainScores:"Domain Scores",low:"Low",medium:"Medium",high:"High",loading:"Loading...",deleting:"Deleting...",errorOccurred:"An error occurred.",offlineWarning:"You are offline.",syncAttempt:"Syncing data...",syncSuccess:"Data synced successfully.",syncError:"Error during synchronization.",noInternetConnection:"No internet connection. Some features may not work.",exportData:"Export Data",exportChildData:"Export Child Data (JSON)",legal:"Legal",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",noRecentObservations:"No recent observations.",childNotFound:"Child not found.",pendingSync:"Sync pending.",developmentSummary:"Development Summary",developmentReport:"Development Report",reportDate:"Report Date",childInfo:"Child Information",fullName:"Full Name",aiSummariesAndSuggestions:"AI Summaries and Suggestions",noAssessmentsForReport:"No assessments for report.",observationDate:"Observation Date",aiSummary:"AI Summary",observationSavedOffline:"Observation saved offline.",observationsSynced:"Observations synced.",exportDataDescription:"Export all your data as JSON.",exportAllData:"Export All Data",products:"Products",selectValidImage:"Please select a valid image file.",fileTooLarge:"File size too large. Maximum 10MB.",profilePhoto:"Profile Photo",retakePhoto:"Retake",deletePhoto:"Delete Photo",takeWithCamera:"Take with Camera",uploadFromFile:"Upload from File",changePhoto:"Change Photo",lowRisk:"Low Risk",mediumRisk:"Medium Risk",highRisk:"High Risk",unknown:"Unknown",notAddedYet:"Not added yet.",interestsSection:"Interests",strengthsSection:"Strengths",guardiansSection:"Guardian & Contact Information",noGuardiansAdded:"No guardian information added.",enrollmentDate:"Enrollment Date",importantNotes:"Important Notes",aiInsights:"AI Insights",goalsLoadError:"Could not load goals",goalsLoading:"Loading goals...",developmentGoals:"Development Goals",addGoal:"Add Goal",addNewGoal:"Add New Goal",goalTitle:"Goal Title",goalTitlePlaceholder:"E.g.: Learn 10 words",developmentArea:"Development Area",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",targetDate:"Target Date",descriptionLabel:"Description",descriptionPlaceholder:"Detailed description about the goal...",statusCompleted:"Completed",statusInProgress:"In Progress",statusNotStarted:"Not Started",statusCancelled:"Cancelled",noGoalsYet:"No goals set yet.",addGoalHint:"You can add a new goal using the button above.",attachPhotoOptional:"Attach Photo (optional)",present:"Present",absent:"Absent",late:"Late",allItems:"All",fullList:"Full List",studentsShown:"students shown",theme:"Theme",lightTheme:"Light",darkTheme:"Dark",pdfTeacher:"Teacher",pdfSchool:"School",pdfReport:"Report",pdfTitle:"Development Report",pdfProductMedia:"Product / Media",pdfObservation:"Observation",pdfObservationNote:"Observation Note",pdfAiSummary:"AI Summary",pdfSuggestions:"Suggestions for Teacher",pdfBirth:"Birth",pdfAge:"Age",pdfClass:"Class",pdfNoObservations:"No observations found.",pdfYears:"years",pdfMonths:"months",filtering:"Filtering",classLabel:"Class:",pinned:"Pinned",last7daysObs:"Last 7 Days Obs.",last7daysProducts:"Last 7 Days Products",nameSurnamePlaceholder:"Name Surname...",developmentTrend:"Development Area Trend (8 Weeks)",deleteClassConfirm:'Are you sure you want to delete the class "{classroom}"?',deleteClassConfirmWithChildren:`Are you sure you want to delete the class "{classroom}"?

This will permanently delete {childCount} children and all their observation/product records!`,classDeleting:"Deleting class...",changeLanguageDesc:"Change application language.",createDemoData:"Create Demo Data",demoDataDesc:"Adds sample classes, children, observations and product photos to your account.",classCount:"Number of classes (15)",childrenPerClass:"Children per class",obsPerChild:"Observations per child",mediaPerChild:"Products per child",starting:"Starting...",completed:"Completed.",errorPrefix:"Error:",creating:"Creating...",createDemoBtn:"Create Demo Data",demoNote:"Note: This may take time depending on internet speed.",confirmRemoveDemo:"Demo data will be removed. Continue?",removing:"Removing...",removeDemoBtn:"Remove Demo Data",aiInsightsDesc:"Regenerates missing/placeholder analyses for observations in your account.",recomputeBtn:"Regenerate for All Children",recomputeSuccess:"Completed. Suggestions will appear on child pages without needing to refresh.",deleteAccount:"Delete Account",deleteAccountConfirm:"WARNING! Your account and all data (children, photos, observations) will be permanently deleted. This action cannot be undone. Do you want to proceed?",deleteAccountWarning:"Deleting all data associated with your account...",accountDeleted:"Your account has been successfully deleted.",advancedOps:"Advanced Operations",exportToExcel:"Export to Excel (CSV)",exportDesc:"Export all child data in Excel format (CSV).",exportNote:"Turkish characters are preserved, you can edit and analyze in Excel.",preparingData:"Preparing data...",noChildrenToExport:"No children found to export.",preparingChildren:"child data being prepared...",downloadCompleted:"Completed! Excel file downloaded for children.",preparing:"Preparing...",exportBtn:"Export to Excel",exportCsvNote:"* A single CSV file will be downloaded, can be opened in Excel.",totalObservations:"Total Observations",mediaCount:"Product/Media Count",lastObservation:"Last Observation",consentPending:"Pending",uploadProduct:"Upload Product",noProductsAdded:"No products added yet.",productName:"Product Name",productDescription:"Notes About Product",productDomain:"Related Skill Area",selectFile:"Select Media",fileSelected:"File Selected:",noFileSelected:"No file selected yet.",productNamePlaceholder:"E.g.: Tower Made with Colorful Blocks",productDescriptionPlaceholder:"Brief description...",selectDomainPrompt:"Select a skill area...",confirmDeleteTitle:"Delete Record",confirmDeleteMessage:"Do you want to delete this record?",sharedWithFamily:"Shared with Family",shareWithFamily:"Share with Family",sharedMedia:"Shared Media",noSharedMedia:"No shared media yet",messagingHours:"Messaging Hours",messagingHoursDesc:"Set your available hours for messages",enableMessagingHours:"Enable messaging hours",availableDays:"Available Days",availableHours:"Available Hours",startTime:"Start",endTime:"End",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday",teacherAvailableHours:"Teacher message hours",messageScheduled:"This message will be delivered at the specified time",scheduledFor:"Scheduled for",manualOverride:"Manual Control",acceptingMessages:"Accepting Messages",notAcceptingMessages:"Not Accepting Messages",useSchedule:"Use Schedule",yes:"Yes",no:"No",deleteSuccess:"Observation deleted.",productDeleteSuccess:"Product deleted.",basicInfo:"Basic Information",guardians:"Guardian Information",healthInfo:"Health Information",otherInfo:"Other Information",addGuardian:"Add Guardian",guardianName:"Full Name",guardianRelation:"Relationship",guardianPhone:"Phone",guardianEmail:"Email",removeGuardian:"Remove",allergies:"Allergies (separate with commas)",healthNotes:"Important Health Notes",interests:"Interests",strengths:"Strengths",editChild:"Edit Child Information",updateSuccess:"Updated.",confirmDeleteChildTitle:"Delete Child",confirmDeleteChildMessage:"Do you want to delete this child and all related data?",childDeleteSuccess:"Deleted.",editClass:"Edit",pdfDownload:"Download PDF",backToClasses:"Back to Classes",teacherFirstName:"Teacher First Name",teacherLastName:"Teacher Last Name",profileUpdateSuccess:"Profile updated.",gettingStarted:"Getting Started",language:"Language",classes:"Classes",attendance:"Attendance",aiAssistant:"AI Assistant",earlyChildhoodSystem:"Early Childhood Observation System",welcomeBack:"Welcome back",today:"Today",activity7days:"Activity (7 days)",viewChild:"Go to Child",pinnedChildren:"Pinned Children",newChat:"New Chat",chats:"Chats",noChatYet:"No chats yet.",general:"General",child:"Child",selectClass:"Select class...",selectChild:"Select child...",typeMessage:"Type your message...",send:"Send",assistantTyping:"Assistant is typing...",noteDisclaimer:"Note: Does not provide medical diagnoses; offers practical classroom suggestions.",createClass:"Create Class",noClassFound:"No classes found. You can create a new class above.",allChildren:"All Children",editClassTitle:"Edit Class",className:"Class Name",color:"Color",pinClass:"Pin this class",deleteClass:"Delete Class",deletingClass:"Deleting class...",filterClass:"Filter by Class",allClasses:"All Classes",classReport:"Class Report",aiSuggestionsForClass:"AI Suggestions for Class",nameSurname:"Name",childrenList:"Children",saveChildrenPortfolio:"Store children's products and development digitally",selectClassFirst:"Please select a class. You may need to create a class from the Classes page first.",createClassFirst:"Create a class from the Classes page first.",classAddError:"Could not add class",noChildInClass:"No children in this class.",noSuggestionsYet:"No suggestions yet.",noData:"No data.",regenerateAll:"Regenerate for All Children",generating:"Generating...",regenerateDone:"Done. Suggestions will appear on child pages without needing to refresh.",searchBox:"Search child: use the search box at the top.",themeSetting:"light/dark theme",createClassAndChild:"Create Class and Add Child",createClassDescription:"Create a new class from the Classes section in the left menu. Then add child cards to each class from the Children page.",recordObservation:"Record Observation",recordObservationDescription:"Enter the child's detail page to record observations and products. You can add written notes or photos/videos.",aiReports:"AI Reports",aiReportsDescription:"View development summaries from the Report section on child or class pages, and download as PDF.",tipsTitle:"Tips",askAnything:'Type your question. E.g.: "Can you suggest activities to strengthen fine motor skills for 3-4 year olds?"',confirmDeleteChat:"chat? Are you sure you want to delete this",gettingStartedDesc:"A comprehensive guide to help you get started with PortfoAI.",gsQuickStart:"Quick Start",gsStep1Title:"Create Class",gsStep1Desc:"Add a new class from the Classes section",gsStep2Title:"Add Child",gsStep2Desc:"Add child cards to each class",gsStep3Title:"Write Observation",gsStep3Desc:"Note the child's development",gsStep4Title:"Get Report",gsStep4Desc:"Create AI-powered skill report",gsMainFeatures:"Main Features",gsClassManagement:"Class Management",gsClassManagementDesc:"Create, edit and manage your classes. View all children and aggregate statistics from each class detail page.",gsClassTip1:"Click on class card to view details",gsClassTip2:"View in-class trend analyses",gsClassTip3:"Track aggregate observation statistics",gsViewClasses:"View Classes",gsChildPortfolio:"Child Portfolio",gsChildPortfolioDesc:"Create comprehensive portfolio for each child. Add personal info, parent contacts, interests, strengths, and health notes.",gsChildTip1:"You can add a profile photo",gsChildTip2:"Save parent contact information",gsChildTip3:"Enter allergies and health notes",gsViewChildren:"View Children",gsObservations:"Observation Records",gsObservationsDesc:"Add observation notes according to 7 skill areas. Set context and tags for each observation.",gsObsTip1:"Language, Math, Science, Social, Motor-Health, Art, Music areas",gsObsTip2:"Select classroom, garden, home or other contexts",gsMediaPhotos:"Media & Product Photos",gsMediaDesc:"Upload children's product photos, drawings and activity visuals. Add skill area and description to each media.",gsMediaTip1:"Multi-file upload support",gsMediaTip2:"Review media in gallery view",gsMediaTip3:"Media automatically included in report",gsCommunication:"Communication Features",gsParentMessaging:"Parent Messaging",gsParentMessagingDesc:"Secure messaging with parents. Start child-based or class-based chats, share observations.",gsMsgTip1:"Track with message notifications",gsMsgTip2:"Manage messages with inbox",gsMsgTip3:"Create child or class-based groups",gsViewMessages:"View Messages",gsAnnouncements:"Announcements",gsAnnouncementsDesc:"Send announcements to specific classes or the entire school. Parents see announcements instantly.",gsAnnTip1:"Class-specific or general announcements",gsAnnTip2:"View announcement history",gsAnnTip3:"Easy editing and deletion",gsGoToAnnouncements:"Go to Announcements",gsTracking:"Tracking & Reports",gsAttendance:"Attendance System",gsAttendanceDesc:"Daily attendance tracking. Mark present, absent, or excused and view monthly statistics.",gsAttTip1:"Past attendance with calendar view",gsAttTip2:"Monthly attendance rates",gsAttTip3:"Class-based filtering",gsGoToAttendance:"Go to Attendance",gsSkillReport:"Skill Acquisition Report",gsSkillReportDesc:"Create AI-powered development reports. Get scores, suggestions and overall assessment across 7 skill areas.",gsReportTip1:"Download in Word format",gsReportTip2:"Turkish or English report option",gsReportTip3:"Media and observations included in report",gsDataExport:"Data Export",gsDataExportDesc:"Export all your data in JSON format. Use for backup or transfer to other systems.",gsExportTip1:"Children, observations, media data",gsExportTip2:"Access from settings page",gsSettingsDemo:"Settings & Demo",gsDemoData:"Explore with Demo Data",gsDemoDataDesc:"Create sample data to quickly explore the app. Try with 2 classes, 10 children and 1500 observation notes.",gsDemoTip1:"Add Demo Data from settings page",gsDemoTip2:"You can delete demo data anytime",gsDemoTip3:"Does not affect your real data",gsProfilePrefs:"Profile & Preferences",gsProfilePrefsDesc:"Update your profile info, select theme, change language. Account deletion and data management options.",gsPrefTip1:"Light/Dark theme support",gsPrefTip2:"Turkish/English language option",gsPrefTip3:"Recalculate AI assessments",gsProTips:"Pro Tips",gsQuickSearch:"Quick Search:",gsQuickSearchDesc:"Find children instantly with the search box in the top menu.",gsKeyboardShortcuts:"Keyboard Shortcuts:",gsKeyboardDesc:"Navigate between fields with Tab.",gsMobileApp:"Mobile App:",gsMobileAppDesc:"Native app experience on iOS and Android.",goToSettings:"Go to Settings",attendanceSystem:"Attendance System",dailyAttendanceTracking:"Daily attendance tracking and statistics",thisMonthAttendance:"This Month Attendance",excused:"Excused",unmarked:"Unmarked",allList:"All List",selectDate:"Select Date",quickAction:"Quick Action",markAllPresent:"Mark All Present",markAllAbsent:"Mark All Absent",clearFilter:"Clear Filter",showAll:"Show All",studentList:"Student List",showingStudents:"students showing",showAllList:"Show All",photo:"Photo",status:"Status",action:"Action",noStudentFound:"No children found.",noStudentInStatus:"No students found with status",saveAttendance:"Save Attendance",savingAttendance:"Saving...",attendanceSaved:"Attendance saved successfully!",attendanceSaveFailed:"Could not save attendance",dataLoadFailed:"Could not load data",appearanceAndMenu:"Appearance and Menu",refresh:"Refresh",navHome:"Home",navChildren:"Child",navClasses:"Class",navAttendance:"Attend",navSettings:"Settings",announcementsDesc:"Class and child based announcements",newAnnouncement:"New Announcement",messagesDesc:"Family messages",announcements:"Announcements",messages:"Messages",familyPortal:"Lukid AI Family Portal",sendMessageToTeacher:"Send message to teacher",noSharedObservations:"No shared observations yet",sharing:"Shared",notSharing:"Not Shared",sendMessage:"Type your message...",noConversations:"No messages yet",guardiansInfo:"Guardians",interestsInfo:"Interests",strengthsInfo:"Strengths",childDetails:"Details",addChildLink:"Add Child",linkCode:"Invite Code",linkSuccess:"Link Successful!",cognitive:"Cognitive",socialEmotional:"Social-Emotional",physical:"Physical",creative:"Creativity",selfHelp:"Self-Help",logout:"Logout",myChildren:"My Children",details:"Details",childSpecificAnnouncement:"Child specific announcement",noChildrenLinked:"No linked children yet",linkChildInstruction:"Connect to your child using the invite code from your teacher",enterInviteCode:"Enter Invite Code",enterInviteCodeDesc:"Enter the 6-digit invite code received from your teacher",inviteCodeLabel:"Invite Code",connecting:"Connecting...",connect:"Connect",inviteCodeFooter:"The invite code is generated by your teacher. Contact your teacher if you do not have a code.",teacherTitle:"Teacher",about:"About",yesterday:"Yesterday",familyContent:"Family Content",familyAddedContent:"Added by Family",addObservationFamily:"Add Observation",addMediaFamily:"Add Photo/Video",myContent:"My Submissions",myObservations:"My Observations",myPhotos:"My Photos",familyObservationNote:"Observation Note",familyObservationPlaceholder:"Write your observations about your child...",developmentAreasOptional:"Development Areas (Optional)",noObservationsYet:"You have not added any observations yet",noPhotosYet:"You have not added any photos/videos yet",confirmDeleteObservation:"Are you sure you want to delete this observation?",confirmDeleteMedia:"Are you sure you want to delete this photo/video?",deleteError:"Error while deleting",updateError:"Error while updating",saving:"Saving...",uploadPhoto:"Upload Photo/Video",selectMedia:"Select File",mediaName:"Name",mediaDescription:"Description",maxPhotoSize:"Max photo size: 5MB",maxVideoSize:"Max video size: 20MB",uploading:"Uploading...",uploadSuccess:"Uploaded!",fileTooLargePhoto:"Photo size must be less than 5MB",fileTooLargeVideo:"Video size must be less than 20MB",invalidFileType:"Invalid file type",linkedFamilies:"Linked Families",createInviteCode:"Create Invite Code",remove:"Remove",linkedOn:"Linked on",inviteCodeCreated:" New invite code created!",copied:" Copied",copy:" Copy",inviteCodeInstruction:"Send this code to the parent. When the parent registers with this code, they will be automatically linked to the child.",pendingInvites:"Pending Invites",confirmRevokeLink:"Are you sure you want to revoke this family link?",parentRole:"Parent",notUsedYet:"Not used yet",cancelInvite:"Cancel",noFamiliesLinked:"No families linked yet",createInviteInstruction:"Click the button above to create an invite code"}},x=a=>Oy[Sn][a]||Oy.tr[a]||a,uS=({mouseX:a,mouseY:e})=>{const n=[{x:65,y:25,color:"#FF6B9D",hairColor:"#8B4789",name:"Aye",skin:"#FFE4C4"},{x:85,y:30,color:"#4A90E2",hairColor:"#2C3E50",name:"Ahmet",skin:"#F5D5C3"},{x:70,y:65,color:"#50C878",hairColor:"#CD853F",name:"Zeynep",skin:"#FFDAB9"},{x:88,y:70,color:"#FFB347",hairColor:"#8B7355",name:"Mehmet",skin:"#F4E4D7"}],i=(o,d)=>{const u=o/100*window.innerWidth*.5,m=d/100*window.innerHeight,f=Math.atan2(e-m,a-u),p=f*(180/Math.PI),y=Math.round(p/5)*5,v=6,w=Math.cos(f)*v,j=Math.sin(f)*v,S=Math.round(w*2)/2,T=Math.round(j*2)/2;return{rotation:y,eyeX:S,eyeY:T}};return r.jsx("div",{className:"absolute inset-0 pointer-events-none",children:n.map(o=>{const{rotation:d,eyeX:u,eyeY:m}=i(o.x,o.y);return r.jsx("div",{className:"absolute",style:{left:`${o.x}%`,top:`${o.y}%`,transform:"translate(-50%, -50%)"},children:r.jsx("div",{className:"kid-float-wrapper",style:{animationDelay:`${Math.random()*2}s`},children:r.jsxs("svg",{width:"160",height:"180",viewBox:"0 0 160 180",className:"drop-shadow-2xl filter hover:drop-shadow-[0_0_25px_rgba(255,255,255,0.3)]",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:`hair-${o.name}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:o.hairColor,stopOpacity:"1"}),r.jsx("stop",{offset:"100%",stopColor:o.hairColor,stopOpacity:"0.7"})]}),r.jsxs("radialGradient",{id:`skin-${o.name}`,children:[r.jsx("stop",{offset:"0%",stopColor:o.skin}),r.jsx("stop",{offset:"100%",stopColor:o.skin,stopOpacity:"0.9"})]}),r.jsxs("linearGradient",{id:`clothes-${o.name}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:o.color}),r.jsx("stop",{offset:"100%",stopColor:o.color,stopOpacity:"0.8"})]})]}),r.jsxs("g",{children:[r.jsx("path",{d:"M 60 120 L 50 115 Q 45 110 45 125 L 45 160 Q 45 165 50 165 L 110 165 Q 115 165 115 160 L 115 125 Q 115 110 110 115 L 100 120",fill:`url(#clothes-${o.name})`,stroke:"white",strokeWidth:"2"}),r.jsx("path",{d:"M 50 120 Q 30 125 28 145 Q 28 150 32 150 L 45 145",fill:o.skin,stroke:"white",strokeWidth:"2"}),r.jsx("path",{d:"M 110 120 Q 130 125 132 145 Q 132 150 128 150 L 115 145",fill:o.skin,stroke:"white",strokeWidth:"2"}),r.jsx("circle",{cx:"30",cy:"150",r:"8",fill:o.skin,stroke:"white",strokeWidth:"2"}),r.jsx("circle",{cx:"130",cy:"150",r:"8",fill:o.skin,stroke:"white",strokeWidth:"2"})]}),r.jsxs("g",{transform:`rotate(${d*.08}, 80, 70)`,className:"kid-head-smooth",children:[r.jsx("rect",{x:"70",y:"95",width:"20",height:"20",rx:"5",fill:o.skin,stroke:"white",strokeWidth:"2"}),r.jsx("ellipse",{cx:"80",cy:"45",rx:"45",ry:"38",fill:`url(#hair-${o.name})`,opacity:"0.95"}),r.jsx("path",{d:"M 40 50 Q 35 40 40 35 Q 45 30 50 35",fill:`url(#hair-${o.name})`,opacity:"0.9"}),r.jsx("path",{d:"M 120 50 Q 125 40 120 35 Q 115 30 110 35",fill:`url(#hair-${o.name})`,opacity:"0.9"}),r.jsx("ellipse",{cx:"80",cy:"70",rx:"38",ry:"42",fill:`url(#skin-${o.name})`,stroke:"white",strokeWidth:"3"}),r.jsx("ellipse",{cx:"45",cy:"70",rx:"8",ry:"12",fill:o.skin,stroke:"white",strokeWidth:"2"}),r.jsx("ellipse",{cx:"115",cy:"70",rx:"8",ry:"12",fill:o.skin,stroke:"white",strokeWidth:"2"}),r.jsx("ellipse",{cx:"65",cy:"65",rx:"10",ry:"11",fill:"white",stroke:"#2C3E50",strokeWidth:"2.5",className:"kid-blink"}),r.jsx("circle",{cx:65+u,cy:65+m,r:"5",fill:"#2C3E50",className:"kid-blink"}),r.jsx("circle",{cx:67+u,cy:63+m,r:"2",fill:"white",opacity:"0.8",className:"kid-blink"}),r.jsx("path",{d:"M 58 60 L 55 58",stroke:"#2C3E50",strokeWidth:"2",strokeLinecap:"round",className:"kid-blink"}),r.jsx("path",{d:"M 72 60 L 75 58",stroke:"#2C3E50",strokeWidth:"2",strokeLinecap:"round",className:"kid-blink"}),r.jsx("ellipse",{cx:"95",cy:"65",rx:"10",ry:"11",fill:"white",stroke:"#2C3E50",strokeWidth:"2.5",className:"kid-blink"}),r.jsx("circle",{cx:95+u,cy:65+m,r:"5",fill:"#2C3E50",className:"kid-blink"}),r.jsx("circle",{cx:97+u,cy:63+m,r:"2",fill:"white",opacity:"0.8",className:"kid-blink"}),r.jsx("path",{d:"M 88 60 L 85 58",stroke:"#2C3E50",strokeWidth:"2",strokeLinecap:"round",className:"kid-blink"}),r.jsx("path",{d:"M 102 60 L 105 58",stroke:"#2C3E50",strokeWidth:"2",strokeLinecap:"round",className:"kid-blink"}),r.jsx("path",{d:"M 55 55 Q 65 52 75 55",stroke:"#8B7355",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),r.jsx("path",{d:"M 85 55 Q 95 52 105 55",stroke:"#8B7355",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),r.jsx("path",{d:"M 80 72 L 78 80 L 82 80 Z",fill:"#FFB6A3",opacity:"0.6"}),r.jsx("path",{d:"M 60 85 Q 80 95 100 85",stroke:"#FF6B9D",strokeWidth:"3.5",fill:"none",strokeLinecap:"round"}),r.jsx("ellipse",{cx:"55",cy:"78",rx:"8",ry:"6",fill:"#FFB6C1",opacity:"0.5"}),r.jsx("ellipse",{cx:"105",cy:"78",rx:"8",ry:"6",fill:"#FFB6C1",opacity:"0.5"}),r.jsx("path",{d:"M 50 45 Q 55 35 65 40",fill:o.hairColor,opacity:"0.8"}),r.jsx("path",{d:"M 110 45 Q 105 35 95 40",fill:o.hairColor,opacity:"0.8"})]})]})})},o.name)})})},Ry=({initialMode:a="login",emailConfirmed:e=!1,onEmailConfirmedDismiss:n})=>{const[i,o]=b.useState(Be()),[d,u]=b.useState(a==="signup"),[m,f]=b.useState(!1),[p,y]=b.useState(!1),[v,w]=b.useState(!1),[j,S]=b.useState(""),[T,E]=b.useState(""),[A,D]=b.useState(""),[_,C]=b.useState(""),[H,V]=b.useState(!1),[$,B]=b.useState(""),[q,ae]=b.useState(""),[M,P]=b.useState(""),[R,ee]=b.useState("teacher"),[F,z]=b.useState({x:0,y:0});b.useEffect(()=>{let te=null;const O=J=>{te||(te=setTimeout(()=>{z({x:J.clientX,y:J.clientY}),te=null},50))};return window.addEventListener("mousemove",O),()=>{window.removeEventListener("mousemove",O),te&&clearTimeout(te)}},[]);const L=te=>{Wo(te),o(te)},I=async te=>{te.preventDefault(),w(!0),D(""),C("");let O=null;if(d){if(!$.trim()||!q.trim()){C(x("missingTeacherFields")),w(!1);return}if(R==="teacher"&&!M.trim()){C(x("missingTeacherFields")),w(!1);return}const{error:J}=await Z.auth.signUp({email:j,password:T,options:{data:{role:R,first_name:$.trim(),last_name:q.trim(),school_name:R==="teacher"?M.trim():null}}});O=J,J||(V(!0),D("Kayt baarl! Ltfen e-posta adresinize gnderilen dorulama linkine tklayn."))}else{const{error:J}=await Z.auth.signInWithPassword({email:j,password:T});O=J}O&&(O.message.toLowerCase().includes("invalid api key")?C(x("apiKeyError")):O.message.toLowerCase().includes("email not confirmed")?C("E-posta adresiniz henz dorulanmad. Ltfen gelen kutunuzu kontrol edin."):O.message.toLowerCase().includes("invalid login credentials")?C("E-posta veya ifre hatal. Ltfen tekrar deneyin."):C(O.message)),w(!1)},K=async te=>{if(te.preventDefault(),w(!0),D(""),C(""),!j.trim()){C("Ltfen e-posta adresinizi girin."),w(!1);return}const{error:O}=await Z.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/#/reset-password`});O?C("ifre sfrlama maili gnderilemedi. Ltfen tekrar deneyin."):(y(!0),D("ifre sfrlama linki e-posta adresinize gnderildi.")),w(!1)};return r.jsxs("div",{className:"min-h-screen flex relative",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-[#0c0f1d] via-[#161b33] to-[#0c0f1d] relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-indigo-600/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-10 right-10 w-80 h-80 bg-orange-500/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-slate-700/20 rounded-full blur-3xl"})]}),r.jsx(uS,{mouseX:F.x,mouseY:F.y}),r.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-16 text-white",children:[r.jsx("div",{className:"mb-12 relative",children:r.jsxs("div",{className:"relative flex items-center gap-4",children:[r.jsx("img",{src:"/logo.png",alt:"Lukid AI",className:"h-48 w-48 object-contain drop-shadow-2xl",draggable:!1}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("h1",{className:"text-6xl font-extrabold tracking-tight text-white drop-shadow-md",children:"Lukid AI"}),r.jsx("span",{className:"text-[#FF6B4A] font-bold tracking-widest text-sm mt-1 uppercase",children:"SMART PORTFOLIO"})]})]})}),r.jsx("p",{className:"text-xl text-slate-300 mb-10 leading-relaxed max-w-md font-light",children:x("landingHero")}),r.jsxs("div",{className:"space-y-5 max-w-md",children:[r.jsxs("div",{className:"flex items-start gap-4 group",children:[r.jsx("div",{className:"w-11 h-11 rounded-lg bg-indigo-500/20 border border-indigo-500/30 flex items-center justify-center flex-shrink-0 group-hover:bg-indigo-500/30 transition-all",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-0.5 text-white",children:x("smartAnalysisTitle")}),r.jsx("p",{className:"text-slate-400 text-sm",children:x("smartAnalysisDesc")})]})]}),r.jsxs("div",{className:"flex items-start gap-4 group",children:[r.jsx("div",{className:"w-11 h-11 rounded-lg bg-indigo-500/20 border border-indigo-500/30 flex items-center justify-center flex-shrink-0 group-hover:bg-indigo-500/30 transition-all",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-0.5 text-white",children:x("digitalPortfolioTitle")}),r.jsx("p",{className:"text-slate-400 text-sm",children:x("digitalPortfolioDesc")})]})]}),r.jsxs("div",{className:"flex items-start gap-4 group",children:[r.jsx("div",{className:"w-11 h-11 rounded-lg bg-indigo-500/20 border border-indigo-500/30 flex items-center justify-center flex-shrink-0 group-hover:bg-indigo-500/30 transition-all",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-0.5 text-white",children:x("anyDeviceTitle")}),r.jsx("p",{className:"text-slate-400 text-sm",children:x("anyDeviceDesc")})]})]})]})]})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-gray-50",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx("div",{className:"lg:hidden mb-8 text-center",children:r.jsxs("div",{className:"inline-flex items-center gap-3 relative",children:[r.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-indigo-100/40 to-orange-100/40 rounded-full blur-2xl"}),r.jsx("img",{src:"/logo.png",alt:"Lukid AI",className:"h-20 w-20 relative shadow-lg rounded-2xl",draggable:!1}),r.jsx("span",{className:"relative text-3xl font-bold text-gray-800 tracking-tight",children:"Lukid AI"})]})}),r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-10 border border-gray-100 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-600 via-purple-600 to-orange-500"}),r.jsxs("div",{className:"absolute top-6 right-6 z-10 flex gap-2",children:[r.jsx("button",{onClick:()=>L("tr"),className:`px-2 py-1 rounded-md text-xs font-bold transition-all ${i==="tr"?"bg-indigo-50 text-indigo-700 ring-1 ring-indigo-200":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:"TR"}),r.jsx("button",{onClick:()=>L("en"),className:`px-2 py-1 rounded-md text-xs font-bold transition-all ${i==="en"?"bg-indigo-50 text-indigo-700 ring-1 ring-indigo-200":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:"EN"})]}),e&&r.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-green-800",children:"E-posta Doruland!"}),r.jsx("p",{className:"text-green-700 text-sm",children:"Hesabnz aktif edildi. imdi giri yapabilirsiniz."})]}),r.jsx("button",{type:"button",onClick:n,className:"text-green-600 hover:text-green-800",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsxs("div",{className:"mb-10",children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:p?" ifre Sfrlama Linki Gnderildi!":m?" ifremi Unuttum":H?" E-posta Gnderildi!":x(d?"createAccountTitle":"welcomeTitle")}),r.jsx("p",{className:"text-gray-600 text-lg",children:p?"ifrenizi sfrlamak iin e-postanz kontrol edin.":m?"E-posta adresinizi girin, ifre sfrlama linki gndereceiz.":H?"Hesabnz aktifletirmek iin e-postanz kontrol edin.":x(d?"createAccountDesc":"signInDesc")})]}),p?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-10 h-10 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),r.jsxs("p",{className:"text-gray-700 mb-4",children:[r.jsx("strong",{children:j})," adresine ifre sfrlama linki gnderdik."]}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:'E-postanz kontrol edin ve "ifremi Sfrla" linkine tklayn. Spam klasrn de kontrol etmeyi unutmayn.'}),r.jsx("button",{type:"button",onClick:()=>{y(!1),f(!1),D("")},className:"text-indigo-600 hover:text-indigo-700 font-medium",children:" Giri Yap sayfasna dn"})]}):m?r.jsxs("form",{onSubmit:K,className:"space-y-6",children:[r.jsxs("div",{className:"relative group",children:[r.jsxs("label",{htmlFor:"reset-email",className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-orange-600",children:""})," E-posta Adresiniz"]}),r.jsx("input",{id:"reset-email",name:"reset-email",type:"email",autoComplete:"email",required:!0,className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-all text-gray-900 placeholder-gray-400 hover:border-orange-200 hover:shadow-md",placeholder:"ornek@email.com",value:j,onChange:te=>S(te.target.value)})]}),_&&r.jsxs("div",{className:"p-4 bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold flex items-center gap-3 animate-shake shadow-lg",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{children:_})]}),r.jsx("button",{type:"submit",disabled:v,className:"group relative w-full py-4 px-4 bg-gradient-to-r from-orange-600 via-orange-500 to-orange-600 hover:from-orange-700 hover:via-orange-600 hover:to-orange-700 text-white font-bold rounded-xl shadow-xl hover:shadow-2xl transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx("span",{className:"flex items-center justify-center gap-2 text-lg",children:v?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Gnderiliyor..."]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"ifre Sfrlama Linki Gnder"}),r.jsx("span",{className:"text-xl",children:""})]})})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:()=>{f(!1),C(""),D("")},className:"text-indigo-600 hover:text-indigo-700 font-medium",children:" Giri Yap sayfasna dn"})})]}):H?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),r.jsxs("p",{className:"text-gray-700 mb-4",children:[r.jsx("strong",{children:j})," adresine dorulama linki gnderdik."]}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:'E-postanz kontrol edin ve "E-postam Dorula" linkine tklayn. Spam klasrn de kontrol etmeyi unutmayn.'}),r.jsx("button",{type:"button",onClick:()=>{V(!1),u(!1),D("")},className:"text-indigo-600 hover:text-indigo-700 font-medium",children:" Giri Yap sayfasna dn"})]}):r.jsxs("form",{onSubmit:I,className:"space-y-6",children:[d&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-orange-500",children:""})," Hesap Tr"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>ee("teacher"),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${R==="teacher"?"border-orange-500 bg-orange-50 ring-2 ring-orange-200":"border-gray-200 hover:border-orange-300 hover:bg-orange-50/50"}`,children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsx("span",{className:`font-semibold ${R==="teacher"?"text-orange-700":"text-gray-700"}`,children:"retmen"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Snf ve ocuk ynetimi"})]}),r.jsxs("button",{type:"button",onClick:()=>ee("family"),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${R==="family"?"border-teal-500 bg-teal-50 ring-2 ring-teal-200":"border-gray-200 hover:border-teal-300 hover:bg-teal-50/50"}`,children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsx("span",{className:`font-semibold ${R==="family"?"text-teal-700":"text-gray-700"}`,children:"Veli / Aile"}),r.jsx("span",{className:"text-xs text-gray-500",children:"ocuunuzun geliimini takip edin"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative group",children:[r.jsxs("label",{htmlFor:"teacher-first-name",className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-indigo-600",children:""})," ",x("yourName")]}),r.jsx("input",{id:"teacher-first-name",name:"teacher-first-name",type:"text",autoComplete:"given-name",required:d,className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-gray-900 placeholder-gray-400 hover:border-blue-200 hover:shadow-md",placeholder:x("yourName"),value:$,onChange:te=>B(te.target.value)})]}),r.jsxs("div",{className:"relative group",children:[r.jsxs("label",{htmlFor:"teacher-last-name",className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-indigo-600",children:""})," ",x("yourSurname")]}),r.jsx("input",{id:"teacher-last-name",name:"teacher-last-name",type:"text",autoComplete:"family-name",required:d,className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-gray-900 placeholder-gray-400 hover:border-blue-200 hover:shadow-md",placeholder:x("yourSurname"),value:q,onChange:te=>ae(te.target.value)})]})]}),R==="teacher"&&r.jsxs("div",{className:"relative group",children:[r.jsxs("label",{htmlFor:"school-name",className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-indigo-600",children:""})," ",x("schoolName")]}),r.jsx("input",{id:"school-name",name:"school-name",type:"text",autoComplete:"organization",required:R==="teacher",className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all text-gray-900 placeholder-gray-400 hover:border-indigo-300 hover:shadow-md",placeholder:x("schoolName"),value:M,onChange:te=>P(te.target.value)})]})]}),r.jsxs("div",{className:"relative group",children:[r.jsxs("label",{htmlFor:"email-address",className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-500",children:""})," ",x("emailLabel")]}),r.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all text-gray-900 placeholder-gray-400 hover:border-indigo-300 hover:shadow-md",placeholder:"ornek@email.com",value:j,onChange:te=>S(te.target.value)})]}),r.jsxs("div",{className:"relative group",children:[r.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-500",children:""})," ",x("passwordLabel")]}),r.jsx("input",{id:"password",name:"password",type:"password",autoComplete:d?"new-password":"current-password",required:!0,className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all text-gray-900 placeholder-gray-400 hover:border-indigo-300 hover:shadow-md",placeholder:"",value:T,onChange:te=>E(te.target.value)})]}),!d&&r.jsx("div",{className:"text-right",children:r.jsx("button",{type:"button",onClick:()=>{f(!0),C(""),D("")},className:"text-sm text-orange-600 hover:text-orange-700 font-medium transition-colors",children:"ifremi Unuttum"})}),A&&r.jsxs("div",{className:"p-4 bg-gradient-to-r from-emerald-50 to-green-50 border-2 border-emerald-300 text-emerald-700 rounded-xl text-sm font-semibold flex items-center gap-3 animate-bounce-once shadow-lg",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{children:A})]}),_&&r.jsxs("div",{className:"p-4 bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold flex items-center gap-3 animate-shake shadow-lg",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{children:_})]}),r.jsxs("button",{type:"submit",disabled:v,className:"group relative w-full py-4 px-4 bg-gradient-to-r from-orange-600 via-orange-500 to-orange-600 hover:from-orange-700 hover:via-orange-600 hover:to-orange-700 text-white font-bold rounded-xl shadow-xl hover:shadow-2xl transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),r.jsx("span",{className:"relative flex items-center justify-center gap-2 text-lg",children:v?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),x("loading")]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:x(d?"createAccountTitle":"signInAction")}),r.jsx("span",{className:"text-xl group-hover:translate-x-1 transition-transform",children:""})]})})]})]}),r.jsx("div",{className:"mt-8 text-center",children:r.jsx("button",{onClick:()=>{u(!d),D(""),C("")},className:"text-orange-600 hover:text-orange-700 font-semibold text-base transition-all hover:underline decoration-2 underline-offset-4",children:x(d?"haveAccountBtn":"noAccountBtn")})}),r.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("span",{className:"text-green-500 text-base",children:""}),r.jsx("span",{className:"font-medium",children:x("secureSSL")})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("span",{className:"text-blue-500 text-base",children:""}),r.jsx("span",{className:"font-medium",children:x("secureBadge")})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("span",{className:"text-purple-500 text-base",children:""}),r.jsx("span",{className:"font-medium",children:x("fastBadge")})]})]})})]}),r.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:r.jsx("p",{children:x("footerRights")})})]})})]})},mm=a=>e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...e,children:a}),hS=mm(r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})),mS=mm(r.jsx("path",{d:"M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.66-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4-4c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm-6 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm12-3c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"})),Rb=mm(r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})),st=()=>window.dispatchEvent(new Event("datachanged")),Mb="offlineObservations",uc="offlineQueue",Dh="cachedChildren",My="cachedClasses",Ly="cachedAttendance",Uy="cachedGoals",hc=(a,e)=>{try{localStorage.setItem(a,JSON.stringify({data:e,timestamp:Date.now()}))}catch(n){console.error("Cache yazma hatas:",n)}},ol=(a,e=1440*60*1e3)=>{try{const n=localStorage.getItem(a);if(!n)return null;const{data:i,timestamp:o}=JSON.parse(n);return Date.now()-o>e?(localStorage.removeItem(a),null):i}catch(n){return console.error("Cache okuma hatas:",n),null}},Lb=a=>{try{const e=cl(),n={...a,id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now(),retryCount:0};e.push(n),localStorage.setItem(uc,JSON.stringify(e))}catch(e){console.error("Offline queue'ya ekleme hatas:",e)}},cl=()=>{try{const a=localStorage.getItem(uc);return a?JSON.parse(a):[]}catch(a){return console.error("Offline queue okuma hatas:",a),[]}},By=a=>{try{const e=cl().filter(n=>n.id!==a);localStorage.setItem(uc,JSON.stringify(e))}catch(e){console.error("Offline queue'dan silme hatas:",e)}},fS=a=>{try{const e=cl(),n=e.find(i=>i.id===a);n&&(n.retryCount++,localStorage.setItem(uc,JSON.stringify(e)))}catch(e){console.error("Queue retry count gncelleme hatas:",e)}},zr=()=>navigator.onLine,gS=a=>(a||"").trim().replace(/\s+/g," ").toLocaleLowerCase("tr-TR"),pS=a=>(a||"").trim().replace(/\s+/g," ").replace(/(^|\s)\S/g,e=>e.toLocaleUpperCase("tr-TR")),$i=async a=>{var e,n;try{const{data:i,error:o}=await Z.from("classes").select("*").eq("user_id",a).order("name",{ascending:!0});if(o)throw(e=o.message)!=null&&e.includes("relation")&&((n=o.message)!=null&&n.includes("does not exist"))?new Error("'classes' tablosu bulunamad. Ltfen Supabase'de snflar iin tabloyu oluturun."):o;const d=i||[];return hc(`${My}:${a}`,d),d}catch(i){console.log("evrimd mod - cache'den snflar getiriliyor");const o=ol(`${My}:${a}`);return o||(console.warn("Cache bulunamad, bo liste dndrlyor:",i),[])}},Ub=async(a,e)=>{const n=pS(e),i=gS(n);let{data:o,error:d}=await Z.from("classes").upsert({user_id:a,name:n,slug:i},{onConflict:"user_id,slug"}).select().single();if(d){const{data:u}=await Z.from("classes").select("*").eq("user_id",a).eq("slug",i).single();if(u)return u;const m=await Z.from("classes").insert({user_id:a,name:n,slug:i}).select().single();if(m.error)throw m.error;o=m.data}return st(),o},yS="modulepreload",xS=function(a,e){return new URL(a,e).href},Py={},Ar=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let u=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};const m=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=u(n.map(y=>{if(y=xS(y,i),y in Py)return;Py[y]=!0;const v=y.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(!!i)for(let T=m.length-1;T>=0;T--){const E=m[T];if(E.href===y&&(!v||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${w}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":yS,v||(S.as="script"),S.crossOrigin="",S.href=y,p&&S.setAttribute("nonce",p),document.head.appendChild(S),v)return new Promise((T,E)=>{S.addEventListener("load",T),S.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(u){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=u,window.dispatchEvent(m),!m.defaultPrevented)throw u}return o.then(u=>{for(const m of u||[])m.status==="rejected"&&d(m.reason);return e().catch(d)})},wn=async a=>{try{const{data:e,error:n}=await Z.from("children").select("*").eq("user_id",a).order("created_at",{ascending:!1});if(n)throw n;const i=e;return hc(`${Dh}:${a}`,i),i}catch(e){console.log("evrimd mod - cache'den ocuklar getiriliyor");const n=ol(`${Dh}:${a}`);return n||(console.warn("Cache bulunamad, bo liste dndrlyor:",e),[])}},bS=async(a,e)=>{try{const{data:n,error:i}=await Z.from("children").select("id, first_name, last_name, classroom, photo_url, dob").eq("user_id",a).eq("classroom",e).order("created_at",{ascending:!1});if(i)throw i;return n||[]}catch{console.log("evrimd mod - snf ocuklar cache'den getiriliyor");const i=ol(`${Dh}:${a}`);return i?i.filter(o=>o.classroom===e):(console.warn("Cache bulunamad, bo liste dndrlyor"),[])}},Bb=async(a,e)=>{const{data:n,error:i}=await Z.from("children").insert({...a,user_id:e}).select();if(i)throw i;return st(),n[0]},zh=async(a,e)=>{const{data:n,error:i}=await Z.from("children").update(e).eq("id",a).select().single();if(i)throw i;return st(),n},mc=async a=>{const{data:e,error:n}=await Z.from("media").select("storage_path").eq("child_id",a);n&&console.error("Silinecek medya alnrken hata olutu:",n);const{data:i,error:o}=await Z.from("children").select("photo_url").eq("id",a).single();if(o&&console.error("Fotoraf silmek iin ocuk verisi alnrken hata olutu:",o),e&&e.length>0){const w=e.map(S=>S.storage_path),{error:j}=await Z.storage.from("child-media").remove(w);j&&console.error("Medya depolama alanndan silinirken hata:",j)}if(i!=null&&i.photo_url)try{const j=new URL(i.photo_url).pathname.split("/avatars/")[1];if(j){const{error:S}=await Z.storage.from("avatars").remove([j]);S&&console.error("Avatar depolama alanndan silinirken hata:",S)}}catch(w){console.error("Depolama alanndan silmek iin fotoraf URL'si ayrtrlamad",w)}const{error:d}=await Z.from("messages").delete().eq("child_id",a);d&&console.warn("Mesajlar silinirken hata:",d.message);const{error:u}=await Z.from("family_links").delete().eq("child_id",a);u&&console.warn("Aile balantlar silinirken hata:",u.message);const{error:m}=await Z.from("goals").delete().eq("child_id",a);m&&console.warn("Hedefler silinirken hata:",m.message);const{error:f}=await Z.from("assessments").delete().eq("child_id",a);f&&console.warn("Deerlendirmeler silinirken hata:",f.message);const{error:p}=await Z.from("observations").delete().eq("child_id",a);p&&console.warn("Gzlemler silinirken hata:",p.message);const{error:y}=await Z.from("media").delete().eq("child_id",a);y&&console.warn("Medya silinirken hata:",y.message);const{error:v}=await Z.from("children").delete().eq("id",a);if(v)throw console.error("ocuk veritabanndan silinirken hata:",v),v;st()},fm=async(a,e,n)=>{const{data:i,error:o}=await Z.from("children").select("id, first_name, last_name").eq("user_id",a).eq("classroom",e);if(o)throw console.error("Snftaki ocuklar alnrken hata:",o),o;const d=i||[];n==null||n(`${d.length} ocuk siliniyor...`);for(let u=0;u<d.length;u++){const m=d[u];n==null||n(`Siliniyor: ${m.first_name} ${m.last_name} (${u+1}/${d.length})`);try{await mc(m.id)}catch(f){console.error(`ocuk silinemedi: ${m.id}`,f)}}try{await Z.from("classes").delete().eq("user_id",a).eq("name",e)}catch(u){console.warn("classes tablosundan snf silinemedi (muhtemelen yoktu):",u)}try{const u=localStorage.getItem(`classMeta:${a}`);if(u){const m=JSON.parse(u);delete m[e],localStorage.setItem(`classMeta:${a}`,JSON.stringify(m))}}catch{}n==null||n("Snf silindi."),st()},vS=async(a,e,n)=>{const{processImage:i}=await Ar(async()=>{const{processImage:y}=await Promise.resolve().then(()=>xm);return{processImage:y}},void 0,import.meta.url),o=await i(n),{v4:d}=await Ar(async()=>{const{v4:y}=await Promise.resolve().then(()=>Pb);return{v4:y}},void 0,import.meta.url),u=`${a}/${e}/${d()}`,{data:m,error:f}=await Z.storage.from("avatars").upload(u,o,{cacheControl:"3600",upsert:!0});if(f)throw f;const{data:p}=Z.storage.from("avatars").getPublicUrl(m.path);return p.publicUrl},At=[];for(let a=0;a<256;++a)At.push((a+256).toString(16).slice(1));function wS(a,e=0){return(At[a[e+0]]+At[a[e+1]]+At[a[e+2]]+At[a[e+3]]+"-"+At[a[e+4]]+At[a[e+5]]+"-"+At[a[e+6]]+At[a[e+7]]+"-"+At[a[e+8]]+At[a[e+9]]+"-"+At[a[e+10]]+At[a[e+11]]+At[a[e+12]]+At[a[e+13]]+At[a[e+14]]+At[a[e+15]]).toLowerCase()}let Zu;const kS=new Uint8Array(16);function jS(){if(!Zu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Zu=crypto.getRandomValues.bind(crypto)}return Zu(kS)}const SS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$y={randomUUID:SS};function NS(a,e,n){var o;a=a||{};const i=a.random??((o=a.rng)==null?void 0:o.call(a))??jS();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){if(n=n||0,n<0||n+16>e.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let d=0;d<16;++d)e[n+d]=i[d];return e}return wS(i)}function kn(a,e,n){return $y.randomUUID&&!e&&!a?$y.randomUUID():NS(a,e,n)}const Pb=Object.freeze(Object.defineProperty({__proto__:null,v4:kn},Symbol.toStringTag,{value:"Module"})),gm=()=>{try{const a=localStorage.getItem(Mb);return a?JSON.parse(a):[]}catch{return[]}},$b=a=>{localStorage.setItem(Mb,JSON.stringify(a))},_S=async(a,e)=>{const n=gm(),i={...a,id:kn(),created_at:new Date().toISOString(),dirty:!0,media_files:e};return $b([...n,i]),st(),alert(x("observationSavedOffline")),i},Vo=async a=>{const{data:e,error:n}=await Z.from("observations").select("*, assessments(*)").eq("child_id",a).order("created_at",{ascending:!1});if(n)throw n;const i=(e||[]).map(d=>{let u=d.assessments;if(Array.isArray(u)&&u.length>0){const m=[...u].sort((f,p)=>new Date(p.created_at).getTime()-new Date(f.created_at).getTime())[0];return{...d,assessments:m}}return{...d,assessments:null}});return[...gm().filter(d=>d.child_id===a),...i]},Vb=async(a,e,n)=>{if(!navigator.onLine)return _S(a,n);const{data:i,error:o}=await Z.from("observations").insert({...a,user_id:e}).select();if(o)throw o;return st(),i[0]},Oh=async(a,e)=>{const{data:n,error:i}=await Z.from("observations").update(e).eq("id",a).select();if(i)throw i;return st(),n[0]},CS=async a=>{const{error:e}=await Z.from("assessments").delete().eq("observation_id",a);if(e)throw console.error("Assessment silme hatas:",e),e;const{error:n}=await Z.from("observations").delete().eq("id",a);if(n)throw console.error("Gzlem silme hatas:",n),n;st()},TS=async()=>{var d;const a=gm();if(a.length===0)return;const e=await Z.auth.getSession(),n=(d=e==null?void 0:e.data.session)==null?void 0:d.user.id;if(!n){console.error("Kullanc giri yapmam, senkronize edilemiyor.");return}let i=0;const o=[];for(const u of a)try{const{media_files:m,dirty:f,id:p,...y}=u;await Z.from("observations").insert({...y,user_id:n}),i++}catch(m){console.error("Gzlem senkronize edilemedi:",u.id,m),o.push(u)}$b(o),i>0&&(alert(`${i} ${x("observationsSynced")}`),window.dispatchEvent(new Event("datachanged")))},AS=async a=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:n,error:i}=await Z.from("observations").insert({child_id:a.child_id,user_id:e.id,note:a.note,context:a.context||"home",domains:a.domains||[],added_by:"family"}).select();if(i)throw i;return st(),n[0]},ES=async a=>{const{data:e,error:n}=await Z.rpc("get_family_observations",{p_child_id:a});if(n)throw n;return e},pm=async(a,e)=>{const n=Be(),{data:i,error:o}=await Z.functions.invoke("ai_evaluate",{body:{observationNote:a,domains:e,language:n}});if(o)throw o;return i.assessment},fc=async(a,e,n)=>{const i={observation_id:a,user_id:e,summary:n.summary,risk:n.risk,suggestions:n.suggestions,domain_scores:n.domain_scores};let{data:o,error:d}=await Z.from("assessments").upsert(i,{onConflict:"observation_id"}).select().single();if(d){await Z.from("assessments").delete().eq("observation_id",a);const u=await Z.from("assessments").insert(i).select().single();if(u.error)throw u.error;o=u.data}return st(),o},DS=async(a,e={})=>{var f;const n=p=>{var y;return(y=e.onProgress)==null?void 0:y.call(e,p)},i=e.limit??60,{data:o,error:d}=await Z.from("observations").select("id, child_id, note, domains, assessments(summary)").eq("user_id",a).order("created_at",{ascending:!1}).limit(i);if(d)throw d;const u=o||[];let m=0;for(const p of u){const y=Array.isArray(p.assessments)&&p.assessments.length>0,v=y&&String(((f=p.assessments[0])==null?void 0:f.summary)||"").startsWith("Bu, yapay zeka servisi");if(!y||v)try{n==null||n(`Analiz ediliyor: ${++m}/${u.length}`);const w=await pm(p.note,p.domains||[]);await fc(p.id,a,{summary:w.summary,risk:w.risk,suggestions:w.suggestions||[],domain_scores:w.domain_scores})}catch(w){console.warn("Yeniden analiz baarsz:",p.id,w)}}n==null||n("Tamamland")},zS=async(a,e={})=>{var V,$;const n=e.days??30,i=e.maxObservations??40,o=new Date;o.setDate(o.getDate()-n);const d=o.toISOString();let u=Z.from("observations").select("child_id, note, domains, created_at, assessments(risk, suggestions, domain_scores)").eq("user_id",a).gte("created_at",d).order("created_at",{ascending:!1}).limit(i);e.childIds&&e.childIds.length>0&&(u=u.in("child_id",e.childIds));const{data:m,error:f}=await u;if(f)throw f;let p=m||[];if(e.domains&&e.domains.length>0){const B=new Set(e.domains);p=p.filter(q=>Array.isArray(q==null?void 0:q.domains)&&q.domains.some(ae=>B.has(ae)))}if(e.risks&&e.risks.length>0){const B=new Set(e.risks);p=p.filter(q=>{const ae=Array.isArray(q==null?void 0:q.assessments)&&q.assessments.length>0?q.assessments[0]:void 0;return ae!=null&&ae.risk?B.has(ae.risk):!1})}const y=new Set,v={};let w=0,j=0,S=0;const T=[];for(const B of p){const q=Array.isArray(B==null?void 0:B.domains)?B.domains:[];for(const R of q)y.add(R),v[R]=(v[R]||0)+1;const ae=Array.isArray(B==null?void 0:B.assessments)&&B.assessments.length>0?B.assessments[0]:void 0,M=ae==null?void 0:ae.risk;M==="high"?S++:M==="medium"?j++:M==="low"&&w++;const P=Array.isArray(ae==null?void 0:ae.suggestions)?ae.suggestions:[];for(const R of P)typeof R=="string"&&R.trim()&&T.push(R.trim())}const E=Be(),A=Array.from(y),D=Object.entries(v).sort((B,q)=>q[1]-B[1]).map(([B,q])=>`- ${B}: ${q}`).join(`
`),_=`Low:${w}, Medium:${j}, High:${S}`,C=T.map(B=>`- ${B}`).join(`
`),H=E==="en"?[`Class Summary (last ${n} days):`,`Risk Distribution: ${_}`,`Area Distribution:
${D||"-"}`,"","Individual Student Suggestions List (AI should SUMMARIZE this to class level):",C||"- No data","","Instruction: Analyze these individual student suggestions, remove duplicates, merge themes and create a list of 6-10 actionable suggestions applicable at the class level. Write short, actionable sentences. Speak only at the class level, do not mention individuals. OUTPUT should be JSON (summary, suggestions)."].join(`
`):[`Snf zeti (son ${n} gn):`,`Risk Dalm: ${_}`,`Alan Dalm:
${D||"-"}`,"","Bireysel renci nerileri Listesi (AI bunu ZETLEYP snf dzeyine karsn):",C||"- Veri yok","","Talimat: Bu tek tek renci nerilerini analiz et, tekrarlar kaldr, temalar birletir ve snf genelinde uygulanabilir 610 maddelik bir neri listesi kar. Ksa, eyleme geirilebilir cmleler yaz. Yalnzca snf dzeyinde konu, bireylerden bahsetme. IKTI JSON olsun (summary, suggestions)."].join(`
`);try{const{data:B,error:q}=await Z.functions.invoke("ai_evaluate",{body:{observationNote:H,domains:A,language:E}});if(q)throw q;const ae=B==null?void 0:B.assessment;return{suggestions:Array.isArray(ae==null?void 0:ae.suggestions)?ae.suggestions:[],summary:ae==null?void 0:ae.summary}}catch{const q=new Set;for(const ae of p){const M=Array.isArray(($=(V=ae==null?void 0:ae.assessments)==null?void 0:V[0])==null?void 0:$.suggestions)?ae.assessments[0].suggestions:[];for(const P of M||[])typeof P=="string"&&P.trim()&&q.add(P.trim());if(q.size>=10)break}return{suggestions:Array.from(q).slice(0,10)}}},Xo=async a=>{const{data:e,error:n}=await Z.from("media").select("*").eq("child_id",a).order("created_at",{ascending:!1});if(n)throw n;return e},OS=async(a,e)=>{const{data:n,error:i}=await Z.from("media").insert({...a,user_id:e}).select();if(i)throw i;return st(),n[0]},RS=async a=>{const{error:e}=await Z.storage.from("child-media").remove([a.storage_path]);e&&console.error(`Storage silme baarsz: "${a.storage_path}", veritaban kayd silinmeye devam ediliyor.Hata: `,e.message);const{error:n}=await Z.from("media").delete().eq("id",a.id);if(n)throw n;st()},Or=async(a,e=3600)=>{const{data:n,error:i}=await Z.storage.from("child-media").createSignedUrl(a,e);if(i)throw i;return n.signedUrl},MS=async(a,e,n)=>{var v;const{processImage:i}=await Ar(async()=>{const{processImage:w}=await Promise.resolve().then(()=>xm);return{processImage:w}},void 0,import.meta.url),o=await i(n),d=((v=o.type)==null?void 0:v.split("/")[1])||"",u=o.name.includes(".")?o.name.split(".").pop():"",m=(d||u||"jpg").toLowerCase(),f=`${a} /${e}/${kn()}.${m} `,{data:p,error:y}=await Z.storage.from("child-media").upload(f,o,{cacheControl:"3600",upsert:!0,contentType:o.type||"image/jpeg"});if(y)throw y;return p.path},Hb=async(a,e,n)=>{var m;const i=await new Promise((f,p)=>{const y=new FileReader;y.onload=()=>f(y.result),y.onerror=p,y.readAsDataURL(e)}),o={childId:a,name:n.name,description:n.description,domain:n.domain,fileName:e.name,fileType:e.type,data:i},{data:d,error:u}=await Z.functions.invoke("media_upload",{body:o});if(u)throw new Error(u.message||"Upload failed");return{path:d==null?void 0:d.path,mediaId:(m=d==null?void 0:d.media)==null?void 0:m.id}},LS=async(a,e,n)=>{let i,o,d;n.file&&(i=await new Promise((p,y)=>{const v=new FileReader;v.onload=()=>p(v.result),v.onerror=y,v.readAsDataURL(n.file)}),o=n.file.type,d=n.file.name);const u={mediaId:a,childId:e,name:n.name,description:n.description,domain:n.domain};i&&Object.assign(u,{data:i,fileType:o,fileName:d});const{data:m,error:f}=await Z.functions.invoke("media_update",{body:u});if(f)throw new Error(f.message||"Update failed");return{path:m==null?void 0:m.path}},Wu=async(a,e)=>{const{error:n}=await Z.from("media").update({shared_with_family:e}).eq("id",a);if(n)throw n;st()},US=async()=>{const{data:a,error:e}=await Z.rpc("get_family_shared_media");if(e)throw e;return a},BS=5*1024*1024,PS=20*1024*1024,qb=a=>{const e=a.type.startsWith("video/"),n=e?PS:BS,i=e?20:5;if(a.size>n)return{valid:!1,error:`Dosya ok byk. Maksimum ${e?"video":"fotoraf"} boyutu: ${i}MB`};const o=["image/jpeg","image/png","image/webp"],d=["video/mp4","video/mov","video/quicktime","video/webm"];return[...o,...d].includes(a.type)?{valid:!0}:{valid:!1,error:"Desteklenmeyen dosya format. JPEG, PNG, MP4, MOV, WebM kullann."}},$S=async(a,e,n)=>{var S,T;const i=qb(e);if(!i.valid)throw new Error(i.error);const{data:{user:o}}=await Z.auth.getUser();if(!o)throw new Error("User not authenticated");let d=e;if(e.type.startsWith("image/")){const{processImage:E}=await Ar(async()=>{const{processImage:A}=await Promise.resolve().then(()=>xm);return{processImage:A}},void 0,import.meta.url);d=await E(e)}const u=((S=d.type)==null?void 0:S.split("/")[1])||"",m=d.name.includes(".")?d.name.split(".").pop():"",f=(u||m||"jpg").toLowerCase(),p=`family/${o.id}/${a}/${kn()}.${f}`,{data:y,error:v}=await Z.storage.from("child-media").upload(p,d,{cacheControl:"3600",upsert:!0,contentType:d.type||"application/octet-stream"});if(v)throw v;const{data:w,error:j}=await Z.from("media").insert({child_id:a,user_id:o.id,type:e.type.startsWith("video/")?"video":"image",storage_path:y.path,name:n.name,description:n.description,added_by:"family"}).select();if(j)throw j;return st(),{path:y.path,mediaId:(T=w[0])==null?void 0:T.id}},VS=async a=>{const{data:e,error:n}=await Z.rpc("get_family_media",{p_child_id:a});if(n)throw n;return e},Ib=async a=>{const{data:e,error:n}=await Z.from("chat_threads").select("*").eq("user_id",a).order("updated_at",{ascending:!1});if(n)throw n;return e||[]},HS=async a=>{const{data:e,error:n}=await Z.from("chat_threads").insert({user_id:a.userId,title:a.title,mode:a.mode,classroom:a.classroom,child_id:a.childId}).select().single();if(n)throw n;return e},qS=async(a,e)=>{const{error:n}=await Z.from("chat_threads").update({title:e,updated_at:new Date().toISOString()}).eq("id",a);if(n)throw n},Gb=async a=>{const{error:e}=await Z.from("chat_messages").delete().eq("thread_id",a);e&&console.error("Mesajlar silinirken hata:",e);const{error:n}=await Z.from("chat_threads").delete().eq("id",a);if(n)throw n},IS=async a=>{const{data:e,error:n}=await Z.from("chat_messages").select("*").eq("thread_id",a).order("created_at",{ascending:!0});if(n)throw n;return e||[]},Vy=async a=>{const{data:e,error:n}=await Z.from("chat_messages").insert({thread_id:a.threadId,user_id:a.userId,role:a.role,content:a.content}).select().single();if(n)throw n;return await Z.from("chat_threads").update({updated_at:new Date().toISOString()}).eq("id",a.threadId),e},GS=async a=>{const{data:e,error:n}=await Z.functions.invoke("teacher_chat",{body:a});if(n)throw n;return e},FS=async a=>{try{const{data:e,error:n}=await Z.from("goals").select("*").eq("child_id",a).order("created_at",{ascending:!1});if(n)throw n;const i=e||[];return hc(`${Uy}_${a}`,i),i}catch(e){if(!zr()){const n=ol(`${Uy}_${a}`);return n||[]}throw e}},YS=async(a,e,n,i,o)=>{const d={child_id:a,user_id:e,title:n,domain:i,description:o==null?void 0:o.description,priority:(o==null?void 0:o.priority)||"medium",target_date:o==null?void 0:o.target_date,notes:o==null?void 0:o.notes,status:"not_started",progress:0};if(!zr()){Lb({type:"goal",action:"create",data:d});const f={id:`temp_${Date.now()}`,...d,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return st(),f}const{data:u,error:m}=await Z.from("goals").insert(d).select().single();if(m)throw m;return st(),u},KS=async(a,e)=>{const n={...e};if(e.status==="completed"&&(n.completed_at=new Date().toISOString(),n.progress=100),!zr())return Lb({type:"goal_update",action:"update",data:{id:a,...n}}),st(),{id:a,...n};const{data:i,error:o}=await Z.from("goals").update(n).eq("id",a).select().single();if(o)throw o;return st(),i},ZS=async a=>{const{error:e}=await Z.from("goals").delete().eq("id",a);if(e)throw e},WS=async(a,e)=>{try{const{data:n,error:i}=await Z.from("attendance").select("*").eq("user_id",a).eq("date",e).order("created_at",{ascending:!1});if(i)throw i;const o=n||[];return hc(`${Ly}_${e}`,o),o}catch(n){if(!zr()){const i=ol(`${Ly}_${e}`);if(i)return i}throw n}},XS=async a=>{const e=a.map(o=>({child_id:o.childId,user_id:o.userId,date:o.date,status:o.status,notes:o.notes,checked_in_at:o.status==="present"||o.status==="late"?new Date().toISOString():void 0})),{data:n,error:i}=await Z.from("attendance").upsert(e,{onConflict:"child_id,date"}).select();if(i)throw i;return n||[]},QS=async(a,e,n)=>{let i=Z.from("attendance").select("*").eq("user_id",a);e&&(i=i.gte("date",e)),n&&(i=i.lte("date",n));const{data:o,error:d}=await i;if(d)throw d;const u=o||[],m=u.length,f=u.filter(j=>j.status==="present").length,p=u.filter(j=>j.status==="absent").length,y=u.filter(j=>j.status==="late").length,v=u.filter(j=>j.status==="excused").length,w=m>0?Math.round(f/m*100):0;return{total:m,present:f,absent:p,late:y,excused:v,attendanceRate:w}},wt=(a,e)=>Math.floor(Math.random()*(e-a+1))+a,sa=a=>a[Math.floor(Math.random()*a.length)],Nr=(a,e)=>{const n=[...a],i=[];for(;n.length&&i.length<e;)i.push(n.splice(Math.floor(Math.random()*n.length),1)[0]);return i},JS=["Emir","Ali","Eymen","Mert","Kerem","Aras","Deniz","Atlas","Can","Yiit","Eyll","Zeynep","Elif","Defne","Asel","Naz","Mira","Ada","Ecrin","Lina"],eN=["Ylmaz","Demir","ahin","elik","Yldz","Yldrm","ztrk","Aydn","Arslan","Doan","Kaya","Ko","Polat","Ik","Uzun"],tN=["Aye","Fatma","Zehra","Merve","Seda","Derya","Gizem","Tuba","Esra","Pelin","Ahmet","Mehmet","Mustafa","Emre","Hakan","Cem","Caner","Serkan","Murat","Burak"],aN=["Kara","Yaln","Korkmaz","imek","zkan","Aksoy","Ta","Yurt","Trkmen","Duman","zdemir","Tademir"],sN=["Anne","Baba","Veli","Teyze","Amca"],nN=["Yumurta","Fstk","St","Gluten","Polen","Ar","Domates","Kivi"],rN=["lego","resim","mzik","hikaye","bahe","drama","dans","bilmece","yapboz","matematik oyunlar"],iN=["paylamc","sabrl","yaratc","iletiimi kuvvetli","detayc","sebatl","merakl"],lN=["Emma","Liam","Olivia","Noah","Ava","Oliver","Sophia","Elijah","Isabella","James","Mia","William","Charlotte","Benjamin","Amelia","Lucas","Harper","Henry","Evelyn","Alexander"],oN=["Smith","Johnson","Williams","Brown","Jones","Garcia","Miller","Davis","Rodriguez","Martinez","Anderson","Taylor","Thomas","Moore","Jackson"],cN=["Sarah","Michael","Jennifer","David","Emily","Robert","Jessica","John","Ashley","Christopher","Amanda","Daniel","Stephanie","Matthew","Nicole","Andrew","Elizabeth","Joshua","Megan","Ryan"],dN=["Wilson","White","Harris","Martin","Thompson","Clark","Lewis","Lee","Walker","Hall","Allen","Young"],uN=["Mother","Father","Guardian","Aunt","Uncle"],hN=["Eggs","Peanuts","Milk","Gluten","Pollen","Bee","Tomato","Kiwi"],mN=["lego","drawing","music","stories","gardening","drama","dance","puzzles","jigsaw","math games"],fN=["sharing","patient","creative","good communicator","detail-oriented","persistent","curious"],gN=()=>Be()==="en"?lN:JS,pN=()=>Be()==="en"?oN:eN,yN=()=>Be()==="en"?cN:tN,xN=()=>Be()==="en"?dN:aN,bN=()=>Be()==="en"?uN:sN,vN=()=>Be()==="en"?hN:nN,wN=()=>Be()==="en"?mN:rN,kN=()=>Be()==="en"?fN:iN,jN={classroom:"snf iinde",outdoor:"bahede",home:"ev ortamnda",other:"etkinlik srasnda"},SN={classroom:"in classroom",outdoor:"in the garden",home:"at home",other:"during activity"},NN=()=>Be()==="en"?SN:jN,_N={turkish:["hikyedeki olaylar kendi szleriyle zetledi","grsellerden karm yaparak sorular yantlad","yeni kelimeleri cmle iinde kullanmay denedi","akranyla sohbeti balatp srdrd","tekerlemeli arklar ritmik olarak syledi","dinledii masal arkadalarna anlatt","resimli kitaptaki karakterleri tanmlayp yorumlad","gnlk olaylar srasyla anlatt","bilmece ve tekerlemeleri ezberledi","iir okuma etkinliinde kendini ifade etti","retmenin sorularna tam cmlelerle yant verdi","arkadalarna ynerge verebildi","duygu ve dncelerini aka ifade etti","yeni rendii kelimeyi farkl balamlarda kulland","drama etkinliinde rolne uygun konutu","parmak oyunlarna szel katlm gsterdi","kukla ile diyalog kurdu","gnlk deneyimlerini snfta paylat","resim hakknda aklama yapt","yk tamamlama etkinliine katld","sesli harflerle kelime oluturdu","kart anlaml kelimeleri eletirdi","basit cmle kalplarn kulland","dinledii arknn szlerini tekrar etti","hatrlad olaylar zamansal sraya koydu","hikyeyi zetlerken snrl kelime kulland","sorulara tek kelimelik cevaplar verdi","iletiim kurmakta ekingen davrand","kendini ifade etmede zorland","konuma srasnda kelime bulmakta zorland","dinleme srasnda dikkatini koruyamad","arkadalaryla szel iletiimden kand","soru sormaktan kand","grup tartmasna katlmak istemedi","sesli okuma srasnda duraksad"],math:["eletirme oyununda doru balantlar kurdu","say sralamasn doru bir ekilde yapt","geometrik ekilleri tand ve snflandrd","basit rntleri tamamlad","lme ve tartma kavramlarn anlad","nesneleri bykten ke sralad","toplama ve karma ilemlerini somut materyallerle yapt","para-btn ilikisini kavrad","grafik okuma etkinliinde baarl oldu","say tahmin oyununda mantkl tahminler yapt","zamanla ilgili kavramlar (nce-sonra) anlad","meknsal ilikileri (st-alt, i-d) doru kulland","para kavramn oyun srasnda uygulad","problem zme etkinliinde zm nerdi","blok yapmnda simetri oluturdu","nesneleri renklerine gre gruplad","say dorusunda ilerlemeler yapt","basit toplama problemlerini zd","nesnelerin arlklarn karlatrd","uzunluk lme arac kulland","hacim kavramn su oyununda anlad","takvim kavramn rendi","saat okuma altrmas yapt","kesir kavramn pizza blme ile anlad","saylar kartrd, yeniden almas gerekti","ekil snflama grevinde zorland","rnt tamamlamada tereddt etti","lme kavramlarn anlamakta glk ekti","say sayarken atlama yapt","geometrik ekilleri birbirine kartrd","problem zmede mantk yrtmede zorland","meknsal kavramlar kartrd","gruplama yaparken hata yapt"],science:["doa gzleminde merak sorularn ifade etti","basit deneyi admlaryla takip etti","bitki bymesi srecini izledi ve kayt etti","hava durumu deiikliklerini fark etti","canl-cansz ayrmn doru yapt","hayvan yaam dngsn anlatt","mknats deneyinde tahmin ve gzlem yapt","su dngs modelini aklad","mevsim zelliklerini karlatrd","geri dnm kavramn aklad","laboratuvar aralarn doru kulland","doadaki deiimleri gzlemledi","basit makine rneklerini tand","be duyu organn ilevleriyle eletirdi","salkl beslenme hakknda bilgi paylat","byte ile gzlem yapt","renk karm deneyine katld","batma-yzme deneyini anlad","k ve glge oluumunu gzlemledi","ses zelliklerini kefetti","toprak trlerini karlatrd","bcek inceleme etkinliine katld","yaprak koleksiyonu oluturdu","hava tahmin grafii izdi","deney admlarn takip etmede zorland","gzlem yapmakta dikkatini verme zorluu yaad","neden-sonu ilikilerini kurmakta glk ekti","sorulara ilgisiz kald","tahmin yapmaktan kand","deney sonularn aklamada zorland","hipotez oluturmada yardma ihtiya duydu","gzlem kaytlarn tutmad","materyalleri dikkatsizce kulland"],social:["sra beklerken sabrl davrand","arkadana materyal uzatarak i birlii yapt","duygusunu szel olarak ifade etti","oyunda basit atmay konuarak zd","kurallara uyma konusunda olumlu tutum gsterdi","yeni arkadalarla tanma giriiminde bulundu","grup almasnda liderlik zellikleri gsterdi","zorlandnda yardm istedi","farkllklara saygl davrand","sorumluluk ald grevi tamamlad","empati kurarak arkadan teselli etti","zr dileme ve teekkr etme davranlar sergiledi","ortak kullanm alanlarn dzenli brakt","gnlk rutinlere uyum salad","bakalarnn duygularn anlamaya alt","aile yeleri hakknda bilgi paylat","kltrel etkinliklere ilgi gsterdi","rol oyunu srasnda empati gsterdi","grup kararlarna sayg gsterdi","yeni gelene ho geldin dedi","ihtiyac olan arkadana yardm etti","snf grevlerini istekle yapt","duygularn kontrol etmeyi denedi","farkl grlere ak oldu","sra beklerken huzursuz oldu","paylam konusunda isteksiz davrand","arkadayla anlamazlk yaad","duygusal olarak tepkili davrand","oyuncak paylamnda glk ekti","grup etkinliklerine katlmak istemedi","kaybetmeyi kabullenmekte zorland","eletiriye olumsuz tepki verdi","yalnz oynamay tercih etti","szl uyarlar dinlemedi"],motor_health:["topu hedefe doru gnderdi ve yakalad","denge tahtasnda kontroll yrd","makasla izgi boyunca dikkatle kesti","boncuklar ipe geirirken iki el koordinasyonu kulland","ellerini adm adm doru ykad","giyinme srasnda fermuarn kapatmay denedi","ip atlama etkinliinde ritim tuttu","engelli parkurda baarl ilerledi","top zplatma ve yakalama hareketlerini koordineli yapt","bulmaca paralarn yerletirdi","kalem tutma pozisyonunu dzeltti","boyama srasnda snrlar iinde kald","hamur ile ekiller yourdu","dme ve tt kapamay baard","merdiven inip kmada gvenli hareket etti","kou ve durma aktivitelerinde kontroll hareket etti","jimnastik hareketlerini taklit etti","parmak oyunlarna katld","tek ayak stnde durma dengesini korudu","sek sek oyununda baarl oldu","germe hareketlerini yapt","ip ekme oyununda takm almas gsterdi","atma ve yakalama koordinasyonu geliti","ince motor etkinlikte sabrla alt","top yakalamada koordinasyon eksiklii gsterdi","denge tutmakta zorland","makasla kesmede el koordinasyonu zayf","el ykamay hatrlatmaya ihtiya duydu","ince motor gerektiren grevlerde zorland","kalem tutmada glk yaad","koarken dme eilimi gsterdi","ayakkab balamada zorland","izgi izlemede sk sk dar kt"],art:["resim almasnda renkleri zgrce kulland","hamur ile  boyutlu ekiller oluturdu","kolaj almasn tamamlad","izimlerinde detay ve ifade artt","yeni malzemeleri denemekten keyif ald","sulu boya tekniini uygulad","parmak boyas ile yaratc alma yapt","doadan toplanan malzemelerle eser retti","kendi portresini izdi","bir hikyeyi resimlerle anlatt","zgn tasarmlar oluturdu","renk karmlar denedi","seramik almasna katld","bask teknii kulland","origami ile ekil katlama yapt","atk malzemelerden sanat eseri retimine katld","mozaik almas yapt","iplik resim tekniini denedi","kat oyma tekniini kulland","mum boyayla alma yapt","pastel boya ile eser retti","ahap boyama etkinliine katld","kuma boyama deneyimi yaad","yaratc maske tasarm yapt","sanat etkinliine katlmda isteksiz davrand","malzemeleri kullanmakta zorland","izimde zgven eksiklii gsterdi","renk seiminde kararsz kald","almasn yarm brakt","yaratc ifadede destee ihtiya duydu","bakalarnn almalarn kopyalamaya alt","malzemeleri dank brakt","almasndan memnun olmad"],music:["arklarn ritimle ve enerjik syledi","ritim aletlerini doru kulland","mzik eliinde hareket etti","melodileri tand ve taklit etti","dans ederken ritme uyum salad","basit notalara dikkat etti","mzikli hikyelere ilgi gsterdi","koro almasna katld","ses tonunu ayarlayabildi","enstrman tanma etkinliinde baarl oldu","mzikle ruh halini ifade etti","beden perksyonu kulland","farkl mzik trlerini ayrt etti","tempo deiikliklerine uyum salad","ark szlerini ezberledi","mzik dinlerken rahatlad","ksilofon almay rendi","davul ritimlerini taklit etti","ark sylerken mimikler kulland","mzikal dans gsterisi yapt","ark yarmasna katld","orkestra enstrmanlarn tand","ses efektleri retti","hazrlad mzikal sunumu yapt","ritim tutmakta zorland","ark sylemekten kand","mzik etkinliine katlmakta ekingen davrand","ritim aletlerini kullanmada glk ekti","grup arksnda sesini ayarlayamad","mzie dikkatini vermekte zorland","dans figrlerini taklit etmedi","mzikal ynergeleri izlemedi","ses kontrolnde zorland"]},CN={turkish:["summarized story events in their own words","answered questions by making inferences from visuals","tried using new words in sentences","initiated and maintained conversation with peers","sang rhyming songs rhythmically","retold the story they listened to their friends","identified and interpreted characters in picture books","narrated daily events in sequence","memorized riddles and rhymes","expressed themselves during poetry reading activity","answered teacher questions in complete sentences","was able to give instructions to friends","clearly expressed thoughts and feelings","used newly learned words in different contexts","spoke appropriately for their role in drama activity","participated verbally in finger games","engaged in dialogue with puppets","shared daily experiences in class","provided explanations about their drawing","participated in story completion activity","created words with letter sounds","matched words with opposite meanings","used basic sentence patterns","repeated song lyrics after listening","arranged remembered events in chronological order","used limited vocabulary when summarizing the story","gave single-word answers to questions","was hesitant in communication","had difficulty expressing themselves","struggled to find words while speaking","could not maintain attention during listening","avoided verbal communication with friends","avoided asking questions","did not want to participate in group discussion","paused during reading aloud"],math:["made correct connections in matching games","correctly sequenced numbers","recognized and classified geometric shapes","completed simple patterns","understood measuring and weighing concepts","sorted objects from largest to smallest","did addition and subtraction with concrete materials","understood part-whole relationships","was successful in graph reading activity","made logical guesses in number guessing game","understood time-related concepts (before-after)","correctly used spatial relationships (up-down, in-out)","applied money concept during play","proposed solutions in problem-solving activity","created symmetry in block building","grouped objects by color","made progress on the number line","solved simple addition problems","compared weights of objects","used length measuring tools","understood volume concept in water play","learned calendar concept","practiced reading the clock","understood fraction concept with pizza sharing","confused numbers, needed more practice","struggled with shape classification task","hesitated in pattern completion","had difficulty understanding measurement concepts","skipped numbers while counting","confused geometric shapes with each other","struggled with logical reasoning in problem solving","confused spatial concepts","made errors while grouping"],science:["expressed curiosity questions during nature observation","followed experiment steps correctly","observed and recorded plant growth process","noticed weather changes","correctly distinguished living and non-living things","explained animal life cycle","made predictions and observations in magnet experiment","explained water cycle model","compared seasonal characteristics","explained recycling concept","used laboratory tools correctly","observed changes in nature","recognized simple machine examples","matched five senses with their functions","shared information about healthy eating","made observations with a magnifying glass","participated in color mixing experiment","understood sinking and floating experiment","observed light and shadow formation","explored properties of sound","compared different types of soil","participated in insect observation activity","created a leaf collection","drew a weather prediction chart","struggled to follow experiment steps","had difficulty paying attention during observation","struggled to establish cause-effect relationships","showed disinterest in questions","avoided making predictions","had difficulty explaining experiment results","needed help in forming hypotheses","did not keep observation records","used materials carelessly"],social:["showed patience while waiting in line","cooperated by passing materials to friends","expressed emotions verbally","resolved simple conflicts through discussion","showed positive attitude towards following rules","took initiative to meet new friends","showed leadership qualities in group work","asked for help when struggling","showed respect for differences","completed assigned responsibilities","consoled friend by showing empathy","displayed apologizing and thanking behaviors","left shared spaces tidy","adapted to daily routines","tried to understand others feelings","shared information about family members","showed interest in cultural activities","showed empathy during role play","respected group decisions","welcomed newcomers","helped friends in need","eagerly performed classroom duties","tried to control emotions","was open to different opinions","became restless while waiting in line","was reluctant to share","had disagreement with friend","reacted emotionally","had difficulty sharing toys","did not want to participate in group activities","had difficulty accepting losing","reacted negatively to criticism","preferred to play alone","did not listen to verbal warnings"],motor_health:["threw and caught ball towards target","walked on balance beam with control","cut along lines carefully with scissors","used two-hand coordination while threading beads","washed hands correctly step by step","tried to close zipper while dressing","kept rhythm in jump rope activity","progressed successfully in obstacle course","coordinated ball bouncing and catching movements","placed puzzle pieces correctly","corrected pencil holding position","stayed within boundaries while coloring","kneaded shapes with playdough","succeeded in closing buttons and snaps","moved safely while going up and down stairs","moved with control in running and stopping activities","imitated gymnastics movements","participated in finger games","maintained balance standing on one foot","was successful in hopscotch game","performed stretching exercises","showed teamwork in tug of war game","improved throwing and catching coordination","worked patiently on fine motor activities","showed coordination deficiency in catching ball","struggled to maintain balance","weak hand coordination when cutting with scissors","needed reminders for hand washing","struggled with tasks requiring fine motor skills","had difficulty holding pencil","showed tendency to fall while running","had difficulty tying shoes","frequently went outside lines while tracing"],art:["used colors freely in painting activity","created three-dimensional shapes with playdough","completed collage work","increased detail and expression in drawings","enjoyed trying new materials","applied watercolor technique","did creative work with finger paint","created artwork with materials collected from nature","drew their own portrait","told a story through pictures","created original designs","experimented with color mixing","participated in ceramic work","used printing technique","did shape folding with origami","participated in creating art from waste materials","did mosaic work","tried string art technique","used paper cutting technique","worked with crayons","created artwork with pastels","participated in wood painting activity","experienced fabric painting","created creative mask design","was reluctant to participate in art activity","struggled to use materials","showed lack of confidence in drawing","was indecisive about color selection","left work unfinished","needed support in creative expression","tried to copy others work","left materials scattered","was not satisfied with their work"],music:["sang songs rhythmically and energetically","used rhythm instruments correctly","moved along with music","recognized and imitated melodies","synchronized with rhythm while dancing","paid attention to simple notes","showed interest in musical stories","participated in choir practice","was able to adjust voice tone","was successful in instrument recognition activity","expressed mood through music","used body percussion","distinguished different music genres","adapted to tempo changes","memorized song lyrics","relaxed while listening to music","learned to play xylophone","imitated drum rhythms","used facial expressions while singing","performed musical dance show","participated in singing competition","recognized orchestra instruments","produced sound effects","gave prepared musical presentation","struggled to keep rhythm","avoided singing","was hesitant to participate in music activity","had difficulty using rhythm instruments","could not adjust voice in group singing","had difficulty paying attention to music","did not imitate dance figures","did not follow musical instructions","had difficulty with voice control"]},TN=()=>Be()==="en"?CN:_N,AN=["dikkatle","hevesle","sakin bir ekilde","ksa hatrlatma ile","bamsz","tereddtle","ekinerek","zorlanarak","yardmla"],EN=["carefully","eagerly","calmly","with a brief reminder","independently","hesitantly","shyly","with difficulty","with help"],DN=()=>Be()==="en"?EN:AN,zN=["Sre boyunca odan korudu.","Modelleme sonrasnda denemeye devam etti.","Akran desteiyle grevi tamamlad.","nceki haftaya gre daha uzun sre katlm salad.","Dikkati dalarak sk sk ara verdi.","Grev yarda kald.","Destee ihtiya duydu.","Mdahale gerekti."],ON=["Maintained focus throughout.","Continued to try after modeling.","Completed task with peer support.","Participated longer compared to last week.","Took frequent breaks due to distraction.","Task was left incomplete.","Needed support.","Intervention was required."],RN=()=>Be()==="en"?ON:zN,MN={turkish:["Gnlk rutinde ak ulu sorular sorun ve yantlar geniletin.","Gnlk bir kitap okuma saati belirleyin ve resimlerden karm yaptrn.","Yeni kelimeleri gn iinde cmle iinde kullanmasn tevik edin."],math:["Eletirme ve snflama oyunlarna ksa gnlk oturumlar ekleyin.","Say sayma ve sralama etkinlikleri yapn.","Geometrik ekilleri gnlk hayatta gstermeye aln."],science:["Doa yrylerinde gzlem sorular sorun.","Basit deneyler yaparak merakn destekleyin.","Bitki yetitirme projesi balatn."],social:["Sra bekleme ve paylam ieren ibirlikli oyunlar planlayn.",'Duygularn ifade edebilecei "duygu kartlar" kullann.',"Rol oyunu ile atmalar konuarak zme pratikleri yapn."],motor_health:["Denge tahtas, sek sek ve hedefe atma oyunlarna zaman ayrn.","El ykama admlarn posterle hatrlatn ve pekitirin.","Makasla izgi boyunca kesme ve ince motor almalar yapn."],art:["Farkl sanat malzemeleriyle deneyler yapmasna frsat verin.","zgr resim almalar iin zaman ayrn."," boyutlu almalar (hamur, kil) ile yaratcl destekleyin."],music:["Gnlk ritim ve ark aktiviteleri ekleyin.","Basit ritim aletleri kullanarak mzik yapmasn tevik edin.","Dans ve hareket etkinlikleriyle mzii birletirin."]},LN={turkish:["Ask open-ended questions in daily routine and expand responses.","Set a daily reading time and encourage inferences from pictures.","Encourage using new words in sentences throughout the day."],math:["Add short daily sessions of matching and classification games.","Do counting and sequencing activities.","Try to show geometric shapes in daily life."],science:["Ask observation questions during nature walks.","Support curiosity by doing simple experiments.","Start a plant growing project."],social:["Plan cooperative games involving waiting in line and sharing.",'Use "emotion cards" to help express feelings.',"Practice resolving conflicts through role play."],motor_health:["Dedicate time to balance beam, hopscotch and target games.","Remind and reinforce hand washing steps with posters.","Do cutting along lines and fine motor activities with scissors."],art:["Give opportunities to experiment with different art materials.","Allow time for free drawing activities.","Support creativity with 3D work (playdough, clay)."],music:["Add daily rhythm and song activities.","Encourage making music using simple rhythm instruments.","Combine music with dance and movement activities."]},Hy=()=>Be()==="en"?LN:MN,qy=["turkish","math","science","social","motor_health","art","music"],UN=["classroom","outdoor","home","other"],BN=(a,e,n,i)=>{const o=[],d=NN()[n]||(Be()==="en"?"during activity":"etkinlikte"),u=sa(e),m=TN()[u];let f;if(i==="high"){const v=m.slice(Math.ceil(m.length/2));f=sa(v)}else if(i==="medium")f=sa(m);else{const v=m.slice(0,Math.ceil(m.length/2));f=sa(v)}const p=sa(DN());o.push(`${d} ${f} (${p}).`),Math.random()<.6&&o.push(sa(RN()));const y=Be()==="en"?`${a} was observed today.`:`${a} bugn gzlemlendi.`;return Math.random()<.4&&o.unshift(y),o.join(" ")},PN=(a,e)=>{const n=(a||"").toLocaleLowerCase("tr-TR"),i=["baar","heves","bamsz","doru","katlm","katld","srdr","ilerle","artt","payla","ibirlii","sakin","dikkatle","dzenli"],o=["zorlan","yardm","hatrlatma","az","snrl","kan","tereddt","uyar","destee","zorluk","mdahale","huzursuz","odaklanamad","dikkati dald","kurala uymad"],d=["kavga","vur","sr","frlatt","kendine zarar","iddet","yaral"],u=i.filter(E=>n.includes(E)).length,m=o.filter(E=>n.includes(E)).length,f=d.some(E=>n.includes(E));let p;f&&u===0?p="high":m>=2&&u===0||m>=3?p="medium":p="low";const y={};for(const E of e)p==="high"?y[E]=wt(1,2):p==="medium"?y[E]=wt(2,3):y[E]=wt(3,5);const v=[];for(const E of e)v.push(...Hy()[E]);v.length<3&&v.push(...Object.values(Hy()).flat());const w=Nr(v,3),j=p==="low"?"dk":p==="medium"?"orta":"yksek";return{summary:`Durum deerlendirmesi: Son gzlemde ${e.map(E=>E==="turkish"?"Trke":E==="math"?"Matematik":E==="science"?"Fen":E==="social"?"Sosyal":E==="motor_health"?"Hareket ve Salk":E==="art"?"Sanat":"Mzik").join(", ")} alanlarnda katlm deerlendirildi. Genel risk: ${j}.`,domain_scores:y,risk:p,suggestions:w}},$N=()=>{const e=new Date().getFullYear()-wt(3,6),n=wt(1,12),i=wt(1,28);return`${e}-${String(n).padStart(2,"0")}-${String(i).padStart(2,"0")}`},VN=()=>`+90 5${wt(0,9)}${wt(0,9)} ${wt(100,999)} ${wt(10,99)} ${wt(10,99)}`,HN=(a,e)=>`${a}.${e}${wt(1,99)}@ornekmail.com`.toLowerCase().replace(//g,"g").replace(//g,"u").replace(//g,"s").replace(//g,"i").replace(//g,"o").replace(//g,"c"),qN=()=>({f:sa(yN()),l:sa(xN())}),IN=()=>{const a=wt(1,2),e=Array.from({length:a}).map(()=>{const u=qN();return{id:kn(),name:`${u.f} ${u.l}`,relation:sa(bN()),phone:VN(),email:HN(u.f,u.l)}}),n=Math.random()<.6?Nr(vN(),wt(0,2)):[],i=Math.random()<.4?"Dzenli kontrol nerildi.":"",o=Nr(wN(),wt(2,4)),d=Nr(kN(),wt(1,3));return{guardians:e,health:{allergies:n,notes:i},interests:o,strengths:d}},GN=async(a,e="#e0f2fe",n="#1e293b")=>{const i=document.createElement("canvas"),o=640,d=420;i.width=o,i.height=d;const u=i.getContext("2d");return u.fillStyle=e,u.fillRect(0,0,o,d),u.fillStyle="#10b981",u.globalAlpha=.15,u.beginPath(),u.arc(o-80,80,60,0,Math.PI*2),u.fill(),u.globalAlpha=1,u.fillStyle=n,u.font="bold 36px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial",u.fillText(a,32,120),u.font="20px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial",u.fillText("PortfoAI  Demo",32,160),new Promise((m,f)=>{i.toBlob(p=>{if(!p)return f(new Error("blob failed"));m(new File([p],"demo.jpg",{type:"image/jpeg",lastModified:Date.now()}))},"image/jpeg",.9)})},FN=async(a,e={})=>{const n=f=>{var p;console.log("[seed]",f),(p=e.onProgress)==null||p.call(e,f)},i=e.classNames&&e.classNames.length>0?e.classNames:Array.from({length:e.classes??2},(f,p)=>Be()==="en"?p===0?"Class A":p===1?"Class B":`Class ${p+1}`:p===0?"Snf A":p===1?"Snf B":`Snf ${p+1}`),o=e.childrenPerClass??5,d=e.observationsPerChild??150,u=e.mediaPerChild??2,m={time:new Date().toISOString(),classes:[],children:[],observations:[],media:[]};n(`Snflar: ${i.join(", ")}`);for(const f of i)try{const p=await Ub(a,f);m.classes.push(p.id)}catch{}for(const f of i){n(`${f} iin ${o} ocuk oluturuluyor...`);for(let p=0;p<o;p++){const y=sa(gN()),v=sa(pN()),w=IN(),j={first_name:y,last_name:v,dob:$N(),photo_url:void 0,classroom:f,consent_obtained:!0,guardians:w.guardians,health:w.health,interests:w.interests,strengths:w.strengths};let S;try{S=await Bb(j,a),m.children.push(S.id);try{await zh(S.id,{guardians:j.guardians,health:j.health,interests:j.interests,strengths:j.strengths})}catch(T){console.warn("child meta update warn",T)}}catch(T){console.error("Child insert failed",T);continue}for(let T=0;T<u;T++)try{const E=await GN(`${y} ${v}  rn ${T+1}`),A=await MS(a,S.id,E),D=await OS({child_id:S.id,type:"image",storage_path:A,name:`rn ${T+1}`,description:"Demo rn",domain:sa(qy)},a);m.media.push(D.id)}catch(E){console.warn("Media upload skipped:",E)}for(let T=0;T<d;T++){const E=wt(1,3),A=Nr(qy,E),D=sa(UN),_=Math.random(),C=_<.5?"low":_<.85?"medium":"high",H=BN(`${y} ${v}`,A,D,C),V=["oyun","kitap","bahe","mzik","sanat","ritim","paylam","ince-motor","kaba-motor"],$=wt(2,3),B=["demo",...Nr(V,$)];try{const q=await Vb({child_id:S.id,note:H,context:D,domains:A,tags:B},a);if(q&&q.id){m.observations.push(q.id);try{const ae=PN(H,A);await fc(q.id,a,{summary:ae.summary,risk:ae.risk,suggestions:ae.suggestions,domain_scores:ae.domain_scores})}catch(ae){console.warn("Seed assessment failed:",ae)}}}catch(q){console.warn("Observation insert skipped:",q)}}}}n("Demo verisi oluturma tamamland.");try{localStorage.setItem("lastSeedRecord",JSON.stringify(m))}catch{}},YN=async(a,e={})=>{const n=d=>{var u;console.log("[seed:revert]",d),(u=e.onProgress)==null||u.call(e,d)},i=(()=>{try{return localStorage.getItem("lastSeedRecord")}catch{return null}})(),o=i?JSON.parse(i):null;try{let d=(o==null?void 0:o.observations)||[];if(d.length===0){const{data:u}=await Z.from("observations").select("id").eq("user_id",a).contains("tags",["demo"]);d=(u||[]).map(m=>m.id)}d.length>0&&(n(`Gzlemler siliniyor (${d.length})...`),await Z.from("assessments").delete().in("observation_id",d),await Z.from("observations").delete().in("id",d))}catch(d){console.warn("Obs revert warn:",d)}try{let d=(o==null?void 0:o.media)||[];if(d.length===0){const{data:u}=await Z.from("media").select("id").eq("user_id",a).eq("description","Demo rn");d=(u||[]).map(m=>m.id)}if(d.length>0){n(`Medya siliniyor (${d.length})...`);const{data:u}=await Z.from("media").select("id, storage_path").in("id",d),m=(u||[]).map(f=>f.storage_path).filter(Boolean);m.length&&await Z.storage.from("child-media").remove(m),await Z.from("media").delete().in("id",d)}}catch(d){console.warn("Media revert warn:",d)}try{let d=(o==null?void 0:o.children)||[];if(d.length===0){const u=e.days??14,m=new Date;m.setDate(m.getDate()-u);const{data:f}=await Z.from("children").select("id, created_at, classroom").eq("user_id",a).gte("created_at",m.toISOString()),p=f||[];if(p.length>0){const y=new Set(["Snf A","Snf B"]);for(const v of p)y.has(v.classroom)&&d.push(v.id)}}if(d.length>0){n(`ocuklar siliniyor (${d.length})...`);for(const u of d)try{await mc(u)}catch(m){console.warn("child delete warn",m)}}}catch(d){console.warn("Children revert warn:",d)}try{let d=(o==null?void 0:o.classes)||[];if(d.length===0){const{data:u}=await Z.from("classes").select("id, name").eq("user_id",a);d=(u||[]).filter(f=>f.name==="Snf A"||f.name==="Snf B").map(f=>f.id)}d.length>0&&(n("Snflar siliniyor..."),await Z.from("classes").delete().in("id",d))}catch(d){console.warn("Classes revert warn:",d)}try{localStorage.removeItem("lastSeedRecord")}catch{}st(),n("Demo verisi geri alnd.")},KN=async(a,e)=>{const n=i=>{console.log("[AccountDelete]",i),e==null||e(i)};try{n("Sohbet gemii siliniyor...");const i=await Ib(a);for(const f of i)await Gb(f.id);n("Snflar ve renci kaytlar siliniyor...");const d=(await $i(a)).map(f=>f.name);for(const f of d)await fm(a,f,e);n("Dier kaytlar temizleniyor...");const u=await wn(a);for(const f of u)n(`Siliniyor: ${f.first_name} ${f.last_name}`),await mc(f.id);n("Kullanc hesab kalc olarak siliniyor...");const{error:m}=await Z.functions.invoke("delete-account",{method:"POST"});if(m){console.warn("Edge Function ile silme baarsz (scramble fallback uygulanyor):",m);const{v4:f}=await Ar(async()=>{const{v4:p}=await Promise.resolve().then(()=>Pb);return{v4:p}},void 0,import.meta.url);await Z.auth.updateUser({password:f()})}n("Hesap verileri temizlendi. k yaplyor..."),await Z.auth.signOut();try{localStorage.clear(),sessionStorage.clear()}catch{}st()}catch(i){throw console.error("Hesap silme hatas:",i),i}},ZN={enabled:!1,manual_override:null,days:[1,2,3,4,5],start_time:"09:00",end_time:"17:00"},ym=async a=>{const{data:e,error:n}=await Z.from("profiles").select("messaging_hours").eq("id",a).single();return n||!(e!=null&&e.messaging_hours)?ZN:e.messaging_hours},WN=async a=>{var d,u,m,f;const{data:{user:e}}=await Z.auth.getUser();if(!e)return console.error("updateMessagingHours: No user logged in"),!1;console.log("updateMessagingHours: Saving for user",e.id,a);const{data:n}=await Z.from("profiles").select("id").eq("id",e.id).single();if(!n){console.log("updateMessagingHours: Profile not found, creating new profile");const{error:p}=await Z.from("profiles").insert({id:e.id,role:((d=e.user_metadata)==null?void 0:d.role)||"teacher",first_name:((u=e.user_metadata)==null?void 0:u.first_name)||null,last_name:((m=e.user_metadata)==null?void 0:m.last_name)||null,school_name:((f=e.user_metadata)==null?void 0:f.school_name)||null,messaging_hours:a});return p?(console.error("updateMessagingHours: Error creating profile:",p),!1):(console.log("updateMessagingHours: Profile created successfully"),!0)}const{data:i,error:o}=await Z.from("profiles").update({messaging_hours:a}).eq("id",e.id).select();return o?(console.error("updateMessagingHours: Error saving:",o),!1):(console.log("updateMessagingHours: Saved successfully:",i),!0)},XN=async a=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)return!1;const n=await ym(e.id),{error:i}=await Z.from("profiles").update({messaging_hours:{...n,manual_override:a}}).eq("id",e.id);return!i},Xi=a=>{if(!a.enabled||a.manual_override===!0)return!0;if(a.manual_override===!1)return!1;const e=new Date,n=e.getDay();if(!a.days.includes(n))return!1;const i=e.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit",hour12:!1});return i>=a.start_time&&i<=a.end_time},Iy=a=>{if(!a.enabled)return null;const e=new Date,n=e.getDay();for(let i=0;i<7;i++){const o=(n+i)%7;if(a.days.includes(o)){const d=new Date(e);d.setDate(e.getDate()+i);const[u,m]=a.start_time.split(":");if(d.setHours(parseInt(u),parseInt(m),0,0),i===0&&Xi(a))return null;const f=e.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit",hour12:!1});if(i===0&&f>a.end_time)continue;return d}}return null},Gy=()=>{const a="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=a.charAt(Math.floor(Math.random()*a.length));return e},QN=async(a,e="parent")=>{const{data:{user:n}}=await Z.auth.getUser();if(!n)return null;let i=Gy(),o=0;for(;o<5;){const{data:m}=await Z.from("family_child_links").select("id").eq("invite_code",i).single();if(!m)break;i=Gy(),o++}const{data:d,error:u}=await Z.from("family_child_links").insert({child_id:a,relationship:e,status:"pending",invited_by:n.id,invite_code:i,family_user_id:null}).select("invite_code").single();return u?(console.error("Error creating invite:",u),null):d},JN=async a=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)return{success:!1,error:"Giri yapmalsnz"};const{data:n,error:i}=await Z.from("family_child_links").select("*").eq("invite_code",a.toUpperCase()).eq("status","pending").is("family_user_id",null).single();if(i||!n)return{success:!1,error:"Geersiz veya kullanlm davet kodu"};const{data:o}=await Z.from("family_child_links").select("id").eq("family_user_id",e.id).eq("child_id",n.child_id).single();if(o)return{success:!1,error:"Bu ocua zaten balsnz"};const{error:d}=await Z.from("family_child_links").update({family_user_id:e.id,status:"approved",approved_at:new Date().toISOString()}).eq("id",n.id);return d?(console.error("Error claiming invite:",d),{success:!1,error:"Davet alnrken hata olutu"}):{success:!0,childId:n.child_id}},e_=async a=>{const{data:e,error:n}=await Z.from("family_child_links").select("*").eq("child_id",a).order("created_at",{ascending:!1});return n?(console.error("Error fetching family links:",n),[]):e||[]},t_=async a=>{const{error:e}=await Z.from("family_child_links").delete().eq("id",a);return e?(console.error("Error revoking link:",e),!1):!0},a_=async a=>{const{data:{user:e}}=await Z.auth.getUser();if(!e)return null;const{data:n,error:i}=await Z.from("announcements").insert({user_id:e.id,classroom:a.classroom,child_id:a.child_id||null,title:a.title,content:a.content,priority:a.priority||"normal",pinned:a.pinned||!1,expires_at:a.expires_at||null}).select().single();return i?(console.error("Error creating announcement:",i),null):n},s_=async(a,e)=>{const{error:n}=await Z.from("announcements").update({...e,updated_at:new Date().toISOString()}).eq("id",a);return n?(console.error("Error updating announcement:",n),!1):!0},n_=async a=>{const{error:e}=await Z.from("announcements").delete().eq("id",a);return e?(console.error("Error deleting announcement:",e),!1):!0},r_=async(a,e)=>await s_(a,{pinned:e});async function i_(a,e="tr"){try{const{data:n,error:i}=await Z.functions.invoke("generate_report",{body:{childId:a,language:e}});if(i)throw console.error("Edge Function error:",i),new Error("Rapor oluturulurken bir hata olutu: "+i.message);if(!n||!n.success)throw new Error((n==null?void 0:n.error)||"Rapor ierii oluturulamad");return n.data}catch(n){throw console.error("Report generation error:",n),n}}const l_=()=>{const[a,e]=b.useState(()=>localStorage.getItem("theme")||"light");return b.useEffect(()=>{const n=()=>e(localStorage.getItem("theme")||"light");window.addEventListener("storage",n);const i=new MutationObserver(()=>{e(document.documentElement.getAttribute("data-theme")||"light")});return i.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>{window.removeEventListener("storage",n),i.disconnect()}},[]),a},o_=xt(),Xu=({navigate:a})=>{var _;const{user:e}=ia(),n=l_(),[i,o]=b.useState([]),[d,u]=b.useState([]),[m,f]=b.useState(!0),[p,y]=b.useState(0),[v,w]=b.useState(0),[j,S]=b.useState([]),[T,E]=b.useState([]),A=b.useMemo(()=>{var V;const C=(e==null?void 0:e.user_metadata)||{};return[C.first_name,C.last_name].filter(Boolean).join(" ").trim()||((V=e==null?void 0:e.email)==null?void 0:V.split("@")[0])||""},[e]);b.useEffect(()=>{(async()=>{if(e)try{f(!0);const C=await wn(e.id);o(C);const{data:H}=await Z.from("observations").select("id, child_id, note, domains, created_at, assessments(risk)").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5),V=(H||[]).map(ee=>{var F;return{id:ee.id,child_id:ee.child_id,note:ee.note,domains:ee.domains||[],created_at:ee.created_at,assessment_risk:Array.isArray(ee.assessments)&&ee.assessments.length>0?(F=ee.assessments[0])==null?void 0:F.risk:null}});u(V);const $=new Date;$.setDate($.getDate()-7);const B=$.toISOString(),q=await Z.from("observations").select("id",{count:"exact",head:!0}).eq("user_id",e.id).gte("created_at",B);y(q.count||0);const ae=await Z.from("media").select("id",{count:"exact",head:!0}).eq("user_id",e.id).gte("created_at",B);w(ae.count||0);const{data:M}=await Z.from("observations").select("id, created_at").eq("user_id",e.id).gte("created_at",B),{data:P}=await Z.from("media").select("id, created_at").eq("user_id",e.id).gte("created_at",B),R=[];for(let ee=6;ee>=0;ee--){const F=new Date;F.setHours(0,0,0,0),F.setDate(F.getDate()-ee);const z=F.toISOString().slice(0,10),L=new Intl.DateTimeFormat("tr-TR",{day:"2-digit",month:"short"}).format(F),I=(M||[]).filter(te=>(te.created_at||"").slice(0,10)===z).length,K=(P||[]).filter(te=>(te.created_at||"").slice(0,10)===z).length;R.push({label:L,obs:I,media:K})}S(R)}finally{f(!1)}})()},[e]),b.useEffect(()=>{if(e)try{const C=localStorage.getItem(`pinned:${e.id}`);E(C?JSON.parse(C):[])}catch{E([])}},[e]);const D=(_=e==null?void 0:e.user_metadata)!=null&&_.school_name?`  ${e.user_metadata.school_name}`:"";return r.jsxs("div",{children:[r.jsxs("h1",{className:`text-3xl font-bold ${n==="dark"?"text-white":"text-stone-700"}`,children:[x("welcome"),", ",A,D]}),r.jsx("div",{className:"mt-2 w-28 h-1 rounded-full bg-gradient-to-r from-stone-300 via-amber-200 to-stone-300"}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h2",{className:`text-lg font-medium ${n==="dark"?"text-gray-200":"text-stone-900"}`,children:x("quickAccess")}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsxs("button",{onClick:()=>a("children",{screen:"add-child"}),className:"flex items-center justify-center p-6 rounded-lg shadow-md bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white transition-all transform active:scale-95",children:[r.jsx(hS,{className:"w-8 h-8 text-orange-100"}),r.jsx("span",{className:"ml-4 text-xl font-semibold text-orange-50",children:x("addChild")})]}),r.jsxs("button",{onClick:()=>a("children"),className:"flex items-center justify-center p-6 rounded-lg shadow-md bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 text-white transition-all transform active:scale-95",children:[r.jsx(mS,{className:"w-8 h-8 text-indigo-100"}),r.jsx("span",{className:"ml-4 text-xl font-semibold text-indigo-50",children:x("childList")})]})]})]}),r.jsxs("div",{className:"mt-6 bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-4 card-colorful card-colorful-blue transition-colors",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[" ",x("activity7days")]})}),r.jsx("div",{className:"grid grid-cols-7 gap-2 items-end h-28",children:j.map((C,H)=>{const V=Math.max(1,...j.map(ae=>ae.obs+ae.media)),$=C.obs+C.media,B=Math.round($/V*88)+8,q=["#8b5cf6","#ec4899","#3b82f6","#10b981","#f59e0b","#6366f1","#14b8a6"];return r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-6 rounded-t transition-all hover:scale-110",style:{height:`${B}px`,backgroundColor:q[H%q.length]},title:`${C.label}: ${C.obs} gzlem, ${C.media} rn`}),r.jsx("div",{className:"mt-1 text-xs text-gray-500 font-medium",children:C.label})]},H)})})]}),T.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[" ",x("pinnedChildren")]}),r.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:i.filter(C=>T.includes(C.id)).slice(0,8).map((C,H)=>{const V=`${(C.first_name||"")[0]||""}${(C.last_name||"")[0]||""}`.toUpperCase(),$=["card-colorful-purple","card-colorful-blue","card-colorful-green","card-colorful-pink","card-colorful-orange"],B=["bg-purple-200 text-purple-700","bg-blue-200 text-blue-700","bg-green-200 text-green-700","bg-pink-200 text-pink-700","bg-orange-200 text-orange-700"];return r.jsxs("div",{className:`bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-4 flex items-center gap-3 card-colorful ${$[H%$.length]} transition-colors`,children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${B[H%B.length]}`,children:V}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:[C.first_name," ",C.last_name]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:C.classroom||""})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("button",{className:"text-primary text-sm hover:underline font-medium",onClick:()=>a("child-detail",{id:C.id}),children:x("profile")}),r.jsx("button",{className:"text-secondary text-sm hover:underline font-medium",onClick:()=>a("add-observation",{childId:C.id}),children:x("observations")})]})]},C.id)})})]}),r.jsxs("div",{className:"mt-8",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[" ",x("recentObservations")]}),r.jsx("div",{className:"mt-4 bg-white dark:bg-[#1a1a2e] rounded-lg shadow-md p-6 card-colorful card-colorful-purple transition-colors",children:m?r.jsx("p",{className:"text-gray-500",children:x("loading")}):d.length===0?r.jsx("p",{className:"text-gray-500",children:x("noRecentObservations")}):r.jsx("ul",{className:"space-y-3",children:d.map((C,H)=>{var $,B;const V=["border-l-purple-500","border-l-blue-500","border-l-green-500","border-l-pink-500","border-l-orange-500"];return r.jsxs("li",{className:`border-l-4 ${V[H%V.length]} border rounded-lg p-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 dark:border-gray-700 hover:shadow-md transition-shadow`,children:[r.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:r.jsxs("div",{className:"font-medium",children:[new Date(C.created_at).toLocaleString(Ma())," - ",r.jsxs("span",{className:"text-gray-900 dark:text-gray-200",children:[($=i.find(q=>q.id===C.child_id))==null?void 0:$.first_name," ",(B=i.find(q=>q.id===C.child_id))==null?void 0:B.last_name]})]})}),r.jsx("div",{className:"mt-2 text-gray-800 dark:text-gray-300 line-clamp-3 whitespace-pre-wrap",children:C.note}),C.domains&&C.domains.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:C.domains.map((q,ae)=>r.jsx("span",{className:"text-xs bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border border-blue-200 rounded-full px-3 py-1 font-medium",children:o_[q]||q},ae))}),r.jsx("div",{className:"mt-3",children:r.jsxs("button",{className:"px-3 py-1 bg-primary text-white rounded-md hover:bg-opacity-90 text-sm font-medium",onClick:()=>a("child-detail",{id:C.child_id}),children:[x("viewChild")," "]})})]},C.id)})})})]})]})};function c_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Fb=b.forwardRef(c_);function d_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const u_=b.forwardRef(d_);function h_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const m_=b.forwardRef(h_);function f_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Fy=b.forwardRef(f_);function g_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Qo=b.forwardRef(g_);function p_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"}))}const y_=b.forwardRef(p_);function x_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"}))}const b_=b.forwardRef(x_);function v_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Yb=b.forwardRef(v_);function w_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const _r=b.forwardRef(w_);function k_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Yy=b.forwardRef(k_);function j_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const S_=b.forwardRef(j_);function N_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Qi=b.forwardRef(N_);function __({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const C_=b.forwardRef(__);function T_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const A_=b.forwardRef(T_);function E_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Kb=b.forwardRef(E_);function D_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const z_=b.forwardRef(D_);function O_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const Zb=b.forwardRef(O_);function R_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ji=b.forwardRef(R_);function M_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Jo=b.forwardRef(M_);function L_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const U_=b.forwardRef(L_);function B_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Wb=b.forwardRef(B_);function P_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const gc=b.forwardRef(P_);function $_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Xb=b.forwardRef($_);function V_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const H_=b.forwardRef(V_);function q_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Qb=b.forwardRef(q_);function I_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const G_=b.forwardRef(I_);function F_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const el=b.forwardRef(F_);function Y_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ec=b.forwardRef(Y_);function K_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const Qu=b.forwardRef(K_);function Z_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Rh=b.forwardRef(Z_);function W_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Jb=b.forwardRef(W_);function X_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const tl=b.forwardRef(X_);function Q_({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const J_=b.forwardRef(Q_);function e3({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const t3=b.forwardRef(e3);function a3({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const ev=b.forwardRef(a3);function s3({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Rr=b.forwardRef(s3);function n3({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{d:"M11.7 2.805a.75.75 0 0 1 .6 0A60.65 60.65 0 0 1 22.83 8.72a.75.75 0 0 1-.231 1.337 49.948 49.948 0 0 0-9.902 3.912l-.003.002c-.114.06-.227.119-.34.18a.75.75 0 0 1-.707 0A50.88 50.88 0 0 0 7.5 12.173v-.224c0-.131.067-.248.172-.311a54.615 54.615 0 0 1 4.653-2.52.75.75 0 0 0-.65-1.352 56.123 56.123 0 0 0-4.78 2.589 1.858 1.858 0 0 0-.859 1.228 49.803 49.803 0 0 0-4.634-1.527.75.75 0 0 1-.231-1.337A60.653 60.653 0 0 1 11.7 2.805Z"}),b.createElement("path",{d:"M13.06 15.473a48.45 48.45 0 0 1 7.666-3.282c.134 1.414.22 2.843.255 4.284a.75.75 0 0 1-.46.711 47.87 47.87 0 0 0-8.105 4.342.75.75 0 0 1-.832 0 47.87 47.87 0 0 0-8.104-4.342.75.75 0 0 1-.461-.71c.035-1.442.121-2.87.255-4.286.921.304 1.83.634 2.726.99v1.27a1.5 1.5 0 0 0-.14 2.508c-.09.38-.222.753-.397 1.11.452.213.901.434 1.346.66a6.727 6.727 0 0 0 .551-1.607 1.5 1.5 0 0 0 .14-2.67v-.645a48.549 48.549 0 0 1 3.44 1.667 2.25 2.25 0 0 0 2.12 0Z"}),b.createElement("path",{d:"M4.462 19.462c.42-.419.753-.89 1-1.395.453.214.902.435 1.347.662a6.742 6.742 0 0 1-1.286 1.794.75.75 0 0 1-1.06-1.06Z"}))}const r3=b.forwardRef(n3);function i3({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),b.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const l3=b.forwardRef(i3);function o3({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{d:"M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 0 0-1.032-.211 50.89 50.89 0 0 0-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 0 0 2.433 3.984L7.28 21.53A.75.75 0 0 1 6 21v-4.03a48.527 48.527 0 0 1-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979Z"}),b.createElement("path",{d:"M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 0 0 1.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0 0 15.75 7.5Z"}))}const c3=b.forwardRef(o3);function d3({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}const u3=b.forwardRef(d3);function h3({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),b.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const m3=b.forwardRef(h3);function f3({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{d:"M16.881 4.345A23.112 23.112 0 0 1 8.25 6H7.5a5.25 5.25 0 0 0-.88 10.427 21.593 21.593 0 0 0 1.378 3.94c.464 1.004 1.674 1.32 2.582.796l.657-.379c.88-.508 1.165-1.593.772-2.468a17.116 17.116 0 0 1-.628-1.607c1.918.258 3.76.75 5.5 1.446A21.727 21.727 0 0 0 18 11.25c0-2.414-.393-4.735-1.119-6.905ZM18.26 3.74a23.22 23.22 0 0 1 1.24 7.51 23.22 23.22 0 0 1-1.41 7.992.75.75 0 1 0 1.409.516 24.555 24.555 0 0 0 1.415-6.43 2.992 2.992 0 0 0 .836-2.078c0-.807-.319-1.54-.836-2.078a24.65 24.65 0 0 0-1.415-6.43.75.75 0 1 0-1.409.516c.059.16.116.321.17.483Z"}))}const g3=b.forwardRef(f3);function p3({title:a,titleId:e,...n},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),a?b.createElement("title",{id:e},a):null,b.createElement("path",{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"}))}const y3=b.forwardRef(p3),x3=a=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 18.75l6-6 2.25 2.25 7.5-7.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 7.5l-1.12-2.63L15.75 3.75l2.63-1.12L19.5 0l1.13 2.63 2.62 1.12-2.62 1.13L19.5 7.5z",transform:"translate(1 3) scale(0.8)"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M22.5 7.5l-1.5-1.5-1.5 1.5 1.5 1.5 1.5-1.5z",className:"hidden"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 3.75l1.12 2.62 2.63 1.13-2.63 1.12-1.12 2.63-1.13-2.63-2.62-1.12 2.62-1.13 1.13-2.62z"})]}),b3=({currentPath:a,navigate:e})=>{const n=[{name:x("navHome"),path:"",icon:Wb,activeIcon:m3},{name:x("navChildren"),path:"children",icon:ev,activeIcon:y3},{name:x("classes"),path:"classes",icon:Fb,activeIcon:r3},{name:x("announcements"),path:"announcements",icon:gc,activeIcon:g3},{name:"",path:"add-observation",icon:ec,isFab:!0},{name:x("messages"),path:"inbox",icon:Qi,activeIcon:c3},{name:x("navAttendance"),path:"attendance",icon:Yb,activeIcon:l3},{name:"AI",path:"teacher-chat",icon:x3},{name:x("navSettings"),path:"settings",icon:Ji,activeIcon:u3}],i=o=>o===""?a===""||a==="dashboard":a.startsWith(o);return r.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50",children:[r.jsx("div",{className:"absolute inset-0 top-3 bg-white/90 backdrop-blur-xl border-t border-gray-200 rounded-t-2xl"}),r.jsx("div",{className:"relative flex justify-around items-end pb-safe pt-1 px-1 h-[72px] w-full overflow-visible",children:n.map(o=>{const d=!o.isFab&&i(o.path),u=d&&o.activeIcon||o.icon;return o.isFab?r.jsx("button",{onClick:()=>e(o.path),className:"flex flex-col items-center justify-center -mt-5 group",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 shadow-lg shadow-indigo-200 flex items-center justify-center transform transition-transform duration-200 group-active:scale-95 border-4 border-white/50",children:r.jsx(ec,{className:"w-6 h-6 text-white stroke-[2.5]"})})},"fab"):r.jsxs("button",{onClick:()=>e(o.path),className:"flex flex-col items-center justify-end pb-1 pt-1 transition-all min-w-[40px] active:scale-95",children:[r.jsx("div",{className:`p-1.5 rounded-xl transition-all duration-300 ${d?"bg-indigo-50 text-indigo-600 shadow-sm -translate-y-3 scale-110":"text-gray-400"}`,children:r.jsx(u,{className:"w-5 h-5"})}),d&&r.jsx("span",{className:"text-[9px] font-bold text-indigo-600 mt-0.5 animate-fade-in whitespace-nowrap",children:o.name})]},o.name)})})]})},v3=a=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 18.75l6-6 2.25 2.25 7.5-7.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 7.5l-1.12-2.63L15.75 3.75l2.63-1.12L19.5 0l1.13 2.63 2.62 1.12-2.62 1.13L19.5 7.5z",transform:"translate(1 3) scale(0.8)"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M22.5 7.5l-1.5-1.5-1.5 1.5 1.5 1.5 1.5-1.5z",className:"hidden"})," ",r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 3.75l1.12 2.62 2.63 1.13-2.63 1.12-1.12 2.63-1.13-2.63-2.62-1.12 2.62-1.13 1.13-2.62z"})]}),w3=({children:a,navigate:e,currentPage:n=""})=>{var E,A,D;const{user:i}=ia(),d=(_=>(_||"").replace(/[^A-Za-z0-9 .,'-]/g," ").replace(/\s+/g," ").trim())(i!=null&&i.user_metadata&&(i.user_metadata.first_name||i.user_metadata.last_name)?`${((E=i==null?void 0:i.user_metadata)==null?void 0:E.first_name)??""} ${((A=i==null?void 0:i.user_metadata)==null?void 0:A.last_name)??""}`:((D=i==null?void 0:i.email)==null?void 0:D.split("@")[0])||""),[u,m]=b.useState(!1),[f,p]=b.useState(!1),[y,v]=b.useState(()=>{const _=localStorage.getItem("theme");return _==="kids"?"light":_||"light"});b.useEffect(()=>{const _=async()=>{if(!i)return;const{count:H}=await Z.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",i.id).eq("read",!1);p((H||0)>0)};_();const C=setInterval(_,1e4);return()=>clearInterval(C)},[i]),b.useEffect(()=>{localStorage.setItem("theme",y),y==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.setAttribute("data-theme","dark")):(document.documentElement.classList.remove("dark"),document.documentElement.setAttribute("data-theme","light"))},[y]),b.useEffect(()=>{const _="dark-theme-overrides";if(document.getElementById(_))return;const C=document.createElement("style");C.id=_,C.textContent=`
      /* Dark mode text colors */
      html[data-theme='dark'] body { 
        color: #e5e7eb;
        background-color: #0c0f1d;
      }
      
      html[data-theme='dark'] .text-gray-900,
      html[data-theme='dark'] .text-gray-800,
      html[data-theme='dark'] .text-gray-700 { 
        color: #e5e7eb !important; 
      }
      
      html[data-theme='dark'] .text-gray-600 { 
        color: #9ca3af !important; 
      }
      
      html[data-theme='dark'] .text-gray-500 { 
        color: #6b7280 !important; 
      }
      
      html[data-theme='dark'] .text-gray-400 { 
        color: #4b5563 !important; 
      }
      
      /* Dark mode - Colorful card borders stay vibrant */
      html[data-theme='dark'] .card-colorful {
        background-color: #1a1a2e !important;
        border-width: 2px;
      }
      
      /* Dark mode - Gradient text remains visible */
      html[data-theme='dark'] .text-gradient-purple {
        background: linear-gradient(to right, #a78bfa, #c084fc);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      /* Dark mode - Buttons remain vibrant */
      html[data-theme='dark'] .btn-gradient-primary,
      html[data-theme='dark'] .btn-gradient-success,
      html[data-theme='dark'] .btn-gradient-info {
        filter: brightness(1.1);
      }
    `,document.head.appendChild(C)},[]);const w=[{name:x("dashboard"),icon:Wb,page:"dashboard",color:"blue"},{name:x("children"),icon:ev,page:"children",color:"green"},{name:x("classes"),icon:b_,page:"classes",color:"purple"},{name:x("attendance"),icon:Zb,page:"attendance",color:"red"},{name:x("announcements"),icon:gc,page:"announcements",color:"yellow"},{name:x("messages"),icon:Qi,page:"inbox",color:"teal",hasIndicator:f},{name:x("aiAssistant"),icon:v3,page:"teacher-chat",color:"pink"},{name:x("settings"),icon:Ji,page:"settings",color:"orange"}],j=b.useMemo(()=>{const _=y==="dark";return{sidebarBg:_?"bg-[#1a1a2e] border-r border-[#2a3f5f]":"bg-white/95 backdrop-blur-sm border-r border-gray-200",headerBorder:_?"border-[#2a3f5f]":"border-gray-200",headerTitle:_?"text-gray-100":"text-gray-900",headerSub:_?"text-gray-400":"text-gray-500",navItem:_?"text-gray-300 hover:bg-[#1e2a47] hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900",signOut:_?"text-gray-300 hover:bg-[#1e2a47] hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900",footerBorder:_?"border-[#2a3f5f]":"border-gray-200",appBg:_?"bg-[#0c0f1d]":"bg-gray-50"}},[y]),S=async()=>{try{await Z.auth.signOut()}catch{}try{sessionStorage.clear();const _=[];for(let C=0;C<localStorage.length;C++){const H=localStorage.key(C);H&&(H.startsWith("sb-")||H.includes("supabase"))&&_.push(H)}_.forEach(C=>localStorage.removeItem(C))}catch{}try{window.location.hash=""}catch{}window.location.reload()},T=r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:`p-4 border-b ${j.headerBorder} ${y==="dark"?"bg-gradient-to-r from-[#1e2a47] via-[#1a1a2e] to-[#1e2a47]":"bg-gradient-to-r from-purple-50 via-pink-50 to-blue-50"}`,children:r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 rounded-lg blur opacity-25 group-hover:opacity-50 transition duration-300"}),r.jsx("img",{src:"/logo.png",alt:"Lukid AI",className:"relative h-14 w-14 object-contain select-none drop-shadow-md group-hover:scale-105 transition-transform duration-300",draggable:!1})]}),r.jsx("span",{className:`text-lg font-bold tracking-tight ${y==="dark"?"text-gray-100":"text-gray-800"}`,children:"Lukid AI"})]})}),r.jsxs("nav",{className:"flex-1 px-2 py-4 space-y-2",children:[r.jsxs("a",{href:"#",onClick:_=>{_.preventDefault(),e("getting-started"),m(!1)},className:`group flex items-center px-4 py-3 rounded-xl ${y==="dark"?"text-gray-300 hover:bg-[#1e2a47]":"text-gray-700 hover:bg-gradient-to-r hover:from-yellow-50 hover:to-yellow-100"} hover:shadow-md transition-all duration-200 relative overflow-hidden`,children:[r.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-yellow-500 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-200"}),r.jsx(Jo,{className:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform duration-200"}),r.jsx("span",{className:"font-medium group-hover:translate-x-1 transition-transform duration-200",children:x("gettingStarted")||"Balarken"})]}),w.map(_=>{const C=y==="dark"?"hover:bg-[#1e2a47]":{blue:"hover:from-blue-50 hover:to-blue-100 group-hover:border-blue-500",green:"hover:from-green-50 hover:to-green-100 group-hover:border-green-500",purple:"hover:from-purple-50 hover:to-purple-100 group-hover:border-purple-500",pink:"hover:from-pink-50 hover:to-pink-100 group-hover:border-pink-500",orange:"hover:from-orange-50 hover:to-orange-100 group-hover:border-orange-500",red:"hover:from-red-50 hover:to-red-100 group-hover:border-red-500",yellow:"hover:from-yellow-50 hover:to-yellow-100 group-hover:border-yellow-500",teal:"hover:from-teal-50 hover:to-teal-100 group-hover:border-teal-500"}[_.color]||"hover:from-gray-50 hover:to-gray-100 group-hover:border-gray-500",H={blue:"text-blue-600",green:"text-green-600",purple:"text-purple-600",pink:"text-pink-600",orange:"text-orange-600",red:"text-red-600",yellow:"text-yellow-600",teal:"text-teal-600"}[_.color]||"text-gray-600";return r.jsxs("a",{href:"#",onClick:V=>{V.preventDefault(),e(_.page),m(!1)},className:`group flex items-center px-4 py-3 rounded-xl ${y==="dark"?"text-gray-300":"text-gray-700"} ${y==="dark"?C:`hover:bg-gradient-to-r ${C}`} hover:shadow-md transition-all duration-200 relative overflow-hidden`,children:[r.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-200 ${H.replace("text-","bg-")}`}),r.jsx(_.icon,{className:`w-6 h-6 mr-3 group-hover:scale-110 transition-transform duration-200 ${y!=="dark"?H:""}`}),r.jsx("span",{className:"font-medium group-hover:translate-x-1 transition-transform duration-200",children:_.name}),_.hasIndicator&&r.jsx("span",{className:"ml-2 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]},_.name)})]}),r.jsxs("div",{className:`p-4 border-t ${j.footerBorder}`,children:[r.jsxs("div",{className:"mb-3",children:[r.jsxs("div",{className:`text-xs mb-2 font-semibold ${y==="dark"?"text-gray-300":"text-gray-600"}`,children:[" ",x("theme")]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{className:`flex-1 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2 ${y==="light"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>v("light"),children:[r.jsx(Jb,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs font-semibold",children:x("lightTheme")})]}),r.jsxs("button",{className:`flex-1 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2 ${y==="dark"?"bg-gradient-to-r from-gray-700 to-gray-900 text-white shadow-lg scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>v("dark"),children:[r.jsx(Xb,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs font-semibold",children:x("darkTheme")})]})]})]}),r.jsxs("button",{onClick:S,className:"group w-full text-left flex items-center px-4 py-3 rounded-xl text-gray-700 hover:bg-gradient-to-r hover:from-red-50 hover:to-red-100 hover:shadow-md transition-all duration-200 relative overflow-hidden",children:[r.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-red-500 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-200"}),r.jsx(Qo,{className:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform duration-200"}),r.jsx("span",{className:"font-medium group-hover:translate-x-1 transition-transform duration-200",children:x("signOut")})]})]})]});return r.jsxs("div",{className:`flex h-screen ${j.appBg}`,children:[r.jsxs("div",{className:`fixed inset-0 z-40 flex md:hidden ${u?"":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-black/60",onClick:()=>m(!1)}),r.jsxs("div",{className:`relative flex-1 flex flex-col max-w-xs w-full ${j.sidebarBg}`,children:[r.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:r.jsx("button",{onClick:()=>m(!1),className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:r.jsx(Rr,{className:"h-6 w-6 text-white"})})}),T]})]}),r.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:r.jsx("div",{className:"flex flex-col w-64",children:r.jsx("div",{className:`flex flex-col h-0 flex-1 ${j.sidebarBg}`,children:T})})}),r.jsx("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:r.jsxs("main",{className:"flex-1 relative z-0 overflow-y-auto focus:outline-none",children:[r.jsx("div",{className:`${y==="dark"?"bg-gradient-to-r from-[#0c0f1d] via-[#161b33] to-[#0c0f1d]":"bg-gradient-to-r from-[#161b33] via-[#1e2a47] to-[#161b33]"} shadow-lg pt-safe transition-colors duration-300`,children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"backdrop-blur-sm rounded-xl p-3 shadow-sm hidden sm:block bg-indigo-500/20 border border-indigo-500/30",children:r.jsx(Jo,{className:"w-8 h-8 text-indigo-100"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2 text-white",children:[r.jsx("span",{className:"hidden sm:inline",children:x("earlyChildhoodSystem")}),r.jsx("span",{className:"sm:hidden",children:"Lukid AI"}),r.jsx("span",{className:"text-xs font-normal px-2 py-1 rounded-lg bg-orange-500/30 text-orange-100",children:"Beta"})]}),r.jsxs("p",{className:"text-sm mt-1 text-slate-300",children:[x("welcomeBack"),", ",r.jsx("span",{className:"font-semibold text-white",children:d})," "]})]})]}),r.jsx("div",{className:"hidden lg:flex items-center gap-3",children:r.jsxs("div",{className:"backdrop-blur-sm rounded-lg px-4 py-2 text-sm bg-white/5 text-slate-200 border border-indigo-500/20",children:[r.jsxs("span",{className:"opacity-70",children:[x("today"),":"]})," ",r.jsx("span",{className:"font-bold text-white",children:new Date().toLocaleDateString(Ma(),{day:"numeric",month:"long",year:"numeric"})})]})})]})})}),r.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto pb-32",children:r.jsx("div",{className:"bg-white/80 dark:bg-[#1a1a2e] backdrop-blur-sm rounded-2xl shadow-2xl p-6 min-h-[calc(100vh-6rem)] transition-colors duration-300 border border-transparent dark:border-gray-800",children:a})})]})}),r.jsx(b3,{currentPath:n,navigate:e})]})},k3=({navigate:a})=>{const e=({icon:n,title:i,description:o,buttonText:d,buttonAction:u,tips:m,highlight:f})=>r.jsx("div",{className:`bg-white dark:bg-[#1a1a2e] rounded-xl shadow-md p-5 border transition-all hover:shadow-lg ${f?"border-primary ring-2 ring-primary/20":"border-transparent dark:border-gray-700"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${f?"bg-primary/10 text-primary":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:n}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:i}),r.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:o}),m&&m.length>0&&r.jsx("ul",{className:"mt-2 text-xs text-gray-500 dark:text-gray-500 space-y-1",children:m.map((p,y)=>r.jsxs("li",{className:"flex items-start gap-1",children:[r.jsx("span",{className:"text-primary",children:""})," ",p]},y))}),d&&u&&r.jsx("button",{onClick:u,className:"mt-3 px-3 py-1.5 text-sm rounded-lg bg-primary hover:bg-indigo-700 text-white transition-colors",children:d})]})]})});return r.jsxs("div",{className:"max-w-6xl mx-auto pb-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:x("gettingStarted")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 text-lg",children:x("gettingStartedDesc")})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(Rh,{className:"w-5 h-5 text-primary"}),x("gsQuickStart")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-xl p-5 text-white",children:[r.jsx("div",{className:"text-3xl font-bold mb-1",children:"1"}),r.jsx("div",{className:"font-medium",children:x("gsStep1Title")}),r.jsx("p",{className:"text-sm text-white/80 mt-1",children:x("gsStep1Desc")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-5 text-white",children:[r.jsx("div",{className:"text-3xl font-bold mb-1",children:"2"}),r.jsx("div",{className:"font-medium",children:x("gsStep2Title")}),r.jsx("p",{className:"text-sm text-white/80 mt-1",children:x("gsStep2Desc")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-amber-600 rounded-xl p-5 text-white",children:[r.jsx("div",{className:"text-3xl font-bold mb-1",children:"3"}),r.jsx("div",{className:"font-medium",children:x("gsStep3Title")}),r.jsx("p",{className:"text-sm text-white/80 mt-1",children:x("gsStep3Desc")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl p-5 text-white",children:[r.jsx("div",{className:"text-3xl font-bold mb-1",children:"4"}),r.jsx("div",{className:"font-medium",children:x("gsStep4Title")}),r.jsx("p",{className:"text-sm text-white/80 mt-1",children:x("gsStep4Desc")})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(Fb,{className:"w-5 h-5 text-primary"}),x("gsMainFeatures")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(e,{icon:r.jsx(J_,{className:"w-5 h-5"}),title:x("gsClassManagement"),description:x("gsClassManagementDesc"),tips:[x("gsClassTip1"),x("gsClassTip2"),x("gsClassTip3")],buttonText:x("gsViewClasses"),buttonAction:()=>a("classes")}),r.jsx(e,{icon:r.jsx(Zb,{className:"w-5 h-5"}),title:x("gsChildPortfolio"),description:x("gsChildPortfolioDesc"),tips:[x("gsChildTip1"),x("gsChildTip2"),x("gsChildTip3")],buttonText:x("gsViewChildren"),buttonAction:()=>a("children")}),r.jsx(e,{icon:r.jsx(Jo,{className:"w-5 h-5"}),title:x("gsObservations"),description:x("gsObservationsDesc"),tips:[x("gsObsTip1"),x("gsObsTip2")],highlight:!0}),r.jsx(e,{icon:r.jsx(el,{className:"w-5 h-5"}),title:x("gsMediaPhotos"),description:x("gsMediaDesc"),tips:[x("gsMediaTip1"),x("gsMediaTip2"),x("gsMediaTip3")]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(Qi,{className:"w-5 h-5 text-primary"}),x("gsCommunication")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(e,{icon:r.jsx(Qi,{className:"w-5 h-5"}),title:x("gsParentMessaging"),description:x("gsParentMessagingDesc"),tips:[x("gsMsgTip1"),x("gsMsgTip2"),x("gsMsgTip3")],buttonText:x("gsViewMessages"),buttonAction:()=>a("inbox")}),r.jsx(e,{icon:r.jsx(gc,{className:"w-5 h-5"}),title:x("gsAnnouncements"),description:x("gsAnnouncementsDesc"),tips:[x("gsAnnTip1"),x("gsAnnTip2"),x("gsAnnTip3")],buttonText:x("gsGoToAnnouncements"),buttonAction:()=>a("announcements")})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(Yy,{className:"w-5 h-5 text-primary"}),x("gsTracking")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(e,{icon:r.jsx(Yb,{className:"w-5 h-5"}),title:x("gsAttendance"),description:x("gsAttendanceDesc"),tips:[x("gsAttTip1"),x("gsAttTip2"),x("gsAttTip3")],buttonText:x("gsGoToAttendance"),buttonAction:()=>a("attendance")}),r.jsx(e,{icon:r.jsx(Yy,{className:"w-5 h-5"}),title:x("gsSkillReport"),description:x("gsSkillReportDesc"),tips:[x("gsReportTip1"),x("gsReportTip2"),x("gsReportTip3")],highlight:!0}),r.jsx(e,{icon:r.jsx(u_,{className:"w-5 h-5"}),title:x("gsDataExport"),description:x("gsDataExportDesc"),tips:[x("gsExportTip1"),x("gsExportTip2")]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(Ji,{className:"w-5 h-5 text-primary"}),x("gsSettingsDemo")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(e,{icon:r.jsx(Rh,{className:"w-5 h-5"}),title:x("gsDemoData"),description:x("gsDemoDataDesc"),tips:[x("gsDemoTip1"),x("gsDemoTip2"),x("gsDemoTip3")],buttonText:x("goToSettings"),buttonAction:()=>a("settings")}),r.jsx(e,{icon:r.jsx(Ji,{className:"w-5 h-5"}),title:x("gsProfilePrefs"),description:x("gsProfilePrefsDesc"),tips:[x("gsPrefTip1"),x("gsPrefTip2"),x("gsPrefTip3")]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-500/10 to-amber-500/10 rounded-xl p-6 border border-orange-500/20",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:[" ",x("gsProTips")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-700 dark:text-gray-300",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-500 font-medium",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:x("gsQuickSearch")})," ",x("gsQuickSearchDesc")]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-500 font-medium",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:x("gsKeyboardShortcuts")})," ",x("gsKeyboardDesc")]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-orange-500 font-medium",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:x("gsMobileApp")})," ",x("gsMobileAppDesc")]})]})]})]})]})},tv=a=>{const e=new Date(a),n=new Date;let i=n.getFullYear()-e.getFullYear(),o=n.getMonth()-e.getMonth();return(o<0||o===0&&n.getDate()<e.getDate())&&(i--,o=12+o),`${i} yl, ${o} ay`},j3=a=>new Promise((e,n)=>{const i=new FileReader;i.readAsDataURL(a),i.onload=o=>{var u;const d=new Image;d.src=(u=o.target)==null?void 0:u.result,d.onload=()=>{const m=document.createElement("canvas"),f=800,p=800;let y=d.width,v=d.height;y>v?y>f&&(v*=f/y,y=f):v>p&&(y*=p/v,v=p),m.width=y,m.height=v;const w=m.getContext("2d");if(!w)return n(new Error("Canvas context couldn't be created."));w.drawImage(d,0,0,y,v),m.toBlob(j=>{if(j){const S=new File([j],a.name,{type:"image/jpeg",lastModified:Date.now()});e(S)}else n(new Error("Canvas to Blob conversion failed."))},"image/jpeg",.9)},d.onerror=m=>n(m)},i.onerror=o=>n(o)}),xm=Object.freeze(Object.defineProperty({__proto__:null,calculateAge:tv,processImage:j3},Symbol.toStringTag,{value:"Module"})),S3=({onCapture:a,onClose:e})=>{const n=b.useRef(null),i=b.useRef(null),o=b.useRef(null),[d,u]=b.useState(null),[m,f]=b.useState(null),[p,y]=b.useState(null),[v,w]=b.useState(null),[j,S]=b.useState("user");b.useEffect(()=>(T(),()=>E()),[j]);const T=async()=>{try{y(null),d&&d.getTracks().forEach($=>$.stop());const V=await navigator.mediaDevices.getUserMedia({video:{facingMode:j,width:{ideal:1920},height:{ideal:1080}},audio:!1});u(V),w(!0),n.current&&(n.current.srcObject=V)}catch(V){console.error("Kamera eriim hatas:",V),w(!1),V.name==="NotAllowedError"?y("Kamera izni verilmedi. Ltfen tarayc ayarlarndan kamera iznini etkinletirin."):V.name==="NotFoundError"?y("Kamera bulunamad. Ltfen cihaznza kamera balayn."):y("Kamera balatlamad. Ltfen dosyadan ykleme seeneini kullann.")}},E=()=>{d&&(d.getTracks().forEach(V=>V.stop()),u(null))},A=()=>{if(!n.current||!i.current)return;const V=n.current,$=i.current,B=$.getContext("2d");if(!B)return;$.width=V.videoWidth,$.height=V.videoHeight,B.drawImage(V,0,0,$.width,$.height);const q=$.toDataURL("image/jpeg",.9);f(q),E()},D=()=>{f(null),T()},_=()=>{m&&(a(m),e())},C=()=>{S(V=>V==="user"?"environment":"user")},H=V=>{var q;const $=(q=V.target.files)==null?void 0:q[0];if(!$)return;if(!$.type.startsWith("image/")){y("Ltfen geerli bir resim dosyas sein.");return}if($.size>10*1024*1024){y("Dosya boyutu ok byk. Maksimum 10MB olmaldr.");return}const B=new FileReader;B.onload=ae=>{var P;const M=(P=ae.target)==null?void 0:P.result;f(M),E()},B.readAsDataURL($)};return r.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[r.jsx(_r,{className:"h-6 w-6"}),"Fotoraf ek"]}),r.jsx("button",{onClick:e,className:"text-white hover:bg-white/20 p-2 rounded-lg transition-all",children:r.jsx(Rr,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"p-6",children:[p&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 border-2 border-red-200 rounded-lg text-red-700",children:r.jsxs("p",{className:"font-medium",children:[" ",p]})}),r.jsx("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden",style:{aspectRatio:"16/9"},children:m?r.jsx("img",{src:m,alt:"Captured",className:"w-full h-full object-contain"}):r.jsxs(r.Fragment,{children:[r.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),r.jsx("canvas",{ref:i,className:"hidden"}),v===!1&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:r.jsxs("div",{className:"text-center text-white p-6",children:[r.jsx(_r,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"Kamera Eriimi Gerekli"}),r.jsx("p",{className:"text-sm opacity-75",children:"Ltfen dosyadan ykleme yapn"})]})})]})}),r.jsx("div",{className:"mt-6 flex items-center justify-center gap-4",children:m?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium transition-all",children:[r.jsx(Fy,{className:"h-5 w-5"}),"Yeniden ek"]}),r.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg font-medium shadow-lg transition-all",children:[r.jsx(Kb,{className:"h-5 w-5"}),"Kullan"]})]}):r.jsxs(r.Fragment,{children:[r.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:H,className:"hidden"}),r.jsxs("button",{onClick:()=>{var V;return(V=o.current)==null?void 0:V.click()},className:"flex items-center gap-2 px-6 py-3 bg-blue-50 hover:bg-blue-100 text-blue-700 border-2 border-blue-200 rounded-lg font-medium transition-all",children:[r.jsx(el,{className:"h-5 w-5"}),"Dosyadan Ykle"]}),v&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-lg font-medium shadow-lg transition-all transform hover:scale-105",children:[r.jsx(_r,{className:"h-6 w-6"}),"Fotoraf ek"]}),r.jsx("button",{onClick:C,className:"p-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg transition-all",title:"Kameray Deitir",children:r.jsx(Fy,{className:"h-5 w-5"})})]})]})}),r.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700 text-center",children:[" ",r.jsx("strong",{children:"pucu:"}),' Kameranz yoksa veya izin vermediyseniz, "Dosyadan Ykle" butonunu kullanabilirsiniz.']})})]})]})})},av=({onSave:a,onCancel:e,isSaving:n,initialData:i,formTitle:o})=>{const{user:d}=ia(),[u,m]=b.useState("basic"),[f,p]=b.useState(""),[y,v]=b.useState(""),[w,j]=b.useState(""),[S,T]=b.useState(""),[E,A]=b.useState([]),[D,_]=b.useState(!1),[C,H]=b.useState(!1),[V,$]=b.useState([]),[B,q]=b.useState(""),[ae,M]=b.useState(""),[P,R]=b.useState(""),[ee,F]=b.useState(""),[z,L]=b.useState(null),[I,K]=b.useState(!1);b.useEffect(()=>{var oe,ue,Ne,he,Ee;i&&(p(i.first_name||""),v(i.last_name||""),j(i.dob||""),T(i.classroom||""),H(i.consent_obtained||!1),$(i.guardians||[]),q(((ue=(oe=i.health)==null?void 0:oe.allergies)==null?void 0:ue.join(", "))||""),M(((Ne=i.health)==null?void 0:Ne.notes)||""),R(((he=i.interests)==null?void 0:he.join(", "))||""),F(((Ee=i.strengths)==null?void 0:Ee.join(", "))||""),L(i.photo_url||null))},[i]),b.useEffect(()=>{(async()=>{if(d)try{_(!0);const ue=(await $i(d.id)||[]).map(Ne=>({name:Ne.name}));i!=null&&i.classroom&&!ue.find(Ne=>Ne.name===i.classroom)&&ue.push({name:i.classroom}),A(ue)}catch{A([])}finally{_(!1)}})()},[d,i]);const te=(oe,ue,Ne)=>{const he=[...V],Ee={...he[oe],[ue]:Ne};Ee.id||(Ee.id=kn()),he[oe]=Ee,$(he)},O=()=>{$([...V,{id:kn(),name:"",relation:"",phone:"",email:""}])},J=oe=>{$(V.filter((ue,Ne)=>Ne!==oe))},ce=oe=>{var he;const ue=(he=oe.target.files)==null?void 0:he[0];if(!ue)return;if(!ue.type.startsWith("image/")){alert(x("selectValidImage"));return}if(ue.size>10*1024*1024){alert(x("fileTooLarge"));return}const Ne=new FileReader;Ne.onload=Ee=>{var Ae;const xe=(Ae=Ee.target)==null?void 0:Ae.result;L(xe)},Ne.readAsDataURL(ue)},de=oe=>{L(oe)},pe=()=>{L(null)},ke=oe=>{oe.preventDefault();const ue={allergies:B.split(",").map(Ne=>Ne.trim()).filter(Boolean),notes:ae};if(!S){alert(x("selectClassFirst"));return}a({first_name:f,last_name:y,dob:w,classroom:S,consent_obtained:C,guardians:V.filter(Ne=>Ne.name&&Ne.relation),health:ue,interests:P.split(",").map(Ne=>Ne.trim()).filter(Boolean),strengths:ee.split(",").map(Ne=>Ne.trim()).filter(Boolean),photo_url:z||null})},ie=[{id:"basic",label:x("basicInfo")},{id:"guardians",label:x("guardians")},{id:"health",label:x("healthInfo")},{id:"other",label:x("otherInfo")}];return r.jsxs("div",{className:"p-6 bg-white dark:bg-[#1a1a2e] rounded-lg shadow-lg transition-colors",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:o}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto",children:ie.map(oe=>r.jsx("button",{type:"button",onClick:()=>m(oe.id),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${u===oe.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-600"}`,children:oe.label},oe.id))})}),r.jsxs("form",{onSubmit:ke,className:"space-y-6 mt-6",children:[u==="basic"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-3",children:[" ",x("profilePhoto")]}),z?r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("img",{src:z,alt:"Profil",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),r.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>K(!0),className:"flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-all",children:[r.jsx(_r,{className:"h-5 w-5"}),x("retakePhoto")]}),r.jsxs("button",{type:"button",onClick:pe,className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-all",children:[r.jsx(tl,{className:"h-5 w-5"}),x("deletePhoto")]})]})]}):r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>K(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-lg font-medium shadow-lg transition-all",children:[r.jsx(_r,{className:"h-5 w-5"}),x("takeWithCamera")]}),r.jsxs("label",{className:"flex items-center justify-center gap-2 px-6 py-3 bg-blue-50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-200 border-2 border-blue-200 dark:border-blue-800 rounded-lg font-medium cursor-pointer transition-all",children:[r.jsx(el,{className:"h-5 w-5"}),x("uploadFromFile"),r.jsx("input",{type:"file",accept:"image/*",onChange:ce,className:"hidden"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",placeholder:x("firstName"),value:f,onChange:oe=>p(oe.target.value),required:!0,className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),r.jsx("input",{type:"text",placeholder:x("lastName"),value:y,onChange:oe=>v(oe.target.value),required:!0,className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsx("input",{type:"date",placeholder:x("dob"),value:w,onChange:oe=>j(oe.target.value),required:!0,className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:x("classroom")}),r.jsxs("select",{value:S,onChange:oe=>T(oe.target.value),className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[r.jsxs("option",{value:"",children:[" ",x("selectClass")," "]}),E.map((oe,ue)=>r.jsx("option",{value:oe.name,children:oe.name},ue))]}),!D&&E.length===0&&r.jsx("p",{className:"text-xs text-amber-700 mt-1",children:x("createClassFirst")})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"consent",checked:C,onChange:oe=>H(oe.target.checked),className:"h-4 w-4 text-primary border-gray-300 rounded"}),r.jsx("label",{htmlFor:"consent",className:"ml-2 block text-sm text-gray-900 dark:text-gray-200",children:x("parentalConsent")})]})]}),u==="guardians"&&r.jsxs("div",{className:"space-y-4",children:[V.map((oe,ue)=>r.jsxs("div",{className:"p-3 border rounded-md space-y-2 relative dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:()=>J(ue),className:"absolute top-2 right-2 text-red-500 hover:text-red-700 text-2xl font-bold leading-none",children:""}),r.jsx("input",{type:"text",placeholder:x("guardianName"),value:oe.name,onChange:Ne=>te(ue,"name",Ne.target.value),className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0}),r.jsx("input",{type:"text",placeholder:x("guardianRelation"),value:oe.relation,onChange:Ne=>te(ue,"relation",Ne.target.value),className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0}),r.jsx("input",{type:"tel",placeholder:x("guardianPhone"),value:oe.phone||"",onChange:Ne=>te(ue,"phone",Ne.target.value),className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),r.jsx("input",{type:"email",placeholder:x("guardianEmail"),value:oe.email||"",onChange:Ne=>te(ue,"email",Ne.target.value),className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]},oe.id)),r.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 dark:text-gray-200 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:x("addGuardian")})]}),u==="health"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("textarea",{placeholder:x("allergies"),value:B,onChange:oe=>q(oe.target.value),className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3}),r.jsx("textarea",{placeholder:x("healthNotes"),value:ae,onChange:oe=>M(oe.target.value),className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:4})]}),u==="other"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("textarea",{placeholder:x("interests"),value:P,onChange:oe=>R(oe.target.value),className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3}),r.jsx("textarea",{placeholder:x("strengths"),value:ee,onChange:oe=>F(oe.target.value),className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx("button",{type:"button",onClick:e,disabled:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 dark:text-gray-200 rounded disabled:opacity-50",children:x("cancel")}),r.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-primary text-white rounded disabled:bg-gray-400",children:x(n?"loading":"save")})]})]}),I&&r.jsx(S3,{onCapture:de,onClose:()=>K(!1)})]})},N3=({navigate:a})=>{const{user:e}=ia(),[n,i]=b.useState([]),[o,d]=b.useState(!0),[u,m]=b.useState(null),[f,p]=b.useState(!1),[y,v]=b.useState(""),[w,j]=b.useState(!1),[S,T]=b.useState(!1),[E,A]=b.useState(null),[D,_]=b.useState(()=>{try{const ae=new URLSearchParams(window.location.hash.split("?")[1]).get("classroom")||void 0;return ae===""?void 0:ae}catch{return}}),C=b.useCallback(async()=>{if(e)try{d(!0),m(null);const q=await wn(e.id);i(q)}catch(q){q.message.includes('relation "public.children" does not exist')||m(q.message)}finally{d(!1)}},[e]);b.useEffect(()=>(C(),window.addEventListener("datachanged",C),()=>{window.removeEventListener("datachanged",C)}),[C]);const H=async q=>{if(e){j(!0),m(null);try{const ae={first_name:q.first_name||"",last_name:q.last_name||"",dob:q.dob||"",consent_obtained:q.consent_obtained||!1,classroom:q.classroom,guardians:q.guardians,health:q.health,interests:q.interests,strengths:q.strengths,photo_url:q.photo_url};await Bb(ae,e.id),p(!1)}catch(ae){const P=(R=>R instanceof Error||typeof R=="object"&&R!==null&&"message"in R&&typeof R.message=="string"?R.message:"Bilinmeyen bir hata olutu.")(ae);P.includes("violates row-level security policy")?m("Kaydetme ilemi baarsz. Veritaban gvenlik kurallarnz (RLS) bu ileme izin vermiyor olabilir. Ltfen Supabase projenizdeki 'children' tablosu iin INSERT politikasn doru ekilde ayarladnzdan emin olun."):P.includes('relation "public.children" does not exist')?m("Kaydetme ilemi baarsz: Veritabannda 'children' tablosu bulunamad. Ltfen size sunulan en son SQL Kurulum Kodunu Supabase SQL Editor'de altrn."):m(`ocuk kaydedilemedi. Hata: ${P}`)}finally{j(!1)}}},V=q=>{A(q),T(!0)},$=async()=>{if(E){j(!0),m(null);try{await mc(E.id),alert(x("childDeleteSuccess"))}catch(q){m(q.message)}finally{j(!1),A(null),T(!1)}}},B=n.filter(q=>{const ae=`${q.first_name} ${q.last_name}`.toLowerCase().includes(y.toLowerCase()),M=D?(q.classroom||"")===D:!0;return ae&&M});return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gradient-purple",children:x("childList")}),r.jsx("button",{onClick:()=>p(!f),className:"px-4 py-2 rounded-lg shadow bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 transition-all",children:x(f?"cancel":"addChild")})]}),f&&r.jsx("div",{className:"mb-6",children:r.jsx(av,{formTitle:x("addChild"),onSave:H,onCancel:()=>p(!1),isSaving:w})}),u&&r.jsx("p",{className:"text-red-500 my-4 bg-red-100 p-3 rounded-md",children:u}),r.jsxs("div",{className:"mb-4 flex flex-col gap-2",children:[D&&r.jsxs("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800 text-blue-900 dark:text-blue-100 rounded px-3 py-2 transition-colors",children:[r.jsxs("div",{children:["Filtre: Snf = ",r.jsx("strong",{children:D||""})]}),r.jsx("button",{className:"text-sm underline",onClick:()=>{_(void 0),a("children")},children:"Temizle"})]}),r.jsx("input",{type:"text",placeholder:x("searchChild"),value:y,onChange:q=>v(q.target.value),className:"w-full p-2 border border-gray-300 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),o&&r.jsx("p",{children:x("loading")}),!o&&!u&&B.length===0&&r.jsx("div",{className:"text-center py-10 bg-white dark:bg-[#1a1a2e] rounded-lg shadow transition-colors",children:r.jsx("p",{className:"dark:text-gray-300",children:x("noChildrenFound")})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map((q,ae)=>{const M=["card-colorful-purple","card-colorful-blue","card-colorful-green","card-colorful-pink","card-colorful-orange"],P=["bg-purple-200 text-purple-700","bg-blue-200 text-blue-700","bg-green-200 text-green-700","bg-pink-200 text-pink-700","bg-orange-200 text-orange-700"];return r.jsxs("div",{className:`bg-white dark:bg-[#1a1a2e] rounded-lg shadow-md p-5 transition-all relative group hover:shadow-xl card-colorful ${M[ae%M.length]}`,children:[r.jsx("button",{onClick:R=>{R.stopPropagation(),V(q)},className:"absolute top-2 right-2 p-2 rounded-full bg-gray-100 text-gray-500 opacity-0 group-hover:opacity-100 hover:bg-red-100 hover:text-red-600 transition-opacity z-10","aria-label":`Delete ${q.first_name}`,children:r.jsx(Rb,{className:"w-5 h-5"})}),r.jsx("div",{onClick:()=>a("child-detail",{id:q.id}),className:"cursor-pointer",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[q.photo_url?r.jsx("img",{src:q.photo_url,alt:`${q.first_name}`,className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-md"}):r.jsxs("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold shadow-md ${P[ae%P.length]}`,children:[q.first_name.charAt(0),q.last_name.charAt(0)]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[q.first_name," ",q.last_name]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:[x("age"),": ",tv(q.dob)]}),q.classroom&&r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:[x("classroom"),": ",q.classroom]})]})]})})]},q.id)})}),S&&E&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-lg shadow-xl p-6 max-w-sm w-full transition-colors border border-transparent dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:x("confirmDeleteChildTitle")}),r.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",dangerouslySetInnerHTML:{__html:x("confirmDeleteChildMessage").replace("{childName}",`<strong class="text-gray-900 dark:text-white">${E.first_name} ${E.last_name}</strong>`)}}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>T(!1),disabled:w,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200 rounded-md transition-colors",children:x("cancel")}),r.jsx("button",{onClick:$,disabled:w,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors shadow-sm",children:x(w?"deleting":"delete")})]})]})})]})},_3=({navigate:a})=>{const{user:e}=ia(),[n,i]=b.useState([]),[o,d]=b.useState(!0),[u,m]=b.useState(null),[f,p]=b.useState([]),[y,v]=b.useState(""),[w,j]=b.useState(!1),[S,T]=b.useState(null);b.useEffect(()=>{(async()=>{if(e)try{d(!0);const _=await wn(e.id);i(_);try{const C=await $i(e.id);p(C)}catch(C){String((C==null?void 0:C.message)||"").includes("'classes'")||m((C==null?void 0:C.message)||x("errorOccurred"))}}catch(_){m((_==null?void 0:_.message)||x("errorOccurred"))}finally{d(!1)}})()},[e]);const E=b.useMemo(()=>{if(f.length>0){const C=new Map;for(const H of n||[]){const V=H.classroom||"";C.set(V,(C.get(V)||0)+1)}return f.map(H=>[H.name,C.get(H.name)||0])}const _=new Map;for(const C of n||[]){const H=C.classroom||"";_.set(H,(_.get(H)||0)+1)}return Array.from(_.entries()).sort((C,H)=>C[0].localeCompare(H[0]))},[n,f]),A=async()=>{if(!(!e||!y.trim()))try{j(!0),await Ub(e.id,y.trim()),v("");const _=await $i(e.id);p(_)}catch(_){m((_==null?void 0:_.message)||x("classAddError"))}finally{j(!1)}},D=async(_,C)=>{if(!e)return;const H=C>0?x("deleteClassConfirmWithChildren").replace("{classroom}",_).replace("{childCount}",String(C)):x("deleteClassConfirm").replace("{classroom}",_);if(confirm(H))try{T(_),await fm(e.id,_);const[V,$]=await Promise.all([$i(e.id),wn(e.id)]);p(V),i($)}catch(V){m((V==null?void 0:V.message)||x("errorOccurred"))}finally{T(null)}};return r.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[r.jsxs("h1",{className:"text-2xl font-bold text-gradient-purple",children:[" ",x("classes")]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto",children:[r.jsx("input",{className:"border border-gray-300 rounded-lg px-3 py-2 flex-1 min-w-0 w-full sm:w-64 focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:x("className"),value:y,onChange:_=>v(_.target.value)}),r.jsx("button",{className:"px-4 py-2 rounded-lg disabled:bg-gray-400 whitespace-nowrap btn-gradient-success",onClick:A,disabled:w||!y.trim(),children:x("createClass")}),r.jsx("button",{className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200 rounded-lg whitespace-nowrap transition",onClick:()=>a("children"),children:x("allChildren")})]})]}),o&&r.jsx("p",{className:"text-gray-600 font-medium",children:x("loading")}),u&&r.jsx("p",{className:"text-red-600 bg-red-50 p-3 rounded-lg border border-red-200",children:u}),!o&&E.length===0&&r.jsx("p",{className:"text-gray-500 bg-gray-50 p-4 rounded-lg",children:x("noClassFound")}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(([_,C],H)=>{const V=["card-colorful-purple","card-colorful-blue","card-colorful-green","card-colorful-pink","card-colorful-orange"],$=["text-purple-600","text-blue-600","text-green-600","text-pink-600","text-orange-600"],B=S===_;return r.jsxs("div",{className:`relative bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-5 hover:shadow-xl transition-all card-colorful ${V[H%V.length]} ${B?"opacity-50":""}`,children:[r.jsx("button",{onClick:q=>{q.stopPropagation(),D(_,C)},disabled:B,className:"absolute top-2 right-2 p-1.5 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 rounded-md transition-colors disabled:opacity-50",title:x("deleteClass"),children:r.jsx(tl,{className:"w-4 h-4"})}),r.jsxs("button",{onClick:()=>a("class-detail",{classroom:_===""?"":_}),className:"w-full text-left",disabled:B,children:[r.jsxs("div",{className:"flex items-center justify-between pr-8",children:[r.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:x("classroom")}),r.jsx("div",{className:`text-2xl ${$[H%$.length]}`,children:""})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2 truncate",title:_,children:_}),r.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:C}),r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:x("children").toLowerCase()})]}),B&&r.jsx("div",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:x("classDeleting")})]})]},_)})})]})},C3=["turkish","math","science","social","motor_health","art","music"],T3=({classroom:a})=>{const{user:e}=ia(),[n,i]=b.useState([]),[o,d]=b.useState({turkish:[],math:[],science:[],social:[],motor_health:[],art:[],music:[]}),[u,m]=b.useState(null);return b.useEffect(()=>{(async()=>{if(e)try{m(null);const{data:f,error:p}=await Z.from("children").select("id").eq("user_id",e.id).eq("classroom",a);if(p)throw p;const y=(f||[]).map(A=>A.id);if(y.length===0){i([]),d({turkish:[],math:[],science:[],social:[],motor_health:[],art:[],music:[]});return}const v=new Date;v.setDate(v.getDate()-56);const{data:w}=await Z.from("observations").select("id, created_at, domains").eq("user_id",e.id).in("child_id",y).gte("created_at",v.toISOString()),j=[],S=Ma();for(let A=7;A>=0;A--){const D=new Date;D.setDate(D.getDate()-A*7),j.push(new Intl.DateTimeFormat(S,{day:"2-digit",month:"short"}).format(D))}const T=()=>Array(8).fill(0),E={turkish:T(),math:T(),science:T(),social:T(),motor_health:T(),art:T(),music:T()};for(const A of w||[]){const D=new Date(A.created_at),_=Math.floor((Date.now()-D.getTime())/(1e3*60*60*24)),H=7-Math.min(7,Math.max(0,Math.floor(_/7))),V=Array.isArray(A.domains)?A.domains:[];for(const $ of V)E[$]&&E[$][H]++}i(j),d(E)}catch(f){m((f==null?void 0:f.message)||"Hata")}})()},[e,a]),e?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"mt-4 bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-4 transition-colors",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:x("developmentTrend")}),u&&r.jsx("p",{className:"text-red-600 text-sm",children:u}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:C3.map(f=>{const p=o[f]||[],y=Math.max(1,...p);return r.jsxs("div",{className:"border dark:border-gray-700 rounded p-2",children:[r.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 mb-1",children:xt()[f]||f}),r.jsx("div",{className:"flex items-end gap-1 h-16",children:p.map((v,w)=>r.jsx("div",{style:{height:`${Math.max(6,Math.round(v/y*100))}%`},className:"w-3 bg-blue-400 dark:bg-blue-600 rounded"},w))}),r.jsx("div",{className:"mt-1 flex justify-between text-[10px] text-gray-500 dark:text-gray-400",children:n.map((v,w)=>r.jsx("span",{children:v},w))})]},f)})})]})}):null};async function A3(a){const{className:e,children:n,obs7d:i,media7d:o,activity:d,aiSummary:u,aiSuggestions:m=[]}=a,f=Math.max(1,...d.map(j=>j.obs+j.media)),p=d.map((j,S)=>{const T=j.obs+j.media,E=Math.round(T/f*88)+8,A=S*20+10,D=100-E;return`<rect x="${A}" y="${D}" width="12" height="${E}" rx="3" fill="#3b82f6"></rect>`}).join(""),y=d.map((j,S)=>`<text x="${S*20+16}" y="112" font-size="8" text-anchor="middle" fill="#64748b">${zs(j.label)}</text>`).join(""),v=`<!DOCTYPE html>
  <html lang="tr"><head><meta charset="utf-8" />
  <title>${zs(e)} - Snf Raporu</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;line-height:1.5;color:#0f172a;padding:16px}
    h1{margin:0 0 6px 0}
    .badge{display:inline-block;padding:2px 8px;border-radius:999px;background:#3b82f6;color:#fff;font-size:12px}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
    .card{border:1px solid #e2e8f0;border-radius:10px;padding:12px;margin:10px 0}
    .muted{color:#64748b}
    table{border-collapse:collapse;width:100%}
    th,td{border:1px solid #e2e8f0;padding:6px;text-align:left}
    .ul{margin:0;padding-left:18px}
  </style></head>
  <body>
    <h1>Snf Raporu <span class="badge">${zs(e)}</span></h1>
    <div class="muted">Oluturma: ${new Date().toLocaleString("tr-TR")}</div>
    <div class="card">
      <div class="grid">
        <div><div class="muted">ocuk</div><div style="font-size:22px;font-weight:700">${n.length}</div></div>
        <div><div class="muted">Son 7 Gn Gzlem</div><div style="font-size:22px;font-weight:700">${i}</div></div>
        <div><div class="muted">Son 7 Gn rn</div><div style="font-size:22px;font-weight:700">${o}</div></div>
      </div>
    </div>
    <div class="card">
      <div class="muted" style="margin-bottom:6px">Aktivite (7 gn)</div>
      <svg width="${d.length*20+20}" height="120" viewBox="0 0 ${d.length*20+20} 120">${p}${y}</svg>
    </div>
    ${u||m.length?`<div class="card"><div style="font-weight:700;margin-bottom:6px">Snf iin Yapay Zek nerileri</div>${u?`<p>${zs(u)}</p>`:""}${m.length?`<ul class="ul">${m.map(j=>`<li>${zs(j)}</li>`).join("")}</ul>`:""}</div>`:""}
    <div class="card">
      <div style="font-weight:700;margin-bottom:6px">ocuklar</div>
      <table><thead><tr><th>Ad Soyad</th><th>Snf</th></tr></thead><tbody>
      ${n.map(j=>`<tr><td>${zs(j.first_name)} ${zs(j.last_name)}</td><td>${zs(j.classroom||"")}</td></tr>`).join("")}
      </tbody></table>
    </div>
    <script>window.addEventListener('load',()=>{setTimeout(()=>{window.print()},300)});<\/script>
  </body></html>`,w=window.open("","_blank");w&&(w.document.open(),w.document.write(v),w.document.close())}function zs(a){return a?a.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e]||e):""}const E3=({classroom:a,navigate:e})=>{const{user:n}=ia(),[i,o]=b.useState([]),[d,u]=b.useState(!0),[m,f]=b.useState(!0),[p,y]=b.useState(null),[v,w]=b.useState(0),[j,S]=b.useState(0),[T,E]=b.useState([]),[A,D]=b.useState([]),[_,C]=b.useState(void 0),[H,V]=b.useState(""),[$,B]=b.useState(new Set),[q,ae]=b.useState("#3b82f6"),[M,P]=b.useState(!1),[R,ee]=b.useState(!1),[F,z]=b.useState(a||""),[L,I]=b.useState(new Map),[K,te]=b.useState(!1),[O,J]=b.useState(""),ce=a||"";b.useEffect(()=>{if(n)try{const he=localStorage.getItem(`classMeta:${n.id}`),xe=(he?JSON.parse(he):{})[a]||{};xe.color&&ae(xe.color),typeof xe.pinned=="boolean"&&P(xe.pinned)}catch{}},[n,a]);const de=(he,Ee)=>{if(!n)return;const xe=localStorage.getItem(`classMeta:${n.id}`),Ae=xe?JSON.parse(xe):{};Ae[he]={...Ae[he]||{},...Ee},localStorage.setItem(`classMeta:${n.id}`,JSON.stringify(Ae))};b.useEffect(()=>{(async()=>{var he,Ee;if(n)try{u(!0),f(!0);const xe=await bS(n.id,a);o(xe),f(!1);const Ae=(xe||[]).map($s=>$s.id),ht=new Date;ht.setDate(ht.getDate()-7);const Rt=ht.toISOString();if(Ae.length>0){const[$s,Vs,Hs]=await Promise.all([Z.from("observations").select("id, created_at, child_id, assessments(risk)").eq("user_id",n.id).in("child_id",Ae).gte("created_at",Rt),Z.from("media").select("id, created_at, child_id").eq("user_id",n.id).in("child_id",Ae).gte("created_at",Rt),Z.from("observations").select("child_id, assessments(risk)").eq("user_id",n.id).in("child_id",Ae).order("created_at",{ascending:!1}).limit(100)]),Aa=new Map,rs=Hs.data||[];for(const me of Ae){const ft=rs.filter(Gt=>Gt.child_id===me);if(ft.length>0){const Gt=(he=ft[0])==null?void 0:he.assessments,is=Array.isArray(Gt)&&((Ee=Gt[0])==null?void 0:Ee.risk);Aa.set(me,is||null)}else Aa.set(me,null)}I(Aa);const qs=($s.data||[]).filter(me=>{var is;const ft=Array.isArray(me.assessments)&&((is=me.assessments[0])==null?void 0:is.risk);return $.size===0||ft&&$.has(ft)});w(qs.length);const mt=Vs.data||[];S(mt.length||0);const Is=[];for(let me=6;me>=0;me--){const ft=new Date;ft.setHours(0,0,0,0),ft.setDate(ft.getDate()-me);const Gt=ft.toISOString().slice(0,10),is=new Intl.DateTimeFormat("tr-TR",{day:"2-digit",month:"short"}).format(ft),gl=(qs||[]).filter(Br=>(Br.created_at||"").slice(0,10)===Gt).length,vc=(mt||[]).filter(Br=>(Br.created_at||"").slice(0,10)===Gt).length;Is.push({label:is,obs:gl,media:vc})}E(Is),zS(n.id,{days:30,maxObservations:60,childIds:Ae,risks:Array.from($)}).then(me=>{var ft;(ft=me==null?void 0:me.suggestions)!=null&&ft.length&&D(me.suggestions),me!=null&&me.summary&&C(me.summary)}).catch(()=>{})}else w(0),S(0),E([]),D([]),C(void 0)}catch(xe){y((xe==null?void 0:xe.message)||"Hata")}finally{u(!1)}})()},[n,a,Array.from($).join(",")]);const pe=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#14b8a6","#f97316","#84cc16"],ke=b.useMemo(()=>{const he=H.trim().toLocaleLowerCase("tr-TR");return i.filter(Ee=>{const xe=`${Ee.first_name} ${Ee.last_name}`.toLocaleLowerCase("tr-TR").includes(he);if($.size===0)return xe;const Ae=L.get(Ee.id),ht=Ae&&$.has(Ae);return xe&&ht})},[i,H,$,L]),ie=async()=>{if(!n)return;const he=F.trim();if(!he||he===a){ee(!1);return}await Z.from("children").update({classroom:he}).eq("user_id",n.id).eq("classroom",a),de(he,{color:q,pinned:M}),ee(!1),e("class-detail",{classroom:he})},oe=()=>{P(he=>{const Ee=!he;return de(a,{pinned:Ee}),Ee})},ue=he=>{ae(he),de(a,{color:he})},Ne=async()=>{if(!n)return;const he=i.length,Ee=he>0?x("deleteClassConfirmWithChildren").replace("{classroom}",a).replace("{childCount}",he.toString()):x("deleteClassConfirm").replace("{classroom}",a);if(confirm(Ee)){te(!0),J(x("classDeleting"));try{await fm(n.id,a,xe=>J(xe)),ee(!1),e("classes")}catch(xe){J("Hata: "+((xe==null?void 0:xe.message)||"Bilinmeyen hata")),te(!1)}}};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:q}}),r.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[x("classLabel")," ",ce]}),M&&r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",x("pinned"),")"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 rounded dark:text-white",onClick:()=>ee(!0),children:x("edit")}),r.jsx("button",{className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 rounded dark:text-white",onClick:()=>A3({className:ce,children:i,obs7d:v,media7d:j,activity:T,aiSummary:_,aiSuggestions:A}),children:x("pdfDownload")}),r.jsx("button",{className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 rounded dark:text-white",onClick:()=>e("classes"),children:x("backToClasses")})]})]}),p&&r.jsx("p",{className:"text-red-600",children:p}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-4 transition-colors",children:[r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:x("childrenList")}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:i.length})]}),r.jsxs("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-4 transition-colors",children:[r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:x("last7daysObs")}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:v})]}),r.jsxs("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-4 transition-colors",children:[r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:x("last7daysProducts")}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:j})]})]}),r.jsx("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-4 mb-4 transition-colors",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 dark:text-gray-300 mb-1",children:x("searchChild")}),r.jsx("input",{className:"w-full border rounded px-2 py-1.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:H,onChange:he=>V(he.target.value),placeholder:x("nameSurnamePlaceholder")})]})}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:x("childrenList")}),m?r.jsx("p",{children:x("loading")}):ke.length===0?r.jsx("p",{className:"text-gray-500",children:x("noChildInClass")}):r.jsx("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ke.map(he=>r.jsxs("button",{onClick:()=>e("child-detail",{id:he.id}),className:"bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-4 text-left hover:shadow-md transition-colors border border-transparent dark:border-gray-700",children:[r.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white truncate",children:[he.first_name," ",he.last_name]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:he.classroom||""})]},he.id))})]}),r.jsx(T3,{classroom:a}),r.jsxs("div",{className:"mt-2 bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-4 transition-colors border border-transparent dark:border-gray-700",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:x("activity7days")})}),T.length===0?r.jsx("p",{className:"text-gray-500",children:"Veri yok."}):r.jsx("div",{className:"grid grid-cols-7 gap-2 items-end h-28",children:T.map((he,Ee)=>{const xe=Math.max(1,...T.map(Rt=>Rt.obs+Rt.media)),Ae=he.obs+he.media,ht=Math.round(Ae/xe*88)+8;return r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-6 bg-blue-200 dark:bg-blue-900 rounded-t",style:{height:`${ht}px`},title:`${he.label}: ${he.obs} gozlem, ${he.media} urun`}),r.jsx("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:he.label})]},Ee)})})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:x("aiSuggestionsForClass")}),r.jsxs("div",{className:"mt-2 bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-4 transition-colors border border-transparent dark:border-gray-700",children:[_&&r.jsx("p",{className:"text-gray-800 dark:text-gray-200 mb-2 whitespace-pre-wrap",children:_}),A.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:x("noSuggestionsYet")}):r.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-800 dark:text-gray-200",children:A.map((he,Ee)=>r.jsx("li",{children:he},Ee))})]})]}),R&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 flex items-center justify-center p-4",onClick:()=>ee(!1),children:r.jsxs("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-lg shadow-xl p-6 w-full max-w-lg transition-colors border border-transparent dark:border-gray-700",onClick:he=>he.stopPropagation(),children:[r.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:x("editClassTitle")}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:x("className")}),r.jsx("input",{className:"w-full border rounded px-2 py-1.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:F,onChange:he=>z(he.target.value)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 mb-1",children:x("color")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:pe.map(he=>r.jsx("button",{className:`w-6 h-6 rounded-full ring-2 ${q===he?"ring-black dark:ring-white":"ring-transparent"}`,style:{backgroundColor:he},onClick:()=>ue(he),"aria-label":he},he))})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[r.jsx("input",{type:"checkbox",checked:M,onChange:oe}),x("pinClass")]})]}),r.jsxs("div",{className:"mt-5 flex justify-between",children:[r.jsx("button",{className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",onClick:Ne,disabled:K,children:x(K?"deleting":"deleteClass")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-3 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white rounded transition-colors",onClick:()=>ee(!1),disabled:K,children:x("cancel")}),r.jsx("button",{className:"px-3 py-2 bg-primary text-white rounded hover:bg-primary/90 transition-colors",onClick:ie,disabled:K,children:x("save")})]})]}),O&&r.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:O})]})})]})};function ya(a){return a?String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):""}function Ky(a){const e=Ma();try{return new Intl.DateTimeFormat(e,{day:"2-digit",month:"long",year:"numeric"}).format(new Date(a))}catch{return""}}function D3(a){const e=Ma();try{return new Intl.DateTimeFormat(e,{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(a))}catch{return""}}function z3(a){if(!a)return"";const e=new Date(a),n=new Date;let i=n.getFullYear()-e.getFullYear(),o=n.getMonth()-e.getMonth();return n.getDate()<e.getDate()&&o--,o<0&&(i--,o+=12),`${i} ${x("pdfYears")}, ${o} ${x("pdfMonths")}`}function O3(a){if(!a)return'<span class="badge muted"></span>';const e=a==="low"?x("priorityLow").replace(/\s*/,""):a==="medium"?x("priorityMedium").replace(/\s*/,""):x("priorityHigh").replace(/\s*/,"");return`<span class="badge ${a}">${e}</span>`}function R3(a){const{child:e,observations:n,media:i=[],teacherName:o,schoolName:d}=a,u=Be(),m=e.first_name??e.firstName??"",f=e.last_name??e.lastName??"",p=e.dob,y=e.classroom??e.classRoom??"",v=e.photo_url??e.photoUrl,w=[o?`${x("pdfTeacher")}: ${ya(o)}`:null,d?`${x("pdfSchool")}: ${ya(d)}`:null,`${x("pdfReport")}: ${Ky(new Date().toISOString())}`].filter(Boolean).join("    "),j=v?`<img class="avatar-img" src="${ya(v)}" alt="Photo"/>`:`<div class="avatar-fallback">${ya(((m==null?void 0:m[0])||"").toUpperCase()+((f==null?void 0:f[0])||"").toUpperCase())}</div>`,S=i.length?`<section class="card">
        <h2 class="sec-title">${x("pdfProductMedia")}</h2>
        <div class="media-grid">
          ${i.map(E=>E!=null&&E.url?`
            <figure class="media-item">
              <img src="${ya(E.url)}" alt="media"/>
              ${E.name?`<figcaption>${ya(String(E.name))}</figcaption>`:""}
            </figure>
          `:"").join("")}
        </div>
      </section>`:"",T=(n||[]).map(E=>{var V;const A=E.assessments,D=E.note??"",_=E.created_at,C=(V=A==null?void 0:A.suggestions)!=null&&V.length?`<ul class="ul">${A.suggestions.map($=>`<li>${ya($)}</li>`).join("")}</ul>`:'<div class="muted"></div>',H=A!=null&&A.summary?`<p>${ya(A.summary)}</p>`:'<div class="muted"></div>';return`
      <section class="card obs-card">
        <div class="obs-head">
          <div class="obs-title">${x("pdfObservation")}</div>
          <div class="obs-meta">
            <span class="obs-date">${D3(_)}</span>
            ${O3(A==null?void 0:A.risk)}
          </div>
        </div>

        <div class="field">
          <div class="field-title">${x("pdfObservationNote")}</div>
          <div class="field-body">${ya(D)||""}</div>
        </div>

        <div class="split">
          <div class="split-col">
            <div class="field">
              <div class="field-title">${x("pdfAiSummary")}</div>
              <div class="field-body">${H}</div>
            </div>
          </div>
          <div class="split-col">
            <div class="field">
              <div class="field-title">${x("pdfSuggestions")}</div>
              <div class="field-body">${C}</div>
            </div>
          </div>
        </div>
      </section>
    `}).join(`
`);return`<!DOCTYPE html>
<html lang="${u}">
<head>
  <meta charset="utf-8" />
  <title>${x("pdfTitle")}</title>
  <style>
    @page { size: A4; margin: 16mm 14mm; }
    :root{
      --text:#0f172a; --muted:#64748b; --border:#e2e8f0; --bg:#ffffff;
      --primary:#2563eb; --chip:#eff6ff; --chipText:#1d4ed8;
      --low:#10b981; --med:#f59e0b; --high:#ef4444;
    }
    html,body{ padding:0; margin:0; background:#fff; }
    body{
      font-family: "Inter","Segoe UI", Roboto, Arial, Helvetica, sans-serif;
      color:var(--text); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      line-height:1.5;
    }
    .header{ background:linear-gradient(90deg, var(--primary), #3b82f6); color:#fff; padding:14px 18px; border-radius:10px; margin-bottom:14px; }
    .title{ margin:0; font-size:20px; font-weight:800; letter-spacing:.2px; }
    .subtitle{ margin:4px 0 0 0; font-size:12px; opacity:.95; }

    .card{ background:#fff; border:1px solid var(--border); border-radius:12px; padding:14px 16px; margin:12px 0; }
    .sec-title{ font-size:14px; font-weight:700; margin:0 0 8px 0; }

    .child{ display:flex; gap:14px; align-items:center; }
    .avatar-img,.avatar-fallback{ width:72px;height:72px;border-radius:50%;border:1px solid var(--border);object-fit:cover; display:flex;align-items:center;justify-content:center; }
    .avatar-fallback{ background:#e2e8f0; color:#475569; font-weight:800; font-size:22px; }
    .child-name{ font-size:18px; font-weight:800; margin:0 0 4px 0; }
    .meta{ display:grid; grid-template-columns:auto 1fr; gap:4px 8px; font-size:12px; }
    .label{ color:var(--muted); }
    .chip{ display:inline-block; background:var(--chip); color:var(--chipText); border:1px solid #dbeafe; border-radius:999px; padding:2px 8px; font-size:11px; font-weight:600; }

    .obs-card{ page-break-inside: avoid; }
    .obs-head{ display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid var(--border); padding-bottom:8px; margin-bottom:8px; }
    .obs-title{ font-weight:800; font-size:13px; }
    .obs-meta{ display:flex; gap:8px; align-items:center; }
    .obs-date{ font-size:12px; color:var(--muted); }

    .field{ margin-top:8px; }
    .field-title{ font-size:12px; font-weight:700; margin-bottom:2px; color:#0b1220; }
    .field-body{ font-size:12px; }

    .split{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
    .split-col{ min-width:0; }

    .ul{ margin:0; padding-left:18px; font-size:12px; }
    .ul li{ margin:2px 0; }

    .badge{ display:inline-block; padding:3px 10px; border-radius:999px; font-size:11px; color:#fff; font-weight:700; }
    .badge.low{ background:var(--low); }
    .badge.medium{ background:var(--med); }
    .badge.high{ background:var(--high); }
    .badge.muted{ background:#94a3b8; }

    .media-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px; }
    .media-item img{ width:100%; height:auto; border:1px solid var(--border); border-radius:8px; }
    .media-item figcaption{ font-size:11px; color:var(--muted); margin-top:3px; }

    @media print { .header{ -webkit-print-color-adjust:exact; print-color-adjust:exact; } }
  </style>
</head>
<body>
  <header class="header">
    <h1 class="title">${x("pdfTitle")}</h1>
    <p class="subtitle">${w}</p>
  </header>

  <section class="card">
    <div class="child">
      ${j}
      <div>
        <div class="child-name">${ya(m)} ${ya(f)}</div>
        <div class="meta">
          <div class="label">${x("pdfBirth")}:</div><div>${p?Ky(p):""} <span class="chip">${x("pdfAge")}: ${z3(p)}</span></div>
          <div class="label">${x("pdfClass")}:</div><div>${y?ya(y):""}</div>
        </div>
      </div>
    </div>
  </section>

  ${T||`<section class="card"><div class="field-body muted">${x("pdfNoObservations")}</div></section>`}

  ${S}

  <script>
    window.addEventListener('load', () => { setTimeout(() => { try { window.print(); } catch(e){} }, 300); });
    window.addEventListener('afterprint', () => { try { window.close(); } catch(e){} });
  <\/script>
</body>
</html>`}const M3=async(a,e,n=[],i,o)=>{const d=R3({child:a,observations:e,media:n,teacherName:i,schoolName:o}),u=window.open("","_blank");u&&(u.document.open(),u.document.write(d),u.document.close())},L3=({childId:a,userId:e})=>{const[n,i]=b.useState([]),[o,d]=b.useState(!0),[u,m]=b.useState(""),[f,p]=b.useState(!1),[y,v]=b.useState(null),[w,j]=b.useState(""),[S,T]=b.useState(""),[E,A]=b.useState("cognitive"),[D,_]=b.useState("medium"),[C,H]=b.useState(""),[V,$]=b.useState("");b.useEffect(()=>{B()},[a]);const B=async()=>{d(!0),m("");try{const L=await FS(a);i(L)}catch(L){m((L==null?void 0:L.message)||x("goalsLoadError"))}finally{d(!1)}},q=()=>{j(""),T(""),A("cognitive"),_("medium"),H(""),$(""),v(null),p(!1)},ae=async()=>{if(!w.trim()){alert("Ltfen hedef bal girin");return}try{await YS(a,e,w,E,{description:S,priority:D,target_date:C||void 0,notes:V}),await B(),q()}catch(L){alert("Hata: "+((L==null?void 0:L.message)||"Hedef eklenemedi"))}},M=async(L,I)=>{try{const K=I===100?"completed":I>0?"in_progress":"not_started";await KS(L,{progress:I,status:K}),await B()}catch(K){alert("Hata: "+((K==null?void 0:K.message)||"Hedef gncellenemedi"))}},P=async L=>{if(confirm("Bu hedefi silmek istediinizden emin misiniz?"))try{await ZS(L),await B()}catch(I){alert("Hata: "+((I==null?void 0:I.message)||"Hedef silinemedi"))}},R=L=>{switch(L){case"completed":return"bg-green-100 text-green-800 border-green-300";case"in_progress":return"bg-blue-100 text-blue-800 border-blue-300";case"not_started":return"bg-gray-100 text-gray-800 border-gray-300";case"cancelled":return"bg-red-100 text-red-800 border-red-300"}},ee=L=>{switch(L){case"completed":return` ${x("statusCompleted")}`;case"in_progress":return` ${x("statusInProgress")}`;case"not_started":return` ${x("statusNotStarted")}`;case"cancelled":return` ${x("statusCancelled")}`}},F=L=>{switch(L){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800"}},z=L=>{switch(L){case"high":return` ${x("priorityHigh")}`;case"medium":return` ${x("priorityMedium")}`;case"low":return` ${x("priorityLow")}`}};return o?r.jsx("p",{className:"text-gray-600",children:x("goalsLoading")}):u?r.jsx("p",{className:"text-red-600 bg-red-50 p-3 rounded-lg",children:u}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[" ",x("developmentGoals"),r.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",n.length,")"]})]}),r.jsx("button",{onClick:()=>p(!f),className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all text-sm font-medium hover:scale-105",children:f?` ${x("cancel")}`:` ${x("addGoal")}`})]}),f&&r.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/40 dark:to-purple-900/40 p-6 rounded-xl border-2 border-indigo-200 dark:border-indigo-800 space-y-4 goal-add-form-container",children:[r.jsx("h4",{className:"font-bold text-indigo-900 dark:text-indigo-200",children:x("addNewGoal")}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:[x("goalTitle")," *"]}),r.jsx("input",{type:"text",value:w,onChange:L=>j(L.target.value),placeholder:x("goalTitlePlaceholder"),className:"w-full px-4 py-2 border-2 border-indigo-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white text-gray-900"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:[x("developmentArea")," *"]}),r.jsx("select",{value:E,onChange:L=>A(L.target.value),className:"w-full px-4 py-2 border-2 border-indigo-200 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white text-gray-900",children:Object.entries(xt()).map(([L,I])=>r.jsx("option",{value:L,children:I},L))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:[x("priority")," *"]}),r.jsxs("select",{value:D,onChange:L=>_(L.target.value),className:"w-full px-4 py-2 border-2 border-indigo-200 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white text-gray-900",children:[r.jsxs("option",{value:"low",children:[" ",x("priorityLow")]}),r.jsxs("option",{value:"medium",children:[" ",x("priorityMedium")]}),r.jsxs("option",{value:"high",children:[" ",x("priorityHigh")]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:x("targetDate")}),r.jsx("input",{type:"date",value:C,onChange:L=>H(L.target.value),className:"w-full px-4 py-2 border-2 border-indigo-200 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white text-gray-900"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:x("descriptionLabel")}),r.jsx("textarea",{value:S,onChange:L=>T(L.target.value),placeholder:x("descriptionPlaceholder"),rows:3,className:"w-full px-4 py-2 border-2 border-indigo-200 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white text-gray-900"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:ae,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:shadow-lg transition-all font-medium",children:[" ",x("save")]}),r.jsx("button",{onClick:q,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-all",children:x("cancel")})]})]}),n.length===0?r.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700",children:[r.jsx("span",{className:"text-6xl mb-4 block",children:""}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:x("noGoalsYet")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:x("addGoalHint")})]}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.map(L=>r.jsxs("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-xl shadow-md border-2 border-gray-200 dark:border-gray-700 p-5 hover:shadow-xl transition-all goal-item-card",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:L.title}),L.description&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:L.description}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold border ${R(L.status)}`,children:ee(L.status)}),r.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold ${F(L.priority)}`,children:z(L.priority)}),r.jsxs("span",{className:"text-xs px-3 py-1 rounded-full font-semibold bg-purple-100 text-purple-800",children:[" ",xt()[L.domain]]}),L.target_date&&r.jsxs("span",{className:"text-xs px-3 py-1 rounded-full font-semibold bg-blue-100 text-blue-800",children:[" ",new Date(L.target_date).toLocaleDateString(Ma())]})]})]}),r.jsx("button",{onClick:()=>P(L.id),className:"text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg p-2 transition-all",title:"Sil",children:""})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"lerleme:"}),r.jsxs("span",{className:"font-bold text-indigo-600 dark:text-indigo-400",children:[L.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-600 to-purple-600 transition-all duration-300",style:{width:`${L.progress}%`}})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>M(L.id,Math.max(0,L.progress-10)),className:"flex-1 px-3 py-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200 rounded-lg text-sm font-medium transition-all text-gray-800",children:"-10%"}),r.jsx("button",{onClick:()=>M(L.id,Math.min(100,L.progress+10)),className:"flex-1 px-3 py-1 bg-indigo-100 hover:bg-indigo-200 text-indigo-700 rounded-lg text-sm font-medium transition-all",children:"+10%"}),r.jsx("button",{onClick:()=>M(L.id,100),className:"flex-1 px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm font-medium transition-all",children:" Tamamla"})]})]}),L.notes&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[r.jsx("span",{className:"font-semibold",children:"Not:"})," ",L.notes]})})]},L.id))})]})},sv=b.createContext(void 0),ta=({children:a})=>{const[e,n]=b.useState(null),[i,o]=b.useState(void 0),d=(m,f)=>{n(m),o(f)},u=()=>{n(null),o(void 0)};return r.jsxs(sv.Provider,{value:{openImage:d,closeImage:u},children:[a,e&&r.jsxs("div",{className:"fixed inset-0 z-[60] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:u,children:[r.jsx("button",{onClick:u,className:"absolute top-4 right-4 text-white/70 hover:text-white p-2 rounded-full hover:bg-white/10 transition-colors",children:r.jsx(Rr,{className:"w-8 h-8"})}),r.jsxs("div",{className:"relative max-w-full max-h-full flex flex-col items-center",onClick:m=>m.stopPropagation(),children:[r.jsx("img",{src:e,alt:i||"Full size view",className:"max-w-full max-h-[85vh] object-contain rounded-lg shadow-2xl"}),i&&r.jsx("p",{className:"mt-4 text-white text-lg font-medium text-center bg-black/50 px-4 py-2 rounded-full backdrop-blur-sm",children:i})]})]})]})},nv=()=>{const a=b.useContext(sv);if(!a)throw new Error("useImageViewer must be used within an ImageViewerProvider");return a},U3=({childId:a,childName:e,onClose:n})=>{const{openImage:i}=nv(),[o,d]=b.useState("observations"),[u,m]=b.useState([]),[f,p]=b.useState([]),[y,v]=b.useState(!0),[w,j]=b.useState({});b.useEffect(()=>{S()},[a]);const S=async()=>{v(!0);try{const[A,D]=await Promise.all([ES(a),VS(a)]);m(A||[]),p(D||[]);const _={};for(const C of D||[])try{_[C.id]=await Or(C.storage_path)}catch(H){console.error("Error loading media URL:",H)}j(_)}catch(A){console.error("Error loading family content:",A)}v(!1)},T=A=>new Date(A).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),E=A=>xt()[A]||A;return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden flex flex-col",children:[r.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:x("familyAddedContent")}),r.jsx("p",{className:"text-amber-100 text-sm",children:e})]})]}),r.jsx("button",{onClick:n,className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:""})]})}),r.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("button",{onClick:()=>d("observations"),className:`flex-1 py-4 px-6 font-medium transition-colors ${o==="observations"?"text-amber-600 border-b-2 border-amber-600 bg-amber-50 dark:bg-amber-900/20":"text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:[" ",x("observations")," (",u.length,")"]}),r.jsxs("button",{onClick:()=>d("media"),className:`flex-1 py-4 px-6 font-medium transition-colors ${o==="media"?"text-amber-600 border-b-2 border-amber-600 bg-amber-50 dark:bg-amber-900/20":"text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:[" ",x("media")," (",f.length,")"]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600"})}):o==="observations"?u.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:x("noObservationsYet")})]}):r.jsx("div",{className:"space-y-4",children:u.map(A=>r.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-amber-600",children:""}),r.jsx("span",{className:"text-xs font-medium text-amber-700 dark:text-amber-400 bg-amber-200 dark:bg-amber-800 px-2 py-0.5 rounded-full",children:"Family"})]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:T(A.created_at)})]}),r.jsx("p",{className:"text-gray-800 dark:text-gray-200 mb-3",children:A.note}),A.domains&&A.domains.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:A.domains.map(D=>r.jsx("span",{className:"text-xs px-2 py-1 bg-white dark:bg-gray-800 text-amber-700 dark:text-amber-300 rounded-full border border-amber-300 dark:border-amber-700",children:E(D)},D))})]},A.id))}):f.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:x("noPhotosYet")})]}):r.jsx("div",{className:"grid grid-cols-2 gap-4",children:f.map(A=>r.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl overflow-hidden border border-gray-200 dark:border-gray-600 shadow-sm",children:[A.type==="video"?r.jsx("video",{src:w[A.id],className:"w-full h-40 object-cover",controls:!0}):r.jsx("img",{src:w[A.id],alt:A.name,className:"w-full h-40 object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>i(w[A.id],A.name)}),r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-amber-600",children:""}),r.jsx("p",{className:"font-medium text-gray-800 dark:text-white text-sm truncate",children:A.name})]}),A.description&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:A.description}),r.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:T(A.created_at)})]})]},A.id))})})]})})},B3=({childId:a,childName:e})=>{const[n,i]=b.useState([]),[o,d]=b.useState(!0),[u,m]=b.useState(!1),[f,p]=b.useState(null),[y,v]=b.useState(!1),[w,j]=b.useState(!1),S=async()=>{d(!0);const C=await e_(a);i(C),d(!1)};b.useEffect(()=>{S()},[a]);const T=async()=>{m(!0);const C=await QN(a);C&&(p(C.invite_code),await S()),m(!1)},E=async C=>{await navigator.clipboard.writeText(C),v(!0),setTimeout(()=>v(!1),2e3)},A=async C=>{confirm(x("confirmRevokeLink"))&&(await t_(C),await S())},D=n.filter(C=>C.status==="approved"),_=n.filter(C=>C.status==="pending");return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:x("linkedFamilies")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-amber-500 text-white rounded-xl hover:bg-amber-600 transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),x("familyContent")]}),r.jsxs("button",{onClick:T,disabled:u,className:"px-4 py-2 bg-teal-600 text-white rounded-xl hover:bg-teal-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[u?r.jsx("span",{className:"animate-spin",children:""}):r.jsx("span",{children:""}),x("createInviteCode")]})]})]}),f&&r.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-xl border-2 border-teal-200 dark:border-teal-700",children:[r.jsx("p",{className:"text-sm text-teal-700 dark:text-teal-300 mb-2",children:x("inviteCodeCreated")}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("code",{className:"text-3xl font-mono font-bold tracking-widest text-teal-800 dark:text-teal-200 bg-white dark:bg-gray-800 px-4 py-2 rounded-lg",children:f}),r.jsx("button",{onClick:()=>E(f),className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:x(y?"copied":"copy")})]}),r.jsx("p",{className:"text-xs text-teal-600 dark:text-teal-400 mt-2",children:x("inviteCodeInstruction")})]}),o?r.jsx("div",{className:"text-center py-8 text-gray-500",children:x("loading")}):r.jsxs(r.Fragment,{children:[D.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:""})," ",x("linkedFamilies")]}),r.jsx("div",{className:"space-y-2",children:D.map(C=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-800 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:C.relationship==="parent"?x("parentRole"):C.relationship}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[x("linkedOn"),": ",new Date(C.created_at).toLocaleDateString(Ma())]})]})]}),r.jsx("button",{onClick:()=>A(C.id),className:"text-red-500 hover:text-red-700 text-sm font-medium",children:x("remove")})]},C.id))})]}),_.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-yellow-500",children:""})," ",x("pendingInvites")]}),r.jsx("div",{className:"space-y-2",children:_.map(C=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("code",{className:"font-mono font-bold text-yellow-700 dark:text-yellow-300 bg-yellow-100 dark:bg-yellow-800/50 px-3 py-1 rounded",children:C.invite_code}),r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:x("notUsedYet")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>C.invite_code&&E(C.invite_code),className:"px-3 py-1 text-teal-600 hover:bg-teal-100 dark:hover:bg-teal-900/30 rounded-lg transition-colors text-sm",children:""}),r.jsx("button",{onClick:()=>A(C.id),className:"px-3 py-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors text-sm",children:x("cancelInvite")})]})]},C.id))})]}),n.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-4xl mb-3",children:""}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:x("noFamiliesLinked")}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:x("createInviteInstruction")})]})]}),w&&r.jsx(U3,{childId:a,childName:e,onClose:()=>j(!1)})]})},P3=(a,e)=>{if(a)try{const n=((e||"")+" "+((a==null?void 0:a.summary)||"")).toLowerCase(),i=["basar","heves","bagimsiz","dogru","katilim","katildi","surdur","ilerle","artti","uzun sure","dengede","yerine yerlestirdi","sakin","tamamladi"],o=["kavga","vur","isir","firlat","kendine zarar","siddet","yaral"],d=["zorlan","yardim","hatirlatma","sinirli","kacin","tereddut","uyari","desteg","zorluk","mudahale","huzursuz","odaklanamad","dikkati dagild","kurala uymadi"];if(o.some(p=>n.includes(p)))return"high";if(i.some(p=>n.includes(p)))return"low";if(d.filter(p=>n.includes(p)).length>=3)return"medium";const m=(a==null?void 0:a.domain_scores)||{},f=Object.keys(m||{});if(f.length){const p=f.map(y=>Number(m[y])||0).reduce((y,v)=>y+v,0)/f.length;return p>=2.7?"low":p>=2.2?"medium":"high"}return(a==null?void 0:a.risk)||"low"}catch{return(a==null?void 0:a.risk)||void 0}},rv=a=>{if(!a)return"";const e=new Date(a),n=new Date;let i=n.getFullYear()-e.getFullYear(),o=n.getMonth()-e.getMonth();return n.getDate()<e.getDate()&&o--,o<0&&(i--,o+=12),Be()==="tr"?`${i} yl, ${o} ay`:`${i} yr, ${o} mo`},Mh=a=>{if(!a)return"";try{return new Intl.DateTimeFormat(Ma(),{day:"2-digit",month:"long",year:"numeric"}).format(new Date(a))}catch{return""}},$3=a=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...a,children:r.jsx("path",{d:"M12 5a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H6a1 1 0 110-2h5V6a1 1 0 011-1z"})}),V3=a=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...a,children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v4.59L7.3 9.7a.75.75 0 00-1.1 1.02l3.25 3.5a.75.75 0 001.1 0l3.25-3.5a.75.75 0 10-1.1-1.02l-1.95 2.1V6.75z",clipRule:"evenodd"})}),H3=a=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...a,children:[r.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),r.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),q3=({photoUrl:a,firstName:e,lastName:n,className:i="w-24 h-24"})=>{const o=`${(e==null?void 0:e.charAt(0))??""}${(n==null?void 0:n.charAt(0))??""}`.toUpperCase();return r.jsx("div",{className:`flex-shrink-0 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden ${i}`,children:a?r.jsx("img",{src:a,alt:`${e} ${n}`,className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-4xl font-bold text-gray-600",children:o})})},Ju=({children:a,className:e})=>r.jsx("span",{className:`inline-flex items-center rounded-md px-2.5 py-1 text-xs font-semibold ring-1 ring-inset ${e}`,children:a}),eh=({label:a,value:e,onClick:n})=>r.jsxs("div",{role:n?"button":void 0,tabIndex:n?0:void 0,onClick:n,onKeyDown:i=>{n&&(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),n())},className:`flex-1 rounded-lg bg-gray-50 dark:bg-[#1e2a47] px-4 py-3 text-center transition-colors border border-transparent dark:border-gray-700 ${n?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700/80 focus:outline-none focus:ring-2 focus:ring-primary/60 ring-1 ring-transparent transition":""}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a}),r.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white",children:e})]}),gr=({title:a,children:e,className:n,onEdit:i})=>r.jsxs("div",{className:`bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-6 group transition-colors border border-transparent dark:border-gray-700 ${n}`,children:[r.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 dark:border-gray-700 pb-3 mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:a}),i&&r.jsx("button",{onClick:i,"aria-label":`${a} blmn {t('edit')}`,className:"text-gray-400 hover:text-primary p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(H3,{className:"w-5 h-5"})})]}),e]}),Oi=({label:a,value:e})=>r.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a}),r.jsx("dd",{className:"text-sm text-gray-900 dark:text-gray-200 text-right",children:e||""})]}),th=({tags:a})=>!a||a.length===0?r.jsx("p",{className:"text-sm text-gray-500 italic",children:x("notAddedYet")}):r.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((e,n)=>r.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-sm font-medium text-primary",children:e},n))}),I3=({guardian:a})=>r.jsxs("div",{className:"rounded-md border border-gray-200 dark:border-gray-700 p-3",children:[r.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[a.name," ",r.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",a.relation,")"]})]}),a.phone&&r.jsx("a",{href:`tel:${a.phone}`,className:"text-sm text-primary hover:underline block mt-1",children:a.phone}),a.email&&r.jsx("a",{href:`mailto:${a.email}`,className:"text-sm text-primary hover:underline block",children:a.email})]}),G3=({data:a,onAddObservation:e,onExportPdf:n,onEdit:i,onChangePhoto:o,onRefreshInsights:d,onOpenMedia:u,onOpenObservations:m,onGenerateReport:f,isGeneratingReport:p})=>{var y,v;return r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-6 transition-colors",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx(q3,{photoUrl:a.photoUrl,firstName:a.firstName,lastName:a.lastName}),r.jsxs("label",{className:"absolute -bottom-2 right-0 bg-gray-900 border border-gray-700 rounded-md px-2 py-1 text-xs shadow cursor-pointer hover:bg-gray-800 text-white transition-colors",children:[x("changePhoto"),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:w=>{w.target.files&&w.target.files[0]&&o(w.target.files[0])}})]})]}),r.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[r.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:[a.firstName," ",a.lastName]}),r.jsxs("div",{className:"mt-3 flex flex-wrap justify-center sm:justify-start gap-2",children:[r.jsx(Ju,{className:"bg-gray-100 text-gray-700 ring-gray-600/20",children:rv(a.dob)}),a.classroom&&r.jsxs(Ju,{className:"bg-gray-100 text-gray-700 ring-gray-600/20",children:[x("classroom"),": ",a.classroom]}),r.jsxs(Ju,{className:"bg-gray-100 text-gray-700 ring-gray-600/20",children:[x("parentalConsent"),": ",a.consentObtained?x("consentYes"):x("consentPending")]})]})]}),r.jsxs("div",{className:"flex-shrink-0 flex flex-col sm:items-end gap-2 w-full sm:w-auto",children:[r.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[r.jsxs("button",{onClick:()=>e(a.id),className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2 bg-primary text-white rounded-md shadow-sm hover:bg-primary/90 transition-colors",children:[r.jsx($3,{className:"w-5 h-5"})," ",x("addObservation")]}),r.jsx("button",{onClick:()=>u&&u(),className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2 bg-primary text-white rounded-md shadow-sm hover:bg-primary/90 transition-colors",children:x("products")})]}),r.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[r.jsx("button",{onClick:i,"aria-label":x("edit"),className:"flex-1 sm:flex-auto px-3 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:x("edit")}),r.jsx("button",{onClick:d,"aria-label":x("refresh"),className:"flex-1 sm:flex-auto px-3 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:x("refresh")})]}),r.jsx("div",{className:"w-full",children:r.jsx("button",{onClick:()=>f&&f(a.id),disabled:a.stats.observations===0||p,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-md shadow-sm hover:from-purple-600 hover:to-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:p?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),x("generating")]}):r.jsxs(r.Fragment,{children:[r.jsx(V3,{className:"w-5 h-5"}),x("generateReport")]})})})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-2 px-4 sm:px-0",children:[r.jsx(eh,{label:x("totalObservations"),value:((y=a.stats)==null?void 0:y.observations)??"",onClick:()=>m&&m()}),r.jsx(eh,{label:x("mediaCount"),value:((v=a.stats)==null?void 0:v.products)??"",onClick:()=>u&&u()}),r.jsx(eh,{label:x("lastObservation"),value:Mh(a.lastObservationAt)})]}),r.jsx("div",{className:"h-4 bg-gradient-to-b from-gray-100 to-transparent rounded-b-lg mb-6"})]})},F3=({childId:a,navigate:e})=>{var ae,M;const{user:n}=ia(),[i,o]=b.useState(null),[d,u]=b.useState(null),[m,f]=b.useState(!0),[p,y]=b.useState(null),[v,w]=b.useState(!1),[j,S]=b.useState(!1),[T,E]=b.useState(!1),[A,D]=b.useState(!1),_=P=>P instanceof Error?P.message:"Bilinmeyen bir hata olutu.",C=b.useCallback(async()=>{if(n)try{f(!0),y(null);const{data:P,error:R}=await Z.from("children").select("*").eq("id",a).single();if(R||!P)throw R||new Error(x("childNotFound"));u(P);const ee=await Vo(a),F=await Xo(a),z=ee.map(xe=>({a:xe.assessments,note:xe.note})).filter(xe=>xe.a),L=z.map(xe=>P3(xe.a,xe.note)||"low"),I={low:0,medium:0,high:0};L.forEach(xe=>{I[xe]=(I[xe]||0)+1});let K="low";I.medium>=I.low&&I.medium>=I.high?K="medium":I.low>=I.medium&&I.low>=I.high?K="low":K="high";const te=ee.length>0?ee[0]:null,O=Array.from(new Set((z||[]).flatMap(xe=>{var Ae;return Array.isArray((Ae=xe==null?void 0:xe.a)==null?void 0:Ae.suggestions)?xe.a.suggestions.filter(ht=>typeof ht=="string"&&ht.trim()):[]}))).slice(0,8),J=ee.length,ce={cognitive:"math",language:"turkish",social_emotional:"social",fine_motor:"motor_health",gross_motor:"motor_health",self_care:"motor_health",turkish:"turkish",math:"math",science:"science",social:"social",motor_health:"motor_health",art:"art",music:"music"},de={};for(const xe of ee){const Ae=Array.isArray(xe==null?void 0:xe.domains)?xe.domains:[];for(const ht of Ae){const Rt=ce[ht]||ht;de[Rt]=(de[Rt]||0)+1}}const pe=Object.entries(de).sort((xe,Ae)=>Ae[1]-xe[1]).slice(0,2).map(([xe])=>xt()[xe]||xe),ke=I.low,ie=I.medium,oe=I.high,ue=Be()==="en"?oe>0?"signals indicate additional support needed in certain skill areas":ie>0?"there are areas to monitor during development":"skill acquisition is progressing as expected":oe>0?"belirli beceri alanlarnda ek destek ihtiyac sinyalleri mevcut":ie>0?"geliim srecinde izlenmesi gereken alanlar var":"beceri edinimi beklenen seyrinde ilerliyor",Ne=Be()==="en"?pe.length>0?`observations are primarily focused on **${pe.join("** and **")}**`:"observation areas show a balanced distribution":pe.length>0?`yaplan gzlemler arlkl olarak **${pe.join("** ve **")}** zerine younlamtr`:"gzlem alanlar dengeli bir dalm gstermektedir",he=Be()==="en"?`GENERAL STATUS: Based on the last ${J} observation data, ${Ne}. PROGRESS ANALYSIS: ${ue}.`:`GENEL DURUM: Son ${J} gzlem verisine gre, ${Ne}. SRE ANALZ: ${ue}.`,Ee={id:P.id,firstName:P.first_name,lastName:P.last_name,dob:P.dob,classroom:P.classroom,photoUrl:P.photo_url,consentObtained:P.consent_obtained,enrolledAt:P.created_at,lastObservationAt:te==null?void 0:te.created_at,stats:{observations:ee.length,products:F.length,risk:K},guardians:P.guardians||[],health:P.health||{allergies:[],notes:""},interests:P.interests||[],strengths:P.strengths||[],aiInsights:O,aiSummary:he};o(Ee)}catch(P){y(_(P))}finally{f(!1)}},[a,n]);b.useEffect(()=>(C(),window.addEventListener("datachanged",C),()=>window.removeEventListener("datachanged",C)),[C]);const H=async P=>{var R,ee,F;try{let z=null;if(d&&d.id===P)z=d;else{const{data:te,error:O}=await Z.from("children").select("*").eq("id",P).single();if(O||!te)throw O||new Error(x("childNotFound"));z=te}const L=await Vo(P),I=await Xo(P),K=await Promise.all((I||[]).map(async te=>{try{const O=await Or(te.storage_path,3600);return{...te,url:O}}catch{return te}}));await M3(z,L,K,`${((R=n==null?void 0:n.user_metadata)==null?void 0:R.first_name)??""} ${((ee=n==null?void 0:n.user_metadata)==null?void 0:ee.last_name)??""}`.trim(),((F=n==null?void 0:n.user_metadata)==null?void 0:F.school_name)??"")}catch(z){console.error(z),alert((z==null?void 0:z.message)||x("errorOccurred"))}},V=async P=>{if(!(!d||!n))try{S(!0);const R=await vS(n.id,d.id,P);await zh(d.id,{photo_url:R})}catch(R){console.error(R),alert(x("errorOccurred"))}finally{S(!1)}},$=async()=>{if(n)try{E(!0);const ee=(await Vo(a)).filter(z=>!z.dirty).filter(z=>z.assessments?String(z.assessments.summary||"").startsWith("Bu, yapay zeka servisi"):!0),F=new Set;for(const z of ee)try{const L=await pm(z.note,z.domains);if(Array.isArray(L.suggestions))for(const I of L.suggestions)typeof I=="string"&&I.trim()&&F.add(I.trim());await fc(z.id,n.id,{summary:L.summary,risk:L.risk,suggestions:L.suggestions||[],domain_scores:L.domain_scores})}catch(L){console.error("AI recompute failed for observation",z.id,L)}F.size>0&&i&&o({...i,aiInsights:Array.from(F).slice(0,5)}),await C()}finally{E(!1)}},B=async P=>{if(d){S(!0),y(null);try{await zh(d.id,P),w(!1)}catch(R){y(_(R))}finally{S(!1)}}},q=async P=>{if(!(!d||A))try{D(!0),y(null);const{generateReportDocx:R}=await Ar(async()=>{const{generateReportDocx:F}=await import("./docxGenerator-C7M0fLcO.js").then(z=>z.d);return{generateReportDocx:F}},[],import.meta.url),ee=await i_(P,Be());await R(ee,`${d.first_name} ${d.last_name}`),alert(x("reportSuccess")||"Report generated successfully!")}catch(R){console.error("Report generation error:",R),y(R.message||"Rapor oluturulurken bir hata olutu."),alert("Rapor oluturulurken bir hata olutu: "+(R.message||"Bilinmeyen hata"))}finally{D(!1)}};return m?r.jsx("p",{children:x("loading")}):p?r.jsx("p",{className:"text-red-500 my-4 bg-red-100 p-3 rounded-md",children:p}):i?r.jsxs(r.Fragment,{children:[r.jsx(G3,{data:i,onAddObservation:()=>e("add-observation",{childId:a}),onExportPdf:H,onEdit:()=>w(!0),onChangePhoto:V,onRefreshInsights:$,onOpenMedia:()=>e("media",{childId:a}),onOpenObservations:()=>e("child-observations",{childId:a}),onGenerateReport:q,isGeneratingReport:A}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[r.jsxs("div",{className:"lg:col-span-5 flex flex-col gap-6",children:[r.jsxs(gr,{title:x("basicInfo"),onEdit:()=>w(!0),children:[r.jsx(Oi,{label:x("nameSurname"),value:`${i.firstName} ${i.lastName}`}),r.jsx(Oi,{label:x("dob"),value:Mh(i.dob)}),r.jsx(Oi,{label:x("age"),value:rv(i.dob)}),r.jsx(Oi,{label:x("classroom"),value:i.classroom||""}),r.jsx(Oi,{label:x("enrollmentDate"),value:Mh(i.enrolledAt)})]}),r.jsx(gr,{title:x("interestsSection"),children:r.jsx(th,{tags:i.interests})}),r.jsx(gr,{title:x("strengthsSection"),children:r.jsx(th,{tags:i.strengths})})]}),r.jsxs("div",{className:"lg:col-span-7 flex flex-col gap-6",children:[r.jsx(gr,{title:x("guardiansSection"),children:i.guardians&&i.guardians.length>0?r.jsx("div",{className:"space-y-3",children:i.guardians.map((P,R)=>r.jsx(I3,{guardian:P},R))}):r.jsx("p",{className:"text-sm text-gray-500 italic",children:x("noGuardiansAdded")})}),r.jsxs(gr,{title:x("healthInfo"),children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300",children:x("allergies")}),r.jsx(th,{tags:((ae=i.health)==null?void 0:ae.allergies)||[]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300",children:x("importantNotes")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:((M=i.health)==null?void 0:M.notes)||""})]})]}),r.jsxs(gr,{title:x("aiInsights"),children:[i.aiSummary&&r.jsx("div",{className:"mb-4 p-3 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800 rounded-md shadow-sm ai-summary-container",children:r.jsx("p",{className:"text-sm text-indigo-900 dark:text-indigo-200 leading-relaxed font-medium",children:i.aiSummary})}),i.aiInsights&&i.aiInsights.length>0?r.jsx("ul",{className:"list-disc list-inside space-y-2 text-sm text-gray-700 dark:text-gray-300",children:i.aiInsights.map((P,R)=>r.jsx("li",{children:P},R))}):r.jsx("p",{className:"text-sm text-gray-500 italic",children:"Analiz edilecek yeterli gzlem yok."})]})]})]}),r.jsx("div",{className:"mt-8",children:r.jsx(L3,{childId:a,userId:(n==null?void 0:n.id)||""})}),r.jsx("div",{className:"mt-8",children:r.jsx(B3,{childId:a,childName:`${i.firstName} ${i.lastName}`})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 flex items-center justify-center p-4",onClick:()=>w(!1),children:r.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:P=>P.stopPropagation(),children:r.jsx(av,{formTitle:x("editChild"),initialData:d,isSaving:j,onSave:B,onCancel:()=>w(!1)})})})]}):r.jsx("p",{children:x("childNotFound")})},Zy=({childId:a,navigate:e,observationToEdit:n})=>{const{user:i}=ia(),[o,d]=b.useState(a),[u,m]=b.useState([]),[f,p]=b.useState(!1),[y,v]=b.useState(""),[w,j]=b.useState([]),[S,T]=b.useState("classroom"),[E,A]=b.useState(""),[D,_]=b.useState(!1),[C,H]=b.useState(!1),[V,$]=b.useState(null),B=!!n;b.useEffect(()=>{B&&n&&(v(n.note),j(n.domains),T(n.context||"classroom"),A((n.tags||[]).join(", ")),_(n.shared_with_family||!1),o||d(n.child_id))},[B,n]),b.useEffect(()=>{(async()=>{if(i){p(!0);try{const P=await wn(i.id);m(P||[])}catch(P){console.error(P)}finally{p(!1)}}})()},[i]);const q=M=>{j(P=>P.includes(M)?P.filter(R=>R!==M):[...P,M])},ae=async M=>{if(M.preventDefault(),!i||!y||!o){alert(x("errorOccurred"));return}if(w.length===0){alert(x("domainsRequired")||"Ltfen en az bir geliim alan sein.");return}H(!0);const P={child_id:o,note:y,domains:w,context:S,tags:E.split(",").map(R=>R.trim()).filter(Boolean),shared_with_family:D};try{if(B&&n)await Oh(n.id,P);else{const R=await Vb(P,i.id);navigator.onLine&&R&&R.id&&(async()=>{try{if(V)try{const{mediaId:F}=await Hb(o,V,{name:`Observation Photo - ${new Date().toISOString().split("T")[0]}`,description:"Gzlem ekli fotoraf",domain:w[0]});F&&await Oh(R.id,{media_ids:[F]})}catch(F){console.error("Attachment upload failed (background):",F)}const ee=await pm(y,w);await fc(R.id,i.id,{summary:ee.summary,risk:ee.risk,suggestions:ee.suggestions,domain_scores:ee.domain_scores}),console.log("AI analysis saved in background")}catch(ee){console.error("AI analysis failed (background):",ee)}})()}e("child-detail",{id:o})}catch(R){console.error(R),alert(x("errorOccurred"))}finally{H(!1)}};return r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:x(B?"editObservation":"addObservation")}),r.jsxs("form",{onSubmit:ae,className:"p-6 bg-white dark:bg-[#1a1a2e] rounded-lg shadow space-y-6 transition-colors",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"child_select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:x("child")||"ocuk"}),r.jsxs("select",{id:"child_select",value:o||"",onChange:M=>d(M.target.value),disabled:B||!!a,className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[r.jsx("option",{value:"",disabled:!0,children:x("selectChild")||"ocuk Sein..."}),u.map(M=>r.jsxs("option",{value:M.id,children:[M.first_name," ",M.last_name," (",M.classroom,")"]},M.id))]}),f&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x("loading"),"..."]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:x("observationNote")}),r.jsx("textarea",{id:"note",rows:6,value:y,onChange:M=>v(M.target.value),className:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:x("notePlaceholder"),required:!0})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:x("developmentDomains")}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:x("selectDomains")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(xt()).map(M=>{const P=M,R=w.includes(P);return r.jsx("button",{type:"button",onClick:()=>q(P),className:`px-3 py-1.5 text-sm rounded-full border ${R?"bg-primary text-white border-primary":"bg-white text-gray-700 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600"}`,children:xt()[P]},P)})})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"attach",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:x("attachPhotoOptional")}),r.jsx("input",{id:"attach",type:"file",accept:"image/*",onChange:M=>{var P;return $(((P=M.target.files)==null?void 0:P[0])||null)},className:"mt-1 block w-full text-sm text-gray-700 dark:text-gray-300 dark:file:bg-gray-700 dark:file:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"context",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:x("context")}),r.jsx("select",{id:"context",value:S,onChange:M=>T(M.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:Object.keys(zy()).map(M=>r.jsx("option",{value:M,children:zy()[M]},M))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:x("tags")}),r.jsx("input",{type:"text",id:"tags",value:E,onChange:M=>A(M.target.value),className:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:x("tagsPlaceholder")})]}),r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:[r.jsx("input",{type:"checkbox",id:"shareWithFamily",checked:D,onChange:M=>_(M.target.checked),className:"w-5 h-5 text-orange-500 bg-white border-gray-300 rounded focus:ring-orange-400 dark:bg-gray-700 dark:border-gray-600"}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"shareWithFamily",className:"font-medium text-gray-800 dark:text-white cursor-pointer",children:[" ",x("shareWithFamily")]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:x("shareWithFamilyDesc")})]})]}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{type:"button",onClick:()=>e(o?"child-detail":"dashboard",{id:o}),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-md",children:x("cancel")}),r.jsx("button",{type:"submit",disabled:C||w.length===0||!o,className:"px-4 py-2 bg-primary text-white rounded-md disabled:bg-gray-400",children:x(C?"loading":"save")})]})]})]})},Y3=({navigate:a})=>{var qs,mt,Is;const{user:e}=ia(),[n,i]=b.useState(((qs=e==null?void 0:e.user_metadata)==null?void 0:qs.first_name)??""),[o,d]=b.useState(((mt=e==null?void 0:e.user_metadata)==null?void 0:mt.last_name)??""),[u,m]=b.useState(((Is=e==null?void 0:e.user_metadata)==null?void 0:Is.school_name)??""),[f,p]=b.useState(!1),[y,v]=b.useState(""),[w,j]=b.useState(""),[S,T]=b.useState(!1),[E,A]=b.useState(""),[D,_]=b.useState(5),[C,H]=b.useState(150),[V,$]=b.useState(2),[B,q]=b.useState(2),[ae,M]=b.useState(()=>Be()==="en"?["Class A","Class B","Class C","Class D","Class E"]:["Snf A","Snf B","Snf C","Snf D","Snf E"]),[P,R]=b.useState(!1),[ee,F]=b.useState(!1),[z,L]=b.useState(""),[I,K]=b.useState(""),[te,O]=b.useState(!1),[J,ce]=b.useState(""),[de,pe]=b.useState(!1),[ke,ie]=b.useState(!1),[oe,ue]=b.useState(""),[Ne,he]=b.useState(!1),[Ee,xe]=b.useState(""),[Ae,ht]=b.useState(0),[Rt,$s]=b.useState(Be()),[Vs,Hs]=b.useState(()=>{try{return localStorage.getItem("theme")||"light"}catch{return"light"}});b.useEffect(()=>{const me=()=>{const ft=cl();ht(ft.length)};return me(),window.addEventListener("datachanged",me),()=>window.removeEventListener("datachanged",me)},[]);const Aa=me=>{Hs(me),localStorage.setItem("theme",me),document.documentElement.setAttribute("data-theme",me),window.location.reload()},rs=me=>{Wo(me),$s(me),window.location.reload()},fl=async()=>{p(!0),v(""),j("");try{const{error:me}=await Z.auth.updateUser({data:{first_name:n.trim(),last_name:o.trim(),school_name:u.trim()}});if(me)throw me;v(x("profileUpdateSuccess"))}catch(me){j((me==null?void 0:me.message)||x("errorOccurred"))}finally{p(!1)}};return r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:x("settings")}),r.jsxs("div",{className:"space-y-8 pb-32",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow transition-colors",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:x("appearanceAndMenu")}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg transition-colors",children:[r.jsx("span",{className:"text-gray-700 dark:text-gray-200 font-medium",children:x("theme")||"Tema"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>Aa("light"),className:`p-2 rounded-md transition-colors ${Vs==="light"?"bg-orange-500 text-white shadow":"text-gray-400 dark:text-gray-500"}`,children:r.jsx(Jb,{className:"w-6 h-6"})}),r.jsx("button",{onClick:()=>Aa("dark"),className:`p-2 rounded-md transition-colors ${Vs==="dark"?"bg-gray-600 text-white shadow":"text-gray-400 dark:text-gray-500"}`,children:r.jsx(Xb,{className:"w-6 h-6"})})]})]}),a&&r.jsxs("button",{onClick:()=>a("getting-started"),className:"flex items-center p-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors",type:"button",children:[r.jsx(Jo,{className:"w-6 h-6 mr-3"}),r.jsx("span",{className:"font-medium",children:x("gettingStarted")||"Balarken Rehberi"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow transition-colors",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:x("language")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:x("changeLanguageDesc")}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>rs("tr"),className:`px-4 py-2 rounded-lg font-medium transition ${Rt==="tr"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 dark:text-gray-300"}`,children:" Trke"}),r.jsx("button",{onClick:()=>rs("en"),className:`px-4 py-2 rounded-lg font-medium transition ${Rt==="en"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 dark:text-gray-300"}`,children:" English"})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow space-y-4 transition-colors",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:x("profile")}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[r.jsxs("strong",{children:[x("emailLabel"),":"]})," ",e==null?void 0:e.email]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",placeholder:x("teacherFirstName"),value:n,onChange:me=>i(me.target.value),className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),r.jsx("input",{type:"text",placeholder:x("teacherLastName"),value:o,onChange:me=>d(me.target.value),className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsx("input",{type:"text",placeholder:x("schoolName"),value:u,onChange:me=>m(me.target.value),className:"p-2 border rounded w-full dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),y&&r.jsx("p",{className:"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400 p-2 rounded",children:y}),w&&r.jsx("p",{className:"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-400 p-2 rounded",children:w}),r.jsx("div",{children:r.jsx("button",{onClick:fl,disabled:f,className:"px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark disabled:opacity-50",children:x(f?"loading":"save")})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow transition-colors",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:x("createDemoData")}),r.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:x("demoDataDesc")}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded disabled:bg-gray-400",disabled:S||!e,onClick:async()=>{if(e){T(!0),A("Balyor...");try{await FN(e.id,{classes:B,classNames:ae.slice(0,B),childrenPerClass:D,observationsPerChild:C,mediaPerChild:V,onProgress:me=>A(me)}),A("Tamamland.")}catch(me){A("Hata: "+((me==null?void 0:me.message)||"bilinmiyor"))}finally{T(!1)}}},children:x(S?"creating":"createDemoBtn")}),r.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded disabled:opacity-50",disabled:P||!e,onClick:async()=>{if(!(!e||!confirm("Demo verileri silinecek?"))){R(!0),K("Siliniyor...");try{await YN(e.id,{onProgress:me=>K(me)}),K("Bitti.")}catch(me){K("Hata: "+me.message)}finally{R(!1)}}},children:x("removeDemoBtn")})]}),r.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:E||I})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow transition-colors",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:x("aiInsights")}),r.jsx("button",{className:"mt-2 px-4 py-2 bg-primary text-white rounded disabled:bg-gray-400",disabled:te||!e,onClick:async()=>{if(e){O(!0),ce("Balyor...");try{await DS(e.id,{onProgress:me=>ce(me)}),ce("Tamamland.")}catch(me){ce("Hata: "+((me==null?void 0:me.message)||"bilinmiyor"))}finally{O(!1)}}},children:x(te?"creating":"recomputeBtn")}),J&&r.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:J})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[r.jsxs("button",{onClick:()=>pe(!de),className:"text-sm text-gray-500 dark:text-gray-400",children:[" ",x("advancedOps")," ",de?"":""]}),de&&r.jsxs("div",{className:"grid gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("button",{onClick:async()=>{if(e){ie(!0),ue("Hazrlanyor...");try{ue("ndirme balad..."),ue("Tamamland.")}catch(me){ue("Hata: "+me.message)}finally{ie(!1)}}},className:"px-3 py-1.5 bg-green-600 text-white rounded text-xs w-full text-left flex items-center",children:[" ",x("exportBtn")," (CSV)"]}),r.jsx("p",{className:"text-xs",children:oe})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[r.jsxs("button",{onClick:async()=>{if(e&&confirm(x("deleteAccountConfirm"))){F(!0),L(x("deleteAccountWarning")||"Siliniyor...");try{await KN(e.id,me=>L(me)),alert(x("accountDeleted")),window.location.reload()}catch(me){L("Hata: "+me.message),F(!1)}}},disabled:ee,className:"w-full flex items-center justify-center px-4 py-3 bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/40 transition-colors text-sm font-bold border border-red-200 dark:border-red-800",children:[" ",ee?z:x("deleteAccount")]}),ee&&r.jsx("p",{className:"text-xs text-red-500 mt-2 text-center animate-pulse",children:z})]})]})]}),r.jsx("div",{className:"pt-4",children:r.jsxs("button",{onClick:async()=>{if(confirm(x("signOutConfirm")||"k yapmak istediinize emin misiniz?")){try{await Z.auth.signOut()}catch{}try{sessionStorage.clear(),localStorage.clear()}catch{}window.location.reload()}},className:"w-full flex items-center justify-center px-6 py-4 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 border border-red-200 transition-all font-bold text-lg",children:[r.jsx(Qo,{className:"w-6 h-6 mr-2"}),x("signOut")]})})]})]})},K3=({childId:a})=>{const{user:e}=ia(),[n,i]=b.useState([]),[o,d]=b.useState(!0),[u,m]=b.useState(null),[f,p]=b.useState(!1),[y,v]=b.useState(null),[w,j]=b.useState(""),[S,T]=b.useState(""),[E,A]=b.useState(""),[D,_]=b.useState(!1),[C,H]=b.useState(!1),[V,$]=b.useState(null),[B,q]=b.useState(null),ae=b.useMemo(()=>Object.keys(xt()),[]),M=async()=>{try{d(!0),m(null);const I=await Xo(a),K=await Promise.all(I.map(async te=>{try{const O=await Or(te.storage_path,3600);return{...te,url:O}}catch{return te}}));i(K)}catch(I){m(I.message||"Error loading media")}finally{d(!1)}};b.useEffect(()=>{M();const I=()=>M();return window.addEventListener("datachanged",I),()=>window.removeEventListener("datachanged",I)},[a]);const P=()=>{v(null),j(""),T(""),A(""),_(!1)},R=async()=>{if(!(!e||!y||!w)){if(!E){m(x("productDomainRequired")||"Ltfen rn iin bir geliim alan sein.");return}H(!0),m(null);try{const{path:I,mediaId:K}=await Hb(a,y,{name:w.trim(),description:S.trim()||void 0,domain:E||void 0});D&&K&&await Wu(K,!0),p(!1),P(),M()}catch(I){m(I.message||"Upload failed")}finally{H(!1)}}},ee=I=>{$(I),q(null),j(I.name||""),T(I.description||""),A(I.domain||""),_(I.shared_with_family||!1)},F=async()=>{if(!(!e||!V)){if(!E){m(x("productDomainRequired")||"Ltfen rn iin bir geliim alan sein.");return}H(!0),m(null);try{await LS(V.id,a,{name:w.trim()||V.name,description:S.trim()||void 0,domain:E||void 0,file:B||void 0}),D!==(V.shared_with_family||!1)&&await Wu(V.id,D),$(null),P(),M()}catch(I){m(I.message||"Update failed")}finally{H(!1)}}},z=async I=>{if(confirm(x("confirmDeleteMessage")))try{await RS(I),M()}catch(K){console.error(K)}},L=async I=>{try{await Wu(I.id,!I.shared_with_family),M()}catch(K){console.error(K)}};return r.jsxs("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-lg shadow p-6 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:x("products")}),r.jsx("button",{onClick:()=>p(!0),className:"px-3 py-2 bg-primary text-white rounded-md hover:opacity-90 transition-opacity",children:x("uploadProduct")})]}),u&&r.jsx("p",{className:"text-sm text-red-600 mb-3",children:u}),o&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x("loading")}),!o&&n.length===0&&r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:x("noProductsAdded")}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(I=>r.jsxs("div",{className:"relative group border dark:border-gray-700 rounded-md overflow-hidden bg-gray-50 dark:bg-gray-800/50 hover:shadow-md transition-all",children:[I.shared_with_family&&r.jsxs("div",{className:"absolute top-2 left-2 z-10 px-2 py-1 bg-green-500 text-white text-xs rounded-full flex items-center gap-1",children:[r.jsx(A_,{className:"w-3 h-3"}),x("sharedWithFamily")]}),r.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-all z-10",children:[r.jsx("button",{onClick:()=>L(I),className:`p-2 rounded-full ${I.shared_with_family?"bg-green-100 dark:bg-green-900/50 text-green-600":"bg-white/80 dark:bg-black/60 text-gray-600 dark:text-gray-200"} hover:bg-green-200 dark:hover:bg-green-800/50 transition-all`,"aria-label":"toggle share",title:I.shared_with_family?x("sharedWithFamily"):x("shareWithFamily"),children:r.jsx(Qu,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>z(I),className:"p-2 rounded-full bg-white/80 dark:bg-black/60 text-gray-600 dark:text-gray-200 hover:bg-red-100 dark:hover:bg-red-900/50 hover:text-red-600 transition-all","aria-label":"delete",children:r.jsx(Rb,{className:"w-5 h-5"})})]}),r.jsx("button",{onClick:()=>ee(I),className:"absolute bottom-14 left-2 px-2 py-1 rounded bg-white/80 dark:bg-black/60 text-gray-700 dark:text-gray-200 opacity-0 group-hover:opacity-100 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm transition-all z-10",children:x("edit")}),I.url?r.jsx("img",{src:I.url,alt:I.name,className:"w-full h-40 object-cover"}):r.jsx("div",{className:"w-full h-40 bg-gray-200 dark:bg-gray-700"}),r.jsxs("div",{className:"p-3",children:[r.jsx("p",{className:"font-semibold text-gray-800 dark:text-white truncate",title:I.name,children:I.name}),I.description&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1 line-clamp-2",children:I.description}),I.domain&&r.jsx("span",{className:"mt-2 inline-block text-xs bg-primary/10 dark:bg-primary/20 text-primary dark:text-indigo-300 rounded-full px-2 py-1",children:xt()[I.domain]})]})]},I.id))}),f&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 flex items-center justify-center p-4 backdrop-blur-sm",onClick:()=>p(!1),children:r.jsxs("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-lg shadow-xl p-6 w-full max-w-lg transition-colors border dark:border-gray-700",onClick:I=>I.stopPropagation(),children:[r.jsx("h4",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:x("uploadProduct")}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:x("productName")}),r.jsx("input",{className:"mt-1 w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:x("productNamePlaceholder"),value:w,onChange:I=>j(I.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:x("productDescription")}),r.jsx("textarea",{className:"mt-1 w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3,placeholder:x("productDescriptionPlaceholder"),value:S,onChange:I=>T(I.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:x("productDomain")}),r.jsxs("select",{className:"mt-1 w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:E,onChange:I=>A(I.target.value),children:[r.jsx("option",{value:"",children:x("selectDomainPrompt")}),ae.map(I=>r.jsx("option",{value:I,children:xt()[I]},I))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:x("selectFile")}),r.jsx("input",{className:"mt-1 w-full text-gray-700 dark:text-gray-300",type:"file",accept:"image/*",onChange:I=>{var K;return v(((K=I.target.files)==null?void 0:K[0])||null)}}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:y?`${x("fileSelected")} ${y.name}`:x("noFileSelected")})]}),r.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:()=>_(!D),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${D?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:r.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${D?"translate-x-5":"translate-x-0"}`})}),r.jsxs("label",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[r.jsx(Qu,{className:"w-4 h-4"}),x("shareWithFamily")]})]})]}),u&&r.jsx("p",{className:"text-sm text-red-600 mb-3",children:u}),r.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[r.jsx("button",{className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 dark:text-gray-200 rounded",onClick:()=>{p(!1),P()},disabled:C,children:x("cancel")}),r.jsx("button",{className:"px-3 py-2 bg-primary text-white rounded disabled:bg-gray-400",onClick:R,disabled:C||!y||!w||!E,children:x(C?"loading":"save")})]})]})}),V&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 flex items-center justify-center p-4 backdrop-blur-sm",onClick:()=>$(null),children:r.jsxs("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-lg shadow-xl p-6 w-full max-w-lg transition-colors border dark:border-gray-700",onClick:I=>I.stopPropagation(),children:[r.jsx("h4",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:x("edit")}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:x("productName")}),r.jsx("input",{className:"mt-1 w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:w,onChange:I=>j(I.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:x("productDescription")}),r.jsx("textarea",{className:"mt-1 w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3,value:S,onChange:I=>T(I.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:x("productDomain")}),r.jsxs("select",{className:"mt-1 w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:E,onChange:I=>A(I.target.value),children:[r.jsx("option",{value:"",children:x("selectDomainPrompt")}),ae.map(I=>r.jsx("option",{value:I,children:xt()[I]},I))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:x("selectFile")}),r.jsx("input",{className:"mt-1 w-full text-gray-700 dark:text-gray-300",type:"file",accept:"image/*",onChange:I=>{var K;return q(((K=I.target.files)==null?void 0:K[0])||null)}}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:B?`${x("fileSelected")} ${B.name}`:x("noFileSelected")})]}),r.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:()=>_(!D),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${D?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:r.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${D?"translate-x-5":"translate-x-0"}`})}),r.jsxs("label",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[r.jsx(Qu,{className:"w-4 h-4"}),x("shareWithFamily")]})]})]}),u&&r.jsx("p",{className:"text-sm text-red-600 mt-3",children:u}),r.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[r.jsx("button",{className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 dark:text-gray-200 rounded",onClick:()=>$(null),disabled:C,children:x("cancel")}),r.jsx("button",{className:"px-3 py-2 bg-primary text-white rounded disabled:bg-gray-400",onClick:F,disabled:C||!w||!E,children:x(C?"loading":"save")})]})]})})]})},Z3=({childId:a,navigate:e})=>r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("button",{onClick:()=>e("child-detail",{id:a}),className:"mr-3 p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"rnler"})]}),r.jsx(K3,{childId:a})]}),W3=({name:a})=>r.jsx("span",{className:"inline-block px-2 py-0.5 rounded-full text-xs bg-blue-50 text-blue-700 border border-blue-100",children:xt()[a]||a}),X3=({childId:a,navigate:e})=>{const[n,i]=b.useState([]),[o,d]=b.useState(!0),[u,m]=b.useState(null),[f,p]=b.useState(""),[y,v]=b.useState(new Set),[w,j]=b.useState(null),[S,T]=b.useState(""),[E,A]=b.useState([]),[D,_]=b.useState({});b.useEffect(()=>{(async()=>{try{d(!0);const[M,P]=await Promise.all([Vo(a),Xo(a)]);i(M),A(P);const R={};for(const ee of P)try{const F=await Or(ee.storage_path);R[ee.id]=F}catch(F){console.error("Media URL alnamad:",ee.id,F)}_(R)}catch(M){m((M==null?void 0:M.message)||"Hata")}finally{d(!1)}})()},[a]);const C=b.useMemo(()=>Object.keys(xt()),[]),H=b.useMemo(()=>{const M=f.trim().toLocaleLowerCase("tr-TR"),P=y.size>0;return n.filter(R=>{const ee=(R.note||"").toLocaleLowerCase("tr-TR"),F=!M||ee.includes(M),z=R.domains||[],L=!P||z.some(I=>y.has(I));return F&&L})},[n,f,y]),V=b.useMemo(()=>{const M={turkish:[],math:[],science:[],social:[],motor_health:[],art:[],music:[]};for(const P of H){const R=P.domains||[];for(const ee of R)M[ee]&&M[ee].push(P)}return M},[H]),$=M=>{v(P=>{const R=new Set(P);return R.has(M)?R.delete(M):R.add(M),R})},B=()=>{p(""),v(new Set)},q=async M=>{if(confirm("Bu gzlemi silmek istediinizden emin misiniz? Bu ilem geri alnamaz."))try{await CS(M),i(P=>P.filter(R=>R.id!==M)),alert(" Gzlem baaryla silindi")}catch(P){alert(" Gzlem silinirken hata olutu: "+((P==null?void 0:P.message)||"Bilinmeyen hata"))}},ae=async(M,P)=>{try{await Oh(M,{shared_with_family:!P}),i(R=>R.map(ee=>ee.id===M?{...ee,shared_with_family:!P}:ee))}catch(R){alert(" Paylam durumu gncellenirken hata: "+((R==null?void 0:R.message)||"Bilinmeyen hata"))}};return r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("button",{className:"px-3 py-2 bg-gray-200 rounded",onClick:()=>e("child-detail",{id:a}),children:"Geri"}),r.jsx("h1",{className:"text-xl font-bold",children:"Kaydedilen Gzlemler"}),r.jsx("button",{className:"px-3 py-2 bg-primary text-white rounded",onClick:()=>e("add-observation",{childId:a}),children:x("addObservation")})]}),o&&r.jsx("p",{children:x("loading")}),u&&r.jsx("p",{className:"text-red-600",children:u}),!o&&n.length===0&&r.jsx("p",{className:"text-gray-500",children:"Gzlem bulunamad."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[r.jsx("aside",{className:"md:col-span-4 lg:col-span-3",children:r.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[r.jsx("h2",{className:"font-semibold mb-2",children:"Filtreler"}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Ara"}),r.jsx("input",{className:"w-full border rounded px-2 py-1.5",placeholder:"notlarda ara...",value:f,onChange:M=>p(M.target.value)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"block text-sm text-gray-700 mb-1",children:"Beceri Alanlari"}),r.jsx("div",{className:"space-y-2 max-h-48 overflow-auto pr-1",children:C.map(M=>r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:y.has(M),onChange:()=>$(M)}),r.jsx("span",{children:xt()[M]})]},M))})]}),r.jsx("div",{className:"mt-3 flex gap-2",children:r.jsx("button",{className:"px-3 py-1.5 bg-gray-200 rounded",onClick:B,children:"Temizle"})})]})}),r.jsxs("section",{className:"md:col-span-8 lg:col-span-9",children:[f||y.size>0?r.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[H.length," sonuc"]}):null,C.map(M=>{if(y.size>0&&!y.has(M))return null;const P=V[M]||[];return P.length===0?null:r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:xt()[M]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",P.length,")"]})]}),r.jsx("div",{className:"space-y-3",children:P.map(R=>r.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between gap-2",children:r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2 flex-wrap",children:[new Date(R.created_at).toLocaleString("tr-TR"),R.domains&&R.domains.length>0&&r.jsx("span",{className:"flex items-center gap-1",children:R.domains.map((ee,F)=>r.jsx(W3,{name:ee},F))})]})}),r.jsx("p",{className:"mt-2 text-gray-800 whitespace-pre-wrap",children:R.note}),R.media_ids&&R.media_ids.length>0&&r.jsx("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-2",children:R.media_ids.map(ee=>{const F=D[ee],z=E.find(L=>L.id===ee);return F?r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:F,alt:(z==null?void 0:z.name)||"Gzlem fotoraf",className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200 group-hover:border-indigo-400 transition-all cursor-pointer shadow-sm",onClick:()=>window.open(F,"_blank")}),(z==null?void 0:z.name)&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs p-1 rounded-b-lg truncate",children:z.name})]},ee):null})}),r.jsxs("div",{className:"mt-3 flex gap-2 flex-wrap",children:[r.jsxs("button",{className:"px-3 py-1.5 bg-blue-50 hover:bg-blue-100 text-blue-700 border border-blue-200 rounded transition-colors",onClick:()=>e("edit-observation",{observation:R,childId:a}),children:[" ",x("edit")]}),r.jsx("button",{className:`px-3 py-1.5 rounded transition-colors border ${R.shared_with_family?"bg-orange-50 hover:bg-orange-100 text-orange-700 border-orange-200":"bg-gray-50 hover:bg-gray-100 text-gray-600 border-gray-200"}`,onClick:()=>ae(R.id,R.shared_with_family||!1),title:R.shared_with_family?x("sharing"):x("notSharing"),children:R.shared_with_family?` ${x("sharing")}`:` ${x("notSharing")}`}),r.jsx("button",{className:"px-3 py-1.5 bg-red-50 hover:bg-red-100 text-red-700 border border-red-200 rounded transition-colors",onClick:()=>q(R.id),children:" Sil"})]})]},`${M}-${R.id}`))})]},M)}),C.every(M=>y.size>0&&!y.has(M)||(V[M]||[]).length===0)&&r.jsx("p",{className:"text-gray-500",children:"Sonu bulunamad."})]})]})]})},Q3=({navigate:a,childId:e,classroom:n})=>{const{user:i}=ia(),[o,d]=b.useState([]),[u,m]=b.useState(""),[f,p]=b.useState(!1),[y,v]=b.useState(e?"child":n?"class":"general"),[w,j]=b.useState(e),[S,T]=b.useState(n),[E,A]=b.useState([]),[D,_]=b.useState([]),[C,H]=b.useState(null),[V,$]=b.useState(!1),[B,q]=b.useState(!1),[ae,M]=b.useState(null),[P,R]=b.useState(""),[ee,F]=b.useState("threads");b.useEffect(()=>{(async()=>{if(!i)return;const{data:ie}=await Z.from("children").select("id, first_name, last_name, classroom").eq("user_id",i.id);A(ie||[]),await z()})()},[i]);const z=async()=>{if(i){$(!0);try{const ie=await Ib(i.id);_(ie)}finally{$(!1)}}},L=async ie=>{H(ie),v(ie.mode),T(ie.classroom||void 0),j(ie.child_id||void 0),q(!0);try{const oe=await IS(ie.id);d((oe||[]).map(ue=>({role:ue.role,content:ue.content,at:ue.created_at}))),F("chat")}finally{q(!1)}},I=b.useMemo(()=>{const ie=new Set;for(const oe of E)oe.classroom&&ie.add(oe.classroom);return Array.from(ie).sort((oe,ue)=>oe.localeCompare(ue,"tr-TR"))},[E]),K=async()=>{if(!i)return;const ie=u.trim();if(!ie||f)return;p(!0);const oe=new Date().toISOString();d(ue=>[...ue,{role:"user",content:ie,at:oe}]),m("");try{let ue=C;if(!ue){const Ae=ie.length>50?ie.slice(0,50)+"":ie;ue=await HS({userId:i.id,title:Ae,mode:y,classroom:S,childId:w}),H(ue),await z()}await Vy({threadId:ue.id,userId:i.id,role:"user",content:ie});const Ne={message:ie,mode:y,history:o.slice(-6)};y==="child"&&w&&(Ne.childId=w),y==="class"&&S&&(Ne.classroom=S);const he=await GS(Ne),Ee=he&&he.reply||"Yant alnamad.",xe=new Date().toISOString();d(Ae=>[...Ae,{role:"assistant",content:String(Ee),at:xe}]),await Vy({threadId:ue.id,userId:i.id,role:"assistant",content:String(Ee)}),await z()}catch(ue){const Ne=`Hata: ${(ue==null?void 0:ue.message)||ue}`;d(he=>[...he,{role:"assistant",content:Ne,at:new Date().toISOString()}])}finally{p(!1)}},te=()=>{H(null),d([]),v(e?"child":n?"class":"general"),j(e),T(n),F("chat")},O=(ie,oe)=>{oe.stopPropagation(),M(ie.id),R(ie.title)},J=async ie=>{if(ie.stopPropagation(),!(!ae||!P.trim())){try{await qS(ae,P.trim()),await z(),(C==null?void 0:C.id)===ae&&H({...C,title:P.trim()})}catch(oe){console.error("Thread gncellenemedi:",oe)}M(null),R("")}},ce=ie=>{ie.stopPropagation(),M(null),R("")},de=async(ie,oe)=>{if(oe.stopPropagation(),!!confirm(`"${ie.title}" ${x("confirmDeleteChat")}`))try{await Gb(ie.id),(C==null?void 0:C.id)===ie.id&&(H(null),d([])),await z()}catch(ue){console.error("Thread silinemedi:",ue)}},pe=b.useRef(null),ke=()=>{var ie;(ie=pe.current)==null||ie.scrollIntoView({behavior:"smooth"})};return b.useEffect(()=>{ke()},[o,f]),r.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-140px)] flex gap-6",children:[r.jsxs("aside",{className:`w-full md:w-80 flex-shrink-0 bg-white dark:bg-[#1a1a2e] rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 flex flex-col overflow-hidden transition-colors ${ee==="chat"?"hidden md:flex":"flex"}`,children:[r.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50",children:r.jsxs("button",{onClick:te,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl shadow-md hover:shadow-lg hover:translate-y-[-1px] transition-all font-medium",children:[r.jsx(ec,{className:"w-5 h-5"}),x("newChat")]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:V?r.jsx("div",{className:"text-center py-8 text-gray-500 animate-pulse",children:x("loading")}):D.length===0?r.jsxs("div",{className:"text-center py-10 text-gray-400",children:[r.jsx(C_,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),r.jsx("p",{className:"text-sm",children:x("noChatYet")})]}):D.map(ie=>r.jsxs("div",{className:`group relative rounded-xl transition-all duration-200 border border-transparent ${(C==null?void 0:C.id)===ie.id?"bg-orange-50 dark:bg-orange-900/20 border-orange-100 dark:border-orange-800/50":"hover:bg-gray-50 dark:hover:bg-gray-800/50"}`,children:[ae===ie.id?r.jsxs("div",{className:"p-2 flex items-center gap-1",onClick:oe=>oe.stopPropagation(),children:[r.jsx("input",{type:"text",value:P,onChange:oe=>R(oe.target.value),className:"flex-1 border-gray-200 dark:border-gray-600 rounded-lg px-2 py-1.5 text-sm focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white",autoFocus:!0,onKeyDown:oe=>{oe.key==="Enter"&&J(oe),oe.key==="Escape"&&ce(oe)}}),r.jsx("button",{onClick:J,className:"p-1 text-green-600 hover:bg-green-50 rounded",children:r.jsx(Kb,{className:"w-4 h-4"})}),r.jsx("button",{onClick:ce,className:"p-1 text-gray-500 hover:bg-gray-50 rounded",children:r.jsx(Rr,{className:"w-4 h-4"})})]}):r.jsxs("button",{className:"w-full text-left p-3 pr-8",onClick:()=>L(ie),children:[r.jsx("div",{className:`text-sm font-semibold truncate mb-0.5 ${(C==null?void 0:C.id)===ie.id?"text-orange-700 dark:text-orange-400":"text-gray-700 dark:text-gray-200"}`,children:ie.title}),r.jsx("div",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-medium",children:new Date(ie.updated_at).toLocaleDateString(Ma(),{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),ae!==ie.id&&r.jsxs("div",{className:"absolute right-2 top-3 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg shadow-sm",children:[r.jsx("button",{onClick:oe=>O(ie,oe),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-md transition-colors",title:x("edit"),children:r.jsx(Qb,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:oe=>de(ie,oe),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-md transition-colors",title:x("delete"),children:r.jsx(tl,{className:"w-3.5 h-3.5"})})]})]},ie.id))})]}),r.jsxs("main",{className:`flex-1 bg-white dark:bg-[#1a1a2e] rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 flex flex-col overflow-hidden transition-colors relative ${ee==="threads"?"hidden md:flex":"flex"}`,children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 bg-white/80 dark:bg-[#1a1a2e]/80 backdrop-blur-md z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3 sticky top-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>F("threads"),className:"md:hidden p-2 -ml-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:r.jsx(m_,{className:"w-5 h-5"})}),r.jsxs("h1",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx("span",{className:"w-7 h-7 md:w-8 md:h-8 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 flex items-center justify-center text-sm md:text-base",children:""}),x("aiAssistant")]})]}),r.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm bg-gray-50 dark:bg-gray-800/50 p-1 rounded-lg w-full md:w-auto",children:[r.jsx("button",{onClick:()=>v("general"),className:`flex-1 md:flex-none px-2 md:px-3 py-1.5 rounded-md transition-all text-center ${y==="general"?"bg-white dark:bg-gray-700 shadow-sm text-gray-900 dark:text-white font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,children:x("general")}),r.jsx("button",{onClick:()=>v("class"),className:`flex-1 md:flex-none px-2 md:px-3 py-1.5 rounded-md transition-all text-center ${y==="class"?"bg-white dark:bg-gray-700 shadow-sm text-gray-900 dark:text-white font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,children:x("classroom")}),r.jsx("button",{onClick:()=>v("child"),className:`flex-1 md:flex-none px-2 md:px-3 py-1.5 rounded-md transition-all text-center ${y==="child"?"bg-white dark:bg-gray-700 shadow-sm text-gray-900 dark:text-white font-medium":"text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,children:x("child")})]})]}),y!=="general"&&r.jsxs("div",{className:"px-6 py-3 bg-orange-50/50 dark:bg-orange-900/10 border-b border-orange-100 dark:border-orange-800/30 flex gap-4 animate-fade-in",children:[y==="class"&&r.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-xs",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:[x("selectClass"),":"]}),r.jsxs("select",{value:S||"",onChange:ie=>T(ie.target.value),className:"w-full border-gray-300 dark:border-gray-600 rounded-lg text-sm py-2 px-3 focus:ring-orange-500 focus:border-orange-500 dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"",children:x("selectClass")}),I.map(ie=>r.jsx("option",{value:ie,children:ie},ie))]})]}),y==="child"&&r.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-xs",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:[x("selectChild"),":"]}),r.jsxs("select",{value:w||"",onChange:ie=>j(ie.target.value),className:"w-full border-gray-300 dark:border-gray-600 rounded-lg text-sm py-2 px-3 focus:ring-orange-500 focus:border-orange-500 dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"",children:x("selectChild")}),E.map(ie=>r.jsxs("option",{value:ie.id,children:[ie.first_name," ",ie.last_name]},ie.id))]})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 scroll-smooth",children:[B?r.jsx("div",{className:"flex justify-center items-center h-full",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):o.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400 opacity-60",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-gray-800 rounded-3xl flex items-center justify-center mb-4",children:r.jsx("span",{className:"text-4xl",children:""})}),r.jsx("p",{className:"text-lg font-medium text-gray-500 dark:text-gray-400",children:x("askAnything")}),r.jsx("p",{className:"text-sm max-w-md mt-2",children:x("noteDisclaimer")})]}):o.map((ie,oe)=>{var ue;return r.jsxs("div",{className:`flex gap-4 ${ie.role==="user"?"justify-end":"justify-start"}`,children:[ie.role==="assistant"&&r.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center text-lg flex-shrink-0 mt-2 text-orange-600",children:""}),r.jsxs("div",{className:"max-w-[75%] space-y-1",children:[r.jsx("div",{className:`px-5 py-3.5 rounded-2xl shadow-sm text-sm leading-relaxed ${ie.role==="user"?"bg-orange-500 text-white rounded-tr-none":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-100 rounded-tl-none border border-gray-200 dark:border-gray-700"}`,children:r.jsx("div",{className:"whitespace-pre-wrap",children:ie.content})}),r.jsx("div",{className:`text-[11px] text-gray-400 dark:text-gray-500 ${ie.role==="user"?"text-right pr-1":"pl-1"}`,children:new Date(ie.at).toLocaleTimeString(Ma(),{hour:"2-digit",minute:"2-digit"})})]}),ie.role==="user"&&r.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-sm font-bold text-gray-600 dark:text-gray-300 flex-shrink-0 mt-2",children:((ue=i==null?void 0:i.email)==null?void 0:ue.charAt(0).toUpperCase())||"U"})]},oe)}),f&&r.jsxs("div",{className:"flex gap-4 justify-start",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center text-lg flex-shrink-0 text-orange-600",children:""}),r.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-2xl rounded-tl-none px-4 py-3 border border-gray-200 dark:border-gray-700 flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),r.jsx("div",{ref:pe})]}),r.jsxs("div",{className:"p-4 bg-white dark:bg-[#1a1a2e] border-t border-gray-100 dark:border-gray-700",children:[r.jsxs("div",{className:"relative flex gap-2",children:[r.jsx("textarea",{value:u,onChange:ie=>m(ie.target.value),onKeyDown:ie=>{ie.key==="Enter"&&!ie.shiftKey&&(ie.preventDefault(),K())},rows:1,className:"flex-1 w-full border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-3 pr-12 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500 resize-none min-h-[50px] max-h-[120px]",placeholder:x("typeMessage"),style:{height:"auto",overflow:"hidden"}}),r.jsx("button",{onClick:K,disabled:f||!u.trim(),className:"absolute right-2 bottom-2 p-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg disabled:opacity-50 disabled:hover:bg-orange-500 transition-colors shadow-sm",children:r.jsx(H_,{className:"w-5 h-5 -rotate-90"})})]}),r.jsx("div",{className:"text-center mt-2 text-xs text-gray-400 dark:text-gray-500",children:x("noteDisclaimer")})]})]})]})},J3=({navigate:a})=>{const{user:e}=ia(),[n,i]=b.useState([]),[o,d]=b.useState(new Map),[u,m]=b.useState([]),[f,p]=b.useState(new Date().toISOString().split("T")[0]),[y,v]=b.useState(!0),[w,j]=b.useState(!1),[S,T]=b.useState(""),[E,A]=b.useState(null),[D,_]=b.useState(""),[C,H]=b.useState(null);b.useEffect(()=>{e&&(V(),$())},[e,f]);const V=async()=>{if(e){v(!0),T("");try{const[K,te]=await Promise.all([wn(e.id),WS(e.id,f)]);i(K),m(te);const O=new Map;te.forEach(J=>{O.set(J.child_id,J.status)}),d(O)}catch(K){T((K==null?void 0:K.message)||x("dataLoadFailed"))}finally{v(!1)}}},$=async()=>{if(e)try{const K=new Date,te=new Date(K.getFullYear(),K.getMonth(),1).toISOString().split("T")[0],O=new Date(K.getFullYear(),K.getMonth()+1,0).toISOString().split("T")[0],J=await QS(e.id,te,O);A(J)}catch(K){console.error("Stats error:",K)}},B=(K,te)=>{const O=new Map(o);O.set(K,te),d(O)},q=async()=>{if(e){j(!0),T("");try{const K=Array.from(o.entries()).map(([te,O])=>({childId:te,userId:e.id,date:f,status:O}));await XS(K),await V(),await $(),alert(" "+x("attendanceSaved"))}catch(K){T((K==null?void 0:K.message)||x("attendanceSaveFailed")),alert(" "+x("errorOccurred")+": "+((K==null?void 0:K.message)||x("attendanceSaveFailed")))}finally{j(!1)}}},ae=K=>{const te=new Map;F.forEach(O=>{te.set(O.id,K)}),d(te)},M=K=>{if(!K)return"bg-gray-100 border-gray-300 text-gray-500";switch(K){case"present":return"bg-green-100 border-green-500 text-green-800";case"absent":return"bg-red-100 border-red-500 text-red-800";case"late":return"bg-yellow-100 border-yellow-500 text-yellow-800";case"excused":return"bg-blue-100 border-blue-500 text-blue-800"}},P=K=>{if(!K)return"";switch(K){case"present":return"";case"absent":return"";case"late":return"";case"excused":return""}},R=K=>{if(!K)return x("unmarked");switch(K){case"present":return x("present");case"absent":return x("absent");case"late":return x("late");case"excused":return x("excused")}},ee=[...new Set(n.map(K=>K.classroom).filter(Boolean))],F=n.filter(K=>{if(D&&K.classroom!==D)return!1;if(C){const te=o.get(K.id);if(C==="present"||C==="absent"||C==="late"||C==="excused")return te===C}return!0}),z=Array.from(o.values()).filter(K=>K==="present").length,L=Array.from(o.values()).filter(K=>K==="absent").length,I=Array.from(o.values()).filter(K=>K==="late").length;return Array.from(o.values()).filter(K=>K==="excused").length,n.length-o.size,new Date().toISOString().split("T")[0],y?r.jsx("p",{className:"text-gray-600",children:x("loading")}):S?r.jsx("p",{className:"text-red-600 bg-red-50 p-3 rounded-lg",children:S}):r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-orange-500 via-orange-600 to-amber-600 rounded-2xl p-6 text-white shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[" ",x("attendanceSystem")]}),r.jsx("p",{className:"text-white/80 mt-1",children:x("dailyAttendanceTracking")})]}),E&&r.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 text-center",children:[r.jsxs("div",{className:"text-4xl font-bold",children:[E.attendanceRate,"%"]}),r.jsx("div",{className:"text-sm mt-1",children:x("thisMonthAttendance")})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[r.jsxs("button",{onClick:()=>H(C==="present"?null:"present"),className:`bg-white/10 backdrop-blur-sm rounded-lg p-3 text-center transition-all hover:bg-white/20 hover:scale-105 ${C==="present"?"ring-4 ring-white/50 scale-105":""}`,children:[r.jsx("div",{className:"text-2xl font-bold",children:z}),r.jsxs("div",{className:"text-sm opacity-80",children:[" ",x("present")]}),C==="present"&&r.jsx("div",{className:"text-xs mt-1 bg-white/30 rounded px-2 py-0.5 inline-block",children:x("filtering")})]}),r.jsxs("button",{onClick:()=>H(C==="absent"?null:"absent"),className:`bg-white/10 backdrop-blur-sm rounded-lg p-3 text-center transition-all hover:bg-white/20 hover:scale-105 ${C==="absent"?"ring-4 ring-white/50 scale-105":""}`,children:[r.jsx("div",{className:"text-2xl font-bold",children:L}),r.jsxs("div",{className:"text-sm opacity-80",children:[" ",x("absent")]}),C==="absent"&&r.jsx("div",{className:"text-xs mt-1 bg-white/30 rounded px-2 py-0.5 inline-block",children:x("filtering")})]}),r.jsxs("button",{onClick:()=>H(C==="late"?null:"late"),className:`bg-white/10 backdrop-blur-sm rounded-lg p-3 text-center transition-all hover:bg-white/20 hover:scale-105 ${C==="late"?"ring-4 ring-white/50 scale-105":""}`,children:[r.jsx("div",{className:"text-2xl font-bold",children:I}),r.jsxs("div",{className:"text-sm opacity-80",children:[" ",x("late")]}),C==="late"&&r.jsx("div",{className:"text-xs mt-1 bg-white/30 rounded px-2 py-0.5 inline-block",children:x("filtering")})]}),r.jsxs("button",{onClick:()=>H(null),className:`bg-white/10 backdrop-blur-sm rounded-lg p-3 text-center transition-all hover:bg-white/20 hover:scale-105 ${C?"":"ring-4 ring-white/50 scale-105"}`,children:[r.jsx("div",{className:"text-2xl font-bold",children:n.length}),r.jsxs("div",{className:"text-sm opacity-80",children:[" ",x("allItems")]}),!C&&r.jsx("div",{className:"text-xs mt-1 bg-white/30 rounded px-2 py-0.5 inline-block",children:x("fullList")})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-xl shadow-md p-6 space-y-4 transition-colors border border-transparent dark:border-gray-700",children:[r.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[r.jsxs("div",{className:"flex-1 min-w-[200px]",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:x("selectDate")}),r.jsx("input",{type:"date",value:f,onChange:K=>p(K.target.value),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),ee.length>0&&r.jsxs("div",{className:"flex-1 min-w-[200px]",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:x("filterClass")}),r.jsxs("select",{value:D,onChange:K=>_(K.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[r.jsx("option",{value:"",children:x("allClasses")}),ee.map(K=>r.jsx("option",{value:K,children:K},K))]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 pt-4 border-t dark:border-gray-700",children:[r.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mr-2",children:[x("quickAction"),":"]}),r.jsxs("button",{onClick:()=>ae("present"),className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-all text-sm font-medium border border-transparent dark:border-green-800",children:[" ",x("markAllPresent")]}),r.jsxs("button",{onClick:()=>ae("absent"),className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-all text-sm font-medium border border-transparent dark:border-red-800",children:[" ",x("markAllAbsent")]})]})]}),C&&r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/40 dark:to-amber-900/40 border-2 border-orange-200 dark:border-orange-700 rounded-xl p-4 flex items-center justify-between shadow-md",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-2xl",children:[C==="present"&&"",C==="absent"&&"",C==="late"&&"",C==="excused"&&""]}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-bold text-gray-900 dark:text-white",children:["Filtre: ",R(C)]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[F.length," ",x("studentsShown")]})]})]}),r.jsxs("button",{onClick:()=>H(null),className:"px-4 py-2 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-lg border-2 border-gray-300 dark:border-gray-600 font-medium transition-all hover:shadow-md",children:[" ",x("clearFilter")]})]}),F.length===0?r.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700",children:[r.jsx("span",{className:"text-6xl mb-4 block",children:C?"":""}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:C?`"${R(C)}" durumunda renci bulunamad.`:"Hi ocuk bulunamad."}),C&&r.jsx("button",{onClick:()=>H(null),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-all",children:x("showAll")})]}):r.jsxs("div",{className:"bg-white dark:bg-[#1a1a2e] rounded-xl shadow-md overflow-hidden transition-colors",children:[r.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 px-6 py-3 border-b-2 border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:x("studentList")}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[F.length," ",x("studentsShown"),C&&` (${R(C)})`]})]})]}),C&&r.jsx("button",{onClick:()=>H(null),className:"text-sm px-3 py-1 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg border border-gray-300 dark:border-gray-600 transition-all",children:x("showAllList")})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-gray-200",children:x("photo")}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-gray-200",children:x("nameSurname")}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900 dark:text-gray-200",children:x("classroom")}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-gray-900 dark:text-gray-200",children:x("status")}),r.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold text-gray-900 dark:text-gray-200",children:x("action")})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:F.map((K,te)=>{const O=o.get(K.id);return r.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors ${te%2===0?"bg-white dark:bg-[#1a1a2e]":"bg-gray-50/50 dark:bg-gray-800/20"}`,children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-orange-400 to-amber-400 flex items-center justify-center text-white font-bold text-lg shadow-md overflow-hidden",children:K.photo_url?r.jsx("img",{src:K.photo_url,alt:K.first_name,className:"w-full h-full object-cover"}):K.first_name.charAt(0).toUpperCase()})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("button",{onClick:()=>a("child-detail",{childId:K.id}),className:"font-semibold text-gray-900 dark:text-white hover:text-orange-600 dark:hover:text-orange-400 transition-colors",children:[K.first_name," ",K.last_name]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:K.classroom||""})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold border-2 ${M(O)}`,children:[r.jsx("span",{className:"text-lg",children:P(O)}),R(O)]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsx("button",{onClick:()=>B(K.id,"present"),className:`p-2 rounded-lg transition-all ${O==="present"?"bg-green-500 text-white scale-110":"bg-green-100 text-green-600 hover:bg-green-200"}`,title:"Geldi",children:""}),r.jsx("button",{onClick:()=>B(K.id,"absent"),className:`p-2 rounded-lg transition-all ${O==="absent"?"bg-red-500 text-white scale-110":"bg-red-100 text-red-600 hover:bg-red-200"}`,title:"Gelmedi",children:""}),r.jsx("button",{onClick:()=>B(K.id,"late"),className:`p-2 rounded-lg transition-all ${O==="late"?"bg-yellow-500 text-white scale-110":"bg-yellow-100 text-yellow-600 hover:bg-yellow-200"}`,title:"Ge Geldi",children:""}),r.jsx("button",{onClick:()=>B(K.id,"excused"),className:`p-2 rounded-lg transition-all ${O==="excused"?"bg-blue-500 text-white scale-110":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,title:"Mazeret",children:""})]})})]},K.id)})})]})})]}),F.length>0&&r.jsx("div",{className:"sticky bottom-4 flex justify-center",children:r.jsx("button",{onClick:q,disabled:w||o.size===0,className:"px-8 py-4 bg-gradient-to-r from-orange-600 to-amber-600 text-white rounded-xl shadow-2xl hover:shadow-3xl hover:scale-105 transition-all font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:w?" "+x("savingAttendance"):" "+x("saveAttendance")})})]})},e4=(a,e,n,i)=>{var d,u,m,f;const o=[n,{code:e,...i||{}}];if((u=(d=a==null?void 0:a.services)==null?void 0:d.logger)!=null&&u.forward)return a.services.logger.forward(o,"warn","react-i18next::",!0);jn(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(f=(m=a==null?void 0:a.services)==null?void 0:m.logger)!=null&&f.warn?a.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},Wy={},iv=(a,e,n,i)=>{jn(n)&&Wy[n]||(jn(n)&&(Wy[n]=new Date),e4(a,e,n,i))},lv=(a,e)=>()=>{if(a.isInitialized)e();else{const n=()=>{setTimeout(()=>{a.off("initialized",n)},0),e()};a.on("initialized",n)}},Lh=(a,e,n)=>{a.loadNamespaces(e,lv(a,n))},Xy=(a,e,n,i)=>{if(jn(n)&&(n=[n]),a.options.preload&&a.options.preload.indexOf(e)>-1)return Lh(a,n,i);n.forEach(o=>{a.options.ns.indexOf(o)<0&&a.options.ns.push(o)}),a.loadLanguages(e,lv(a,i))},t4=(a,e,n={})=>!e.languages||!e.languages.length?(iv(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(a,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,a))return!1}}),jn=a=>typeof a=="string",a4=a=>typeof a=="object"&&a!==null,s4=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,n4={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},r4=a=>n4[a],i4=a=>a.replace(s4,r4);let l4={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:i4,transDefaultProps:void 0};const o4=()=>l4;let c4;const d4=()=>c4,u4=b.createContext();class h4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var ah={exports:{}},sh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function m4(){if(Qy)return sh;Qy=1;var a=lc();function e(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var n=typeof Object.is=="function"?Object.is:e,i=a.useState,o=a.useEffect,d=a.useLayoutEffect,u=a.useDebugValue;function m(v,w){var j=w(),S=i({inst:{value:j,getSnapshot:w}}),T=S[0].inst,E=S[1];return d(function(){T.value=j,T.getSnapshot=w,f(T)&&E({inst:T})},[v,j,w]),o(function(){return f(T)&&E({inst:T}),v(function(){f(T)&&E({inst:T})})},[v]),u(j),j}function f(v){var w=v.getSnapshot;v=v.value;try{var j=w();return!n(v,j)}catch{return!0}}function p(v,w){return w()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:m;return sh.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:y,sh}var Jy;function f4(){return Jy||(Jy=1,ah.exports=m4()),ah.exports}var g4=f4();const p4=(a,e)=>jn(e)?e:a4(e)&&jn(e.defaultValue)?e.defaultValue:Array.isArray(a)?a[a.length-1]:a,y4={t:p4,ready:!1},x4=()=>()=>{},b4=(a,e={})=>{var q,ae,M;const{i18n:n}=e,{i18n:i,defaultNS:o}=b.useContext(u4)||{},d=n||i||d4();d&&!d.reportNamespaces&&(d.reportNamespaces=new h4),d||iv(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=b.useMemo(()=>{var P;return{...o4(),...(P=d==null?void 0:d.options)==null?void 0:P.react,...e}},[d,e]),{useSuspense:m,keyPrefix:f}=u,p=o||((q=d==null?void 0:d.options)==null?void 0:q.defaultNS),y=jn(p)?[p]:p||["translation"],v=b.useMemo(()=>y,y);(M=(ae=d==null?void 0:d.reportNamespaces)==null?void 0:ae.addUsedNamespaces)==null||M.call(ae,v);const w=b.useRef(0),j=b.useCallback(P=>{if(!d)return x4;const{bindI18n:R,bindI18nStore:ee}=u,F=()=>{w.current+=1,P()};return R&&d.on(R,F),ee&&d.store.on(ee,F),()=>{R&&R.split(" ").forEach(z=>d.off(z,F)),ee&&ee.split(" ").forEach(z=>d.store.off(z,F))}},[d,u]),S=b.useRef(),T=b.useCallback(()=>{if(!d)return y4;const P=!!(d.isInitialized||d.initializedStoreOnce)&&v.every(I=>t4(I,d,u)),R=e.lng||d.language,ee=w.current,F=S.current;if(F&&F.ready===P&&F.lng===R&&F.keyPrefix===f&&F.revision===ee)return F;const L={t:d.getFixedT(R,u.nsMode==="fallback"?v:v[0],f),ready:P,lng:R,keyPrefix:f,revision:ee};return S.current=L,L},[d,v,f,u,e.lng]),[E,A]=b.useState(0),{t:D,ready:_}=g4.useSyncExternalStore(j,T,T);b.useEffect(()=>{if(d&&!_&&!m){const P=()=>A(R=>R+1);e.lng?Xy(d,e.lng,v,P):Lh(d,v,P)}},[d,e.lng,v,_,m,E]);const C=d||{},H=b.useRef(null),V=b.useRef(),$=P=>{const R=Object.getOwnPropertyDescriptors(P);R.__original&&delete R.__original;const ee=Object.create(Object.getPrototypeOf(P),R);if(!Object.prototype.hasOwnProperty.call(ee,"__original"))try{Object.defineProperty(ee,"__original",{value:P,writable:!1,enumerable:!1,configurable:!1})}catch{}return ee},B=b.useMemo(()=>{const P=C,R=P==null?void 0:P.language;let ee=P;P&&(H.current&&H.current.__original===P?V.current!==R?(ee=$(P),H.current=ee,V.current=R):ee=H.current:(ee=$(P),H.current=ee,V.current=R));const F=[D,ee,_];return F.t=D,F.i18n=ee,F.ready=_,F},[D,C,_,C.resolvedLanguage,C.language,C.languages]);if(d&&m&&!_)throw new Promise(P=>{const R=()=>P();e.lng?Xy(d,e.lng,v,R):Lh(d,v,R)});return B},bm=b.createContext({});function vm(a){const e=b.useRef(null);return e.current===null&&(e.current=a()),e.current}const wm=typeof window<"u",ov=wm?b.useLayoutEffect:b.useEffect,pc=b.createContext(null);function km(a,e){a.indexOf(e)===-1&&a.push(e)}function jm(a,e){const n=a.indexOf(e);n>-1&&a.splice(n,1)}const La=(a,e,n)=>n>e?e:n<a?a:n;let Sm=()=>{};const ss={},cv=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function dv(a){return typeof a=="object"&&a!==null}const uv=a=>/^0[^.\s]+$/u.test(a);function Nm(a){let e;return()=>(e===void 0&&(e=a()),e)}const va=a=>a,v4=(a,e)=>n=>e(a(n)),dl=(...a)=>a.reduce(v4),al=(a,e,n)=>{const i=e-a;return i===0?1:(n-a)/i};class _m{constructor(){this.subscriptions=[]}add(e){return km(this.subscriptions,e),()=>jm(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let d=0;d<o;d++){const u=this.subscriptions[d];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const as=a=>a*1e3,ba=a=>a/1e3;function hv(a,e){return e?a*(1e3/e):0}const mv=(a,e,n)=>(((1-3*n+3*e)*a+(3*n-6*e))*a+3*e)*a,w4=1e-7,k4=12;function j4(a,e,n,i,o){let d,u,m=0;do u=e+(n-e)/2,d=mv(u,i,o)-a,d>0?n=u:e=u;while(Math.abs(d)>w4&&++m<k4);return u}function ul(a,e,n,i){if(a===e&&n===i)return va;const o=d=>j4(d,0,1,a,n);return d=>d===0||d===1?d:mv(o(d),e,i)}const fv=a=>e=>e<=.5?a(2*e)/2:(2-a(2*(1-e)))/2,gv=a=>e=>1-a(1-e),pv=ul(.33,1.53,.69,.99),Cm=gv(pv),yv=fv(Cm),xv=a=>(a*=2)<1?.5*Cm(a):.5*(2-Math.pow(2,-10*(a-1))),Tm=a=>1-Math.sin(Math.acos(a)),bv=gv(Tm),vv=fv(Tm),S4=ul(.42,0,1,1),N4=ul(0,0,.58,1),wv=ul(.42,0,.58,1),_4=a=>Array.isArray(a)&&typeof a[0]!="number",kv=a=>Array.isArray(a)&&typeof a[0]=="number",C4={linear:va,easeIn:S4,easeInOut:wv,easeOut:N4,circIn:Tm,circInOut:vv,circOut:bv,backIn:Cm,backInOut:yv,backOut:pv,anticipate:xv},T4=a=>typeof a=="string",ex=a=>{if(kv(a)){Sm(a.length===4);const[e,n,i,o]=a;return ul(e,n,i,o)}else if(T4(a))return C4[a];return a},Uo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function A4(a,e){let n=new Set,i=new Set,o=!1,d=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function f(y){u.has(y)&&(p.schedule(y),a()),y(m)}const p={schedule:(y,v=!1,w=!1)=>{const S=w&&o?n:i;return v&&u.add(y),S.has(y)||S.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(m=y,o){d=!0;return}o=!0,[n,i]=[i,n],n.forEach(f),n.clear(),o=!1,d&&(d=!1,p.process(y))}};return p}const E4=40;function jv(a,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},d=()=>n=!0,u=Uo.reduce((_,C)=>(_[C]=A4(d),_),{}),{setup:m,read:f,resolveKeyframes:p,preUpdate:y,update:v,preRender:w,render:j,postRender:S}=u,T=()=>{const _=ss.useManualTiming?o.timestamp:performance.now();n=!1,ss.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(_-o.timestamp,E4),1)),o.timestamp=_,o.isProcessing=!0,m.process(o),f.process(o),p.process(o),y.process(o),v.process(o),w.process(o),j.process(o),S.process(o),o.isProcessing=!1,n&&e&&(i=!1,a(T))},E=()=>{n=!0,i=!0,o.isProcessing||a(T)};return{schedule:Uo.reduce((_,C)=>{const H=u[C];return _[C]=(V,$=!1,B=!1)=>(n||E(),H.schedule(V,$,B)),_},{}),cancel:_=>{for(let C=0;C<Uo.length;C++)u[Uo[C]].cancel(_)},state:o,steps:u}}const{schedule:Ze,cancel:Us,state:Dt,steps:nh}=jv(typeof requestAnimationFrame<"u"?requestAnimationFrame:va,!0);let Ho;function D4(){Ho=void 0}const Lt={now:()=>(Ho===void 0&&Lt.set(Dt.isProcessing||ss.useManualTiming?Dt.timestamp:performance.now()),Ho),set:a=>{Ho=a,queueMicrotask(D4)}},Sv=a=>e=>typeof e=="string"&&e.startsWith(a),Nv=Sv("--"),z4=Sv("var(--"),Am=a=>z4(a)?O4.test(a.split("/*")[0].trim()):!1,O4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function tx(a){return typeof a!="string"?!1:a.split("/*")[0].includes("var(--")}const Mr={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},sl={...Mr,transform:a=>La(0,1,a)},Bo={...Mr,default:1},Vi=a=>Math.round(a*1e5)/1e5,Em=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R4(a){return a==null}const M4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dm=(a,e)=>n=>!!(typeof n=="string"&&M4.test(n)&&n.startsWith(a)||e&&!R4(n)&&Object.prototype.hasOwnProperty.call(n,e)),_v=(a,e,n)=>i=>{if(typeof i!="string")return i;const[o,d,u,m]=i.match(Em);return{[a]:parseFloat(o),[e]:parseFloat(d),[n]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},L4=a=>La(0,255,a),rh={...Mr,transform:a=>Math.round(L4(a))},xn={test:Dm("rgb","red"),parse:_v("red","green","blue"),transform:({red:a,green:e,blue:n,alpha:i=1})=>"rgba("+rh.transform(a)+", "+rh.transform(e)+", "+rh.transform(n)+", "+Vi(sl.transform(i))+")"};function U4(a){let e="",n="",i="",o="";return a.length>5?(e=a.substring(1,3),n=a.substring(3,5),i=a.substring(5,7),o=a.substring(7,9)):(e=a.substring(1,2),n=a.substring(2,3),i=a.substring(3,4),o=a.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Uh={test:Dm("#"),parse:U4,transform:xn.transform},hl=a=>({test:e=>typeof e=="string"&&e.endsWith(a)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${a}`}),Os=hl("deg"),Ra=hl("%"),fe=hl("px"),B4=hl("vh"),P4=hl("vw"),ax={...Ra,parse:a=>Ra.parse(a)/100,transform:a=>Ra.transform(a*100)},vr={test:Dm("hsl","hue"),parse:_v("hue","saturation","lightness"),transform:({hue:a,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(a)+", "+Ra.transform(Vi(e))+", "+Ra.transform(Vi(n))+", "+Vi(sl.transform(i))+")"},ut={test:a=>xn.test(a)||Uh.test(a)||vr.test(a),parse:a=>xn.test(a)?xn.parse(a):vr.test(a)?vr.parse(a):Uh.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?xn.transform(a):vr.transform(a),getAnimatableNone:a=>{const e=ut.parse(a);return e.alpha=0,ut.transform(e)}},$4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V4(a){var e,n;return isNaN(a)&&typeof a=="string"&&(((e=a.match(Em))==null?void 0:e.length)||0)+(((n=a.match($4))==null?void 0:n.length)||0)>0}const Cv="number",Tv="color",H4="var",q4="var(",sx="${}",I4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nl(a){const e=a.toString(),n=[],i={color:[],number:[],var:[]},o=[];let d=0;const m=e.replace(I4,f=>(ut.test(f)?(i.color.push(d),o.push(Tv),n.push(ut.parse(f))):f.startsWith(q4)?(i.var.push(d),o.push(H4),n.push(f)):(i.number.push(d),o.push(Cv),n.push(parseFloat(f))),++d,sx)).split(sx);return{values:n,split:m,indexes:i,types:o}}function Av(a){return nl(a).values}function Ev(a){const{split:e,types:n}=nl(a),i=e.length;return o=>{let d="";for(let u=0;u<i;u++)if(d+=e[u],o[u]!==void 0){const m=n[u];m===Cv?d+=Vi(o[u]):m===Tv?d+=ut.transform(o[u]):d+=o[u]}return d}}const G4=a=>typeof a=="number"?0:ut.test(a)?ut.getAnimatableNone(a):a;function F4(a){const e=Av(a);return Ev(a)(e.map(G4))}const Bs={test:V4,parse:Av,createTransformer:Ev,getAnimatableNone:F4};function ih(a,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?a+(e-a)*6*n:n<1/2?e:n<2/3?a+(e-a)*(2/3-n)*6:a}function Y4({hue:a,saturation:e,lightness:n,alpha:i}){a/=360,e/=100,n/=100;let o=0,d=0,u=0;if(!e)o=d=u=n;else{const m=n<.5?n*(1+e):n+e-n*e,f=2*n-m;o=ih(f,m,a+1/3),d=ih(f,m,a),u=ih(f,m,a-1/3)}return{red:Math.round(o*255),green:Math.round(d*255),blue:Math.round(u*255),alpha:i}}function tc(a,e){return n=>n>0?e:a}const Qe=(a,e,n)=>a+(e-a)*n,lh=(a,e,n)=>{const i=a*a,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},K4=[Uh,xn,vr],Z4=a=>K4.find(e=>e.test(a));function nx(a){const e=Z4(a);if(!e)return!1;let n=e.parse(a);return e===vr&&(n=Y4(n)),n}const rx=(a,e)=>{const n=nx(a),i=nx(e);if(!n||!i)return tc(a,e);const o={...n};return d=>(o.red=lh(n.red,i.red,d),o.green=lh(n.green,i.green,d),o.blue=lh(n.blue,i.blue,d),o.alpha=Qe(n.alpha,i.alpha,d),xn.transform(o))},Bh=new Set(["none","hidden"]);function W4(a,e){return Bh.has(a)?n=>n<=0?a:e:n=>n>=1?e:a}function X4(a,e){return n=>Qe(a,e,n)}function zm(a){return typeof a=="number"?X4:typeof a=="string"?Am(a)?tc:ut.test(a)?rx:eC:Array.isArray(a)?Dv:typeof a=="object"?ut.test(a)?rx:Q4:tc}function Dv(a,e){const n=[...a],i=n.length,o=a.map((d,u)=>zm(d)(d,e[u]));return d=>{for(let u=0;u<i;u++)n[u]=o[u](d);return n}}function Q4(a,e){const n={...a,...e},i={};for(const o in n)a[o]!==void 0&&e[o]!==void 0&&(i[o]=zm(a[o])(a[o],e[o]));return o=>{for(const d in i)n[d]=i[d](o);return n}}function J4(a,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const d=e.types[o],u=a.indexes[d][i[d]],m=a.values[u]??0;n[o]=m,i[d]++}return n}const eC=(a,e)=>{const n=Bs.createTransformer(e),i=nl(a),o=nl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Bh.has(a)&&!o.values.length||Bh.has(e)&&!i.values.length?W4(a,e):dl(Dv(J4(i,o),o.values),n):tc(a,e)};function zv(a,e,n){return typeof a=="number"&&typeof e=="number"&&typeof n=="number"?Qe(a,e,n):zm(a)(a,e)}const tC=a=>{const e=({timestamp:n})=>a(n);return{start:(n=!0)=>Ze.update(e,n),stop:()=>Us(e),now:()=>Dt.isProcessing?Dt.timestamp:Lt.now()}},Ov=(a,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let d=0;d<o;d++)i+=Math.round(a(d/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ac=2e4;function Om(a){let e=0;const n=50;let i=a.next(e);for(;!i.done&&e<ac;)e+=n,i=a.next(e);return e>=ac?1/0:e}function aC(a,e=100,n){const i=n({...a,keyframes:[0,e]}),o=Math.min(Om(i),ac);return{type:"keyframes",ease:d=>i.next(o*d).value/e,duration:ba(o)}}const sC=5;function Rv(a,e,n){const i=Math.max(e-sC,0);return hv(n-a(i),e-i)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oh=.001;function nC({duration:a=at.duration,bounce:e=at.bounce,velocity:n=at.velocity,mass:i=at.mass}){let o,d,u=1-e;u=La(at.minDamping,at.maxDamping,u),a=La(at.minDuration,at.maxDuration,ba(a)),u<1?(o=p=>{const y=p*u,v=y*a,w=y-n,j=Ph(p,u),S=Math.exp(-v);return oh-w/j*S},d=p=>{const v=p*u*a,w=v*n+n,j=Math.pow(u,2)*Math.pow(p,2)*a,S=Math.exp(-v),T=Ph(Math.pow(p,2),u);return(-o(p)+oh>0?-1:1)*((w-j)*S)/T}):(o=p=>{const y=Math.exp(-p*a),v=(p-n)*a+1;return-oh+y*v},d=p=>{const y=Math.exp(-p*a),v=(n-p)*(a*a);return y*v});const m=5/a,f=iC(o,d,m);if(a=as(a),isNaN(f))return{stiffness:at.stiffness,damping:at.damping,duration:a};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:a}}}const rC=12;function iC(a,e,n){let i=n;for(let o=1;o<rC;o++)i=i-a(i)/e(i);return i}function Ph(a,e){return a*Math.sqrt(1-e*e)}const lC=["duration","bounce"],oC=["stiffness","damping","mass"];function ix(a,e){return e.some(n=>a[n]!==void 0)}function cC(a){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...a};if(!ix(a,oC)&&ix(a,lC))if(a.visualDuration){const n=a.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,d=2*La(.05,1,1-(a.bounce||0))*Math.sqrt(o);e={...e,mass:at.mass,stiffness:o,damping:d}}else{const n=nC(a);e={...e,...n,mass:at.mass},e.isResolvedFromDuration=!0}return e}function sc(a=at.visualDuration,e=at.bounce){const n=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:e}:a;let{restSpeed:i,restDelta:o}=n;const d=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],m={done:!1,value:d},{stiffness:f,damping:p,mass:y,duration:v,velocity:w,isResolvedFromDuration:j}=cC({...n,velocity:-ba(n.velocity||0)}),S=w||0,T=p/(2*Math.sqrt(f*y)),E=u-d,A=ba(Math.sqrt(f/y)),D=Math.abs(E)<5;i||(i=D?at.restSpeed.granular:at.restSpeed.default),o||(o=D?at.restDelta.granular:at.restDelta.default);let _;if(T<1){const H=Ph(A,T);_=V=>{const $=Math.exp(-T*A*V);return u-$*((S+T*A*E)/H*Math.sin(H*V)+E*Math.cos(H*V))}}else if(T===1)_=H=>u-Math.exp(-A*H)*(E+(S+A*E)*H);else{const H=A*Math.sqrt(T*T-1);_=V=>{const $=Math.exp(-T*A*V),B=Math.min(H*V,300);return u-$*((S+T*A*E)*Math.sinh(B)+H*E*Math.cosh(B))/H}}const C={calculatedDuration:j&&v||null,next:H=>{const V=_(H);if(j)m.done=H>=v;else{let $=H===0?S:0;T<1&&($=H===0?as(S):Rv(_,H,V));const B=Math.abs($)<=i,q=Math.abs(u-V)<=o;m.done=B&&q}return m.value=m.done?u:V,m},toString:()=>{const H=Math.min(Om(C),ac),V=Ov($=>C.next(H*$).value,H,30);return H+"ms "+V},toTransition:()=>{}};return C}sc.applyToOptions=a=>{const e=aC(a,100,sc);return a.ease=e.ease,a.duration=as(e.duration),a.type="keyframes",a};function $h({keyframes:a,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:d=500,modifyTarget:u,min:m,max:f,restDelta:p=.5,restSpeed:y}){const v=a[0],w={done:!1,value:v},j=B=>m!==void 0&&B<m||f!==void 0&&B>f,S=B=>m===void 0?f:f===void 0||Math.abs(m-B)<Math.abs(f-B)?m:f;let T=n*e;const E=v+T,A=u===void 0?E:u(E);A!==E&&(T=A-v);const D=B=>-T*Math.exp(-B/i),_=B=>A+D(B),C=B=>{const q=D(B),ae=_(B);w.done=Math.abs(q)<=p,w.value=w.done?A:ae};let H,V;const $=B=>{j(w.value)&&(H=B,V=sc({keyframes:[w.value,S(w.value)],velocity:Rv(_,B,w.value),damping:o,stiffness:d,restDelta:p,restSpeed:y}))};return $(0),{calculatedDuration:null,next:B=>{let q=!1;return!V&&H===void 0&&(q=!0,C(B),$(B)),H!==void 0&&B>=H?V.next(B-H):(!q&&C(B),w)}}}function dC(a,e,n){const i=[],o=n||ss.mix||zv,d=a.length-1;for(let u=0;u<d;u++){let m=o(a[u],a[u+1]);if(e){const f=Array.isArray(e)?e[u]||va:e;m=dl(f,m)}i.push(m)}return i}function uC(a,e,{clamp:n=!0,ease:i,mixer:o}={}){const d=a.length;if(Sm(d===e.length),d===1)return()=>e[0];if(d===2&&e[0]===e[1])return()=>e[1];const u=a[0]===a[1];a[0]>a[d-1]&&(a=[...a].reverse(),e=[...e].reverse());const m=dC(e,i,o),f=m.length,p=y=>{if(u&&y<a[0])return e[0];let v=0;if(f>1)for(;v<a.length-2&&!(y<a[v+1]);v++);const w=al(a[v],a[v+1],y);return m[v](w)};return n?y=>p(La(a[0],a[d-1],y)):p}function hC(a,e){const n=a[a.length-1];for(let i=1;i<=e;i++){const o=al(0,e,i);a.push(Qe(n,1,o))}}function mC(a){const e=[0];return hC(e,a.length-1),e}function fC(a,e){return a.map(n=>n*e)}function gC(a,e){return a.map(()=>e||wv).splice(0,a.length-1)}function Hi({duration:a=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=_4(i)?i.map(ex):ex(i),d={done:!1,value:e[0]},u=fC(n&&n.length===e.length?n:mC(e),a),m=uC(u,e,{ease:Array.isArray(o)?o:gC(e,o)});return{calculatedDuration:a,next:f=>(d.value=m(f),d.done=f>=a,d)}}const pC=a=>a!==null;function Rm(a,{repeat:e,repeatType:n="loop"},i,o=1){const d=a.filter(pC),m=o<0||e&&n!=="loop"&&e%2===1?0:d.length-1;return!m||i===void 0?d[m]:i}const yC={decay:$h,inertia:$h,tween:Hi,keyframes:Hi,spring:sc};function Mv(a){typeof a.type=="string"&&(a.type=yC[a.type])}class Mm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const xC=a=>a/100;class Lm extends Mm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Lt.now()&&this.tick(Lt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Mv(e);const{type:n=Hi,repeat:i=0,repeatDelay:o=0,repeatType:d,velocity:u=0}=e;let{keyframes:m}=e;const f=n||Hi;f!==Hi&&typeof m[0]!="number"&&(this.mixKeyframes=dl(xC,zv(m[0],m[1])),m=[0,100]);const p=f({...e,keyframes:m});d==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...m].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Om(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:d,mirroredGenerator:u,resolvedDuration:m,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:w,repeatDelay:j,type:S,onUpdate:T,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-p*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?A<0:A>o;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let _=this.currentTime,C=i;if(v){const B=Math.min(this.currentTime,o)/m;let q=Math.floor(B),ae=B%1;!ae&&B>=1&&(ae=1),ae===1&&q--,q=Math.min(q,v+1),!!(q%2)&&(w==="reverse"?(ae=1-ae,j&&(ae-=j/m)):w==="mirror"&&(C=u)),_=La(0,1,ae)*m}const H=D?{done:!1,value:y[0]}:C.next(_);d&&(H.value=d(H.value));let{done:V}=H;!D&&f!==null&&(V=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return $&&S!==$h&&(H.value=Rm(y,this.options,E,this.speed)),T&&T(H.value),$&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return ba(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ba(e)}get time(){return ba(this.currentTime)}set time(e){var n;e=as(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Lt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ba(this.currentTime))}play(){var o,d;if(this.isStopped)return;const{driver:e=tC,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(d=(o=this.options).onPlay)==null||d.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function bC(a){for(let e=1;e<a.length;e++)a[e]??(a[e]=a[e-1])}const bn=a=>a*180/Math.PI,Vh=a=>{const e=bn(Math.atan2(a[1],a[0]));return Hh(e)},vC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:Vh,rotateZ:Vh,skewX:a=>bn(Math.atan(a[1])),skewY:a=>bn(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},Hh=a=>(a=a%360,a<0&&(a+=360),a),lx=Vh,ox=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),cx=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),wC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ox,scaleY:cx,scale:a=>(ox(a)+cx(a))/2,rotateX:a=>Hh(bn(Math.atan2(a[6],a[5]))),rotateY:a=>Hh(bn(Math.atan2(-a[2],a[0]))),rotateZ:lx,rotate:lx,skewX:a=>bn(Math.atan(a[4])),skewY:a=>bn(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function qh(a){return a.includes("scale")?1:0}function Ih(a,e){if(!a||a==="none")return qh(e);const n=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=wC,o=n;else{const m=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=vC,o=m}if(!o)return qh(e);const d=i[e],u=o[1].split(",").map(jC);return typeof d=="function"?d(u):u[d]}const kC=(a,e)=>{const{transform:n="none"}=getComputedStyle(a);return Ih(n,e)};function jC(a){return parseFloat(a.trim())}const Lr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ur=new Set(Lr),dx=a=>a===Mr||a===fe,SC=new Set(["x","y","z"]),NC=Lr.filter(a=>!SC.has(a));function _C(a){const e=[];return NC.forEach(n=>{const i=a.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ls={width:({x:a},{paddingLeft:e="0",paddingRight:n="0"})=>a.max-a.min-parseFloat(e)-parseFloat(n),height:({y:a},{paddingTop:e="0",paddingBottom:n="0"})=>a.max-a.min-parseFloat(e)-parseFloat(n),top:(a,{top:e})=>parseFloat(e),left:(a,{left:e})=>parseFloat(e),bottom:({y:a},{top:e})=>parseFloat(e)+(a.max-a.min),right:({x:a},{left:e})=>parseFloat(e)+(a.max-a.min),x:(a,{transform:e})=>Ih(e,"x"),y:(a,{transform:e})=>Ih(e,"y")};Ls.translateX=Ls.x;Ls.translateY=Ls.y;const vn=new Set;let Gh=!1,Fh=!1,Yh=!1;function Lv(){if(Fh){const a=Array.from(vn).filter(i=>i.needsMeasurement),e=new Set(a.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=_C(i);o.length&&(n.set(i,o),i.render())}),a.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([d,u])=>{var m;(m=i.getValue(d))==null||m.set(u)})}),a.forEach(i=>i.measureEndState()),a.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Fh=!1,Gh=!1,vn.forEach(a=>a.complete(Yh)),vn.clear()}function Uv(){vn.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Fh=!0)})}function CC(){Yh=!0,Uv(),Lv(),Yh=!1}class Um{constructor(e,n,i,o,d,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=d,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(vn.add(this),Gh||(Gh=!0,Ze.read(Uv),Ze.resolveKeyframes(Lv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const d=o==null?void 0:o.get(),u=e[e.length-1];if(d!==void 0)e[0]=d;else if(i&&n){const m=i.readValue(n,u);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=u),o&&d===void 0&&o.set(e[0])}bC(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),vn.delete(this)}cancel(){this.state==="scheduled"&&(vn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TC=a=>a.startsWith("--");function AC(a,e,n){TC(e)?a.style.setProperty(e,n):a.style[e]=n}const EC=Nm(()=>window.ScrollTimeline!==void 0),DC={};function zC(a,e){const n=Nm(a);return()=>DC[e]??n()}const Bv=zC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Li=([a,e,n,i])=>`cubic-bezier(${a}, ${e}, ${n}, ${i})`,ux={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Li([0,.65,.55,1]),circOut:Li([.55,0,1,.45]),backIn:Li([.31,.01,.66,-.59]),backOut:Li([.33,1.53,.69,.99])};function Pv(a,e){if(a)return typeof a=="function"?Bv()?Ov(a,e):"ease-out":kv(a)?Li(a):Array.isArray(a)?a.map(n=>Pv(n,e)||ux.easeOut):ux[a]}function OC(a,e,n,{delay:i=0,duration:o=300,repeat:d=0,repeatType:u="loop",ease:m="easeOut",times:f}={},p=void 0){const y={[e]:n};f&&(y.offset=f);const v=Pv(m,o);Array.isArray(v)&&(y.easing=v);const w={delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:d+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),a.animate(y,w)}function $v(a){return typeof a=="function"&&"applyToOptions"in a}function RC({type:a,...e}){return $v(a)&&Bv()?a.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class MC extends Mm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:d,allowFlatten:u=!1,finalKeyframe:m,onComplete:f}=e;this.isPseudoElement=!!d,this.allowFlatten=u,this.options=e,Sm(typeof e.type!="string");const p=RC(e);this.animation=OC(n,i,o,p,d),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!d){const y=Rm(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(y):AC(n,i,y),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return ba(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ba(e)}get time(){return ba(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=as(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&EC()?(this.animation.timeline=e,va):n(this)}}const Vv={anticipate:xv,backInOut:yv,circInOut:vv};function LC(a){return a in Vv}function UC(a){typeof a.ease=="string"&&LC(a.ease)&&(a.ease=Vv[a.ease])}const ch=10;class BC extends MC{constructor(e){UC(e),Mv(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:d,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const m=new Lm({...u,autoplay:!1}),f=Math.max(ch,Lt.now()-this.startTime),p=La(0,ch,f-ch);n.setWithVelocity(m.sample(Math.max(0,f-p)).value,m.sample(f).value,p),m.stop()}}const hx=(a,e)=>e==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Bs.test(a)||a==="0")&&!a.startsWith("url("));function PC(a){const e=a[0];if(a.length===1)return!0;for(let n=0;n<a.length;n++)if(a[n]!==e)return!0}function $C(a,e,n,i){const o=a[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const d=a[a.length-1],u=hx(o,e),m=hx(d,e);return!u||!m?!1:PC(a)||(n==="spring"||$v(n))&&i}function Kh(a){a.duration=0,a.type="keyframes"}const VC=new Set(["opacity","clipPath","filter","transform"]),HC=Nm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qC(a){var y;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:d,type:u}=a;if(!(((y=e==null?void 0:e.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return HC()&&n&&VC.has(n)&&(n!=="transform"||!p)&&!f&&!i&&o!=="mirror"&&d!==0&&u!=="inertia"}const IC=40;class GC extends Mm{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:d=0,repeatType:u="loop",keyframes:m,name:f,motionValue:p,element:y,...v}){var S;super(),this.stop=()=>{var T,E;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Lt.now();const w={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:d,repeatType:u,name:f,motionValue:p,element:y,...v},j=(y==null?void 0:y.KeyframeResolver)||Um;this.keyframeResolver=new j(m,(T,E,A)=>this.onKeyframesResolved(T,E,w,!A),f,p,y),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:d,type:u,velocity:m,delay:f,isHandoff:p,onUpdate:y}=i;this.resolvedAt=Lt.now(),$C(e,d,u,m)||((ss.instantAnimations||!f)&&(y==null||y(Rm(e,i,n))),e[0]=e[e.length-1],Kh(i),i.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>IC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},j=!p&&qC(w)?new BC({...w,element:w.motionValue.owner.current}):new Lm(w);j.finished.then(()=>this.notifyFinished()).catch(va),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),CC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const FC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YC(a){const e=FC.exec(a);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function Hv(a,e,n=1){const[i,o]=YC(a);if(!i)return;const d=window.getComputedStyle(e).getPropertyValue(i);if(d){const u=d.trim();return cv(u)?parseFloat(u):u}return Am(o)?Hv(o,e,n+1):o}function Bm(a,e){return(a==null?void 0:a[e])??(a==null?void 0:a.default)??a}const qv=new Set(["width","height","top","left","right","bottom",...Lr]),KC={test:a=>a==="auto",parse:a=>a},Iv=a=>e=>e.test(a),Gv=[Mr,fe,Ra,Os,P4,B4,KC],mx=a=>Gv.find(Iv(a));function ZC(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||uv(a):!0}const WC=new Set(["brightness","contrast","saturate","opacity"]);function XC(a){const[e,n]=a.slice(0,-1).split("(");if(e==="drop-shadow")return a;const[i]=n.match(Em)||[];if(!i)return a;const o=n.replace(i,"");let d=WC.has(e)?1:0;return i!==n&&(d*=100),e+"("+d+o+")"}const QC=/\b([a-z-]*)\(.*?\)/gu,Zh={...Bs,getAnimatableNone:a=>{const e=a.match(QC);return e?e.map(XC).join(" "):a}},fx={...Mr,transform:Math.round},JC={rotate:Os,rotateX:Os,rotateY:Os,rotateZ:Os,scale:Bo,scaleX:Bo,scaleY:Bo,scaleZ:Bo,skew:Os,skewX:Os,skewY:Os,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:sl,originX:ax,originY:ax,originZ:fe},Pm={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,inset:fe,insetBlock:fe,insetBlockStart:fe,insetBlockEnd:fe,insetInline:fe,insetInlineStart:fe,insetInlineEnd:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,paddingBlock:fe,paddingBlockStart:fe,paddingBlockEnd:fe,paddingInline:fe,paddingInlineStart:fe,paddingInlineEnd:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,marginBlock:fe,marginBlockStart:fe,marginBlockEnd:fe,marginInline:fe,marginInlineStart:fe,marginInlineEnd:fe,backgroundPositionX:fe,backgroundPositionY:fe,...JC,zIndex:fx,fillOpacity:sl,strokeOpacity:sl,numOctaves:fx},eT={...Pm,color:ut,backgroundColor:ut,outlineColor:ut,fill:ut,stroke:ut,borderColor:ut,borderTopColor:ut,borderRightColor:ut,borderBottomColor:ut,borderLeftColor:ut,filter:Zh,WebkitFilter:Zh},Fv=a=>eT[a];function Yv(a,e){let n=Fv(a);return n!==Zh&&(n=Bs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tT=new Set(["auto","none","0"]);function aT(a,e,n){let i=0,o;for(;i<a.length&&!o;){const d=a[i];typeof d=="string"&&!tT.has(d)&&nl(d).values.length&&(o=a[i]),i++}if(o&&n)for(const d of e)a[d]=Yv(n,o)}class sT extends Um{constructor(e,n,i,o,d){super(e,n,i,o,d,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),Am(v))){const w=Hv(v,n.current);w!==void 0&&(e[y]=w),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!qv.has(i)||e.length!==2)return;const[o,d]=e,u=mx(o),m=mx(d),f=tx(o),p=tx(d);if(f!==p&&Ls[i]){this.needsMeasurement=!0;return}if(u!==m)if(dx(u)&&dx(m))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else Ls[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||ZC(e[o]))&&i.push(o);i.length&&aT(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ls[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var m;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const d=i.length-1,u=i[d];i[d]=Ls[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function nT(a,e,n){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let i=document;const o=(n==null?void 0:n[a])??i.querySelectorAll(a);return o?Array.from(o):[]}return Array.from(a)}const Kv=(a,e)=>e&&typeof a=="number"?e.transform(a):a;function Zv(a){return dv(a)&&"offsetHeight"in a}const gx=30,rT=a=>!isNaN(parseFloat(a));class iT{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var d;const o=Lt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((d=this.events.change)==null||d.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Lt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=rT(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _m);const i=this.events[e].add(n);return e==="change"?()=>{i(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gx);return hv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Er(a,e){return new iT(a,e)}const{schedule:$m}=jv(queueMicrotask,!1),_a={x:!1,y:!1};function Wv(){return _a.x||_a.y}function lT(a){return a==="x"||a==="y"?_a[a]?null:(_a[a]=!0,()=>{_a[a]=!1}):_a.x||_a.y?null:(_a.x=_a.y=!0,()=>{_a.x=_a.y=!1})}function Xv(a,e){const n=nT(a),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function px(a){return!(a.pointerType==="touch"||Wv())}function oT(a,e,n={}){const[i,o,d]=Xv(a,n),u=m=>{if(!px(m))return;const{target:f}=m,p=e(f,m);if(typeof p!="function"||!f)return;const y=v=>{px(v)&&(p(v),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,o)};return i.forEach(m=>{m.addEventListener("pointerenter",u,o)}),d}const Qv=(a,e)=>e?a===e?!0:Qv(a,e.parentElement):!1,Vm=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,cT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Jv(a){return cT.has(a.tagName)||a.isContentEditable===!0}const qo=new WeakSet;function yx(a){return e=>{e.key==="Enter"&&a(e)}}function dh(a,e){a.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dT=(a,e)=>{const n=a.currentTarget;if(!n)return;const i=yx(()=>{if(qo.has(n))return;dh(n,"down");const o=yx(()=>{dh(n,"up")}),d=()=>dh(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",d,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function xx(a){return Vm(a)&&!Wv()}function uT(a,e,n={}){const[i,o,d]=Xv(a,n),u=m=>{const f=m.currentTarget;if(!xx(m))return;qo.add(f);const p=e(f,m),y=(j,S)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),qo.has(f)&&qo.delete(f),xx(j)&&typeof p=="function"&&p(j,{success:S})},v=j=>{y(j,f===window||f===document||n.useGlobalTarget||Qv(f,j.target))},w=j=>{y(j,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return i.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",u,o),Zv(m)&&(m.addEventListener("focus",p=>dT(p,o)),!Jv(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),d}function ew(a){return dv(a)&&"ownerSVGElement"in a}function hT(a){return ew(a)&&a.tagName==="svg"}const Ot=a=>!!(a&&a.getVelocity),mT=[...Gv,ut,Bs],fT=a=>mT.find(Iv(a)),Hm=b.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function bx(a,e){if(typeof a=="function")return a(e);a!=null&&(a.current=e)}function gT(...a){return e=>{let n=!1;const i=a.map(o=>{const d=bx(o,e);return!n&&typeof d=="function"&&(n=!0),d});if(n)return()=>{for(let o=0;o<i.length;o++){const d=i[o];typeof d=="function"?d():bx(a[o],null)}}}}function pT(...a){return b.useCallback(gT(...a),a)}class yT extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=Zv(i)&&i.offsetWidth||0,d=this.props.sizeRef.current;d.height=n.offsetHeight||0,d.width=n.offsetWidth||0,d.top=n.offsetTop,d.left=n.offsetLeft,d.right=o-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xT({children:a,isPresent:e,anchorX:n,root:i}){var y;const o=b.useId(),d=b.useRef(null),u=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=b.useContext(Hm),f=((y=a.props)==null?void 0:y.ref)??(a==null?void 0:a.ref),p=pT(d,f);return b.useInsertionEffect(()=>{const{width:v,height:w,top:j,left:S,right:T}=u.current;if(e||!d.current||!v||!w)return;const E=n==="left"?`left: ${S}`:`right: ${T}`;d.current.dataset.motionPopId=o;const A=document.createElement("style");m&&(A.nonce=m);const D=i??document.head;return D.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${w}px !important;
            ${E}px !important;
            top: ${j}px !important;
          }
        `),()=>{D.contains(A)&&D.removeChild(A)}},[e]),r.jsx(yT,{isPresent:e,childRef:d,sizeRef:u,children:b.cloneElement(a,{ref:p})})}const bT=({children:a,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:d,mode:u,anchorX:m,root:f})=>{const p=vm(vT),y=b.useId();let v=!0,w=b.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:o,onExitComplete:j=>{p.set(j,!0);for(const S of p.values())if(!S)return;i&&i()},register:j=>(p.set(j,!1),()=>p.delete(j))}),[n,p,i]);return d&&v&&(w={...w}),b.useMemo(()=>{p.forEach((j,S)=>p.set(S,!1))},[n]),b.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),u==="popLayout"&&(a=r.jsx(xT,{isPresent:n,anchorX:m,root:f,children:a})),r.jsx(pc.Provider,{value:w,children:a})};function vT(){return new Map}function tw(a=!0){const e=b.useContext(pc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,d=b.useId();b.useEffect(()=>{if(a)return o(d)},[a]);const u=b.useCallback(()=>a&&i&&i(d),[d,i,a]);return!n&&i?[!1,u]:[!0]}const Po=a=>a.key||"";function vx(a){const e=[];return b.Children.forEach(a,n=>{b.isValidElement(n)&&e.push(n)}),e}const wT=({children:a,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:d="sync",propagate:u=!1,anchorX:m="left",root:f})=>{const[p,y]=tw(u),v=b.useMemo(()=>vx(a),[a]),w=u&&!p?[]:v.map(Po),j=b.useRef(!0),S=b.useRef(v),T=vm(()=>new Map),E=b.useRef(new Set),[A,D]=b.useState(v),[_,C]=b.useState(v);ov(()=>{j.current=!1,S.current=v;for(let $=0;$<_.length;$++){const B=Po(_[$]);w.includes(B)?(T.delete(B),E.current.delete(B)):T.get(B)!==!0&&T.set(B,!1)}},[_,w.length,w.join("-")]);const H=[];if(v!==A){let $=[...v];for(let B=0;B<_.length;B++){const q=_[B],ae=Po(q);w.includes(ae)||($.splice(B,0,q),H.push(q))}return d==="wait"&&H.length&&($=H),C(vx($)),D(v),null}const{forceRender:V}=b.useContext(bm);return r.jsx(r.Fragment,{children:_.map($=>{const B=Po($),q=u&&!p?!1:v===_||w.includes(B),ae=()=>{if(E.current.has(B))return;if(E.current.add(B),T.has(B))T.set(B,!0);else return;let M=!0;T.forEach(P=>{P||(M=!1)}),M&&(V==null||V(),C(S.current),u&&(y==null||y()),i&&i())};return r.jsx(bT,{isPresent:q,initial:!j.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:d,root:f,onExitComplete:q?void 0:ae,anchorX:m,children:$},B)})})},aw=b.createContext({strict:!1}),wx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dr={};for(const a in wx)Dr[a]={isEnabled:e=>wx[a].some(n=>!!e[n])};function kT(a){for(const e in a)Dr[e]={...Dr[e],...a[e]}}const jT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nc(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||jT.has(a)}let sw=a=>!nc(a);function ST(a){typeof a=="function"&&(sw=e=>e.startsWith("on")?!nc(e):a(e))}try{ST(require("@emotion/is-prop-valid").default)}catch{}function NT(a,e,n){const i={};for(const o in a)o==="values"&&typeof a.values=="object"||(sw(o)||n===!0&&nc(o)||!e&&!nc(o)||a.draggable&&o.startsWith("onDrag"))&&(i[o]=a[o]);return i}const yc=b.createContext({});function xc(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function rl(a){return typeof a=="string"||Array.isArray(a)}const qm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Im=["initial",...qm];function bc(a){return xc(a.animate)||Im.some(e=>rl(a[e]))}function nw(a){return!!(bc(a)||a.variants)}function _T(a,e){if(bc(a)){const{initial:n,animate:i}=a;return{initial:n===!1||rl(n)?n:void 0,animate:rl(i)?i:void 0}}return a.inherit!==!1?e:{}}function CT(a){const{initial:e,animate:n}=_T(a,b.useContext(yc));return b.useMemo(()=>({initial:e,animate:n}),[kx(e),kx(n)])}function kx(a){return Array.isArray(a)?a.join(" "):a}function jx(a,e){return e.max===e.min?0:a/(e.max-e.min)*100}const Ri={correct:(a,e)=>{if(!e.target)return a;if(typeof a=="string")if(fe.test(a))a=parseFloat(a);else return a;const n=jx(a,e.target.x),i=jx(a,e.target.y);return`${n}% ${i}%`}},TT={correct:(a,{treeScale:e,projectionDelta:n})=>{const i=a,o=Bs.parse(a);if(o.length>5)return i;const d=Bs.createTransformer(a),u=typeof o[0]!="number"?1:0,m=n.x.scale*e.x,f=n.y.scale*e.y;o[0+u]/=m,o[1+u]/=f;const p=Qe(m,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),d(o)}},Wh={borderRadius:{...Ri,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ri,borderTopRightRadius:Ri,borderBottomLeftRadius:Ri,borderBottomRightRadius:Ri,boxShadow:TT};function rw(a,{layout:e,layoutId:n}){return Ur.has(a)||a.startsWith("origin")||(e||n!==void 0)&&(!!Wh[a]||a==="opacity")}const AT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ET=Lr.length;function DT(a,e,n){let i="",o=!0;for(let d=0;d<ET;d++){const u=Lr[d],m=a[u];if(m===void 0)continue;let f=!0;if(typeof m=="number"?f=m===(u.startsWith("scale")?1:0):f=parseFloat(m)===0,!f||n){const p=Kv(m,Pm[u]);if(!f){o=!1;const y=AT[u]||u;i+=`${y}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function Gm(a,e,n){const{style:i,vars:o,transformOrigin:d}=a;let u=!1,m=!1;for(const f in e){const p=e[f];if(Ur.has(f)){u=!0;continue}else if(Nv(f)){o[f]=p;continue}else{const y=Kv(p,Pm[f]);f.startsWith("origin")?(m=!0,d[f]=y):i[f]=y}}if(e.transform||(u||n?i.transform=DT(e,a.transform,n):i.transform&&(i.transform="none")),m){const{originX:f="50%",originY:p="50%",originZ:y=0}=d;i.transformOrigin=`${f} ${p} ${y}`}}const Fm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iw(a,e,n){for(const i in e)!Ot(e[i])&&!rw(i,n)&&(a[i]=e[i])}function zT({transformTemplate:a},e){return b.useMemo(()=>{const n=Fm();return Gm(n,e,a),Object.assign({},n.vars,n.style)},[e])}function OT(a,e){const n=a.style||{},i={};return iw(i,n,a),Object.assign(i,zT(a,e)),i}function RT(a,e){const n={},i=OT(a,e);return a.drag&&a.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(n.tabIndex=0),n.style=i,n}const MT={offset:"stroke-dashoffset",array:"stroke-dasharray"},LT={offset:"strokeDashoffset",array:"strokeDasharray"};function UT(a,e,n=1,i=0,o=!0){a.pathLength=1;const d=o?MT:LT;a[d.offset]=fe.transform(-i);const u=fe.transform(e),m=fe.transform(n);a[d.array]=`${u} ${m}`}const BT=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function lw(a,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:d=1,pathOffset:u=0,...m},f,p,y){if(Gm(a,m,p),f){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:v,style:w}=a;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete v.transformBox);for(const j of BT)v[j]!==void 0&&(w[j]=v[j],delete v[j]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),o!==void 0&&UT(v,o,d,u,!1)}const ow=()=>({...Fm(),attrs:{}}),cw=a=>typeof a=="string"&&a.toLowerCase()==="svg";function PT(a,e,n,i){const o=b.useMemo(()=>{const d=ow();return lw(d,e,cw(i),a.transformTemplate,a.style),{...d.attrs,style:{...d.style}}},[e]);if(a.style){const d={};iw(d,a.style,a),o.style={...d,...o.style}}return o}const $T=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ym(a){return typeof a!="string"||a.includes("-")?!1:!!($T.indexOf(a)>-1||/[A-Z]/u.test(a))}function VT(a,e,n,{latestValues:i},o,d=!1,u){const f=(u??Ym(a)?PT:RT)(e,i,o,a),p=NT(e,typeof a=="string",d),y=a!==b.Fragment?{...p,...f,ref:n}:{},{children:v}=e,w=b.useMemo(()=>Ot(v)?v.get():v,[v]);return b.createElement(a,{...y,children:w})}function Sx(a){const e=[{},{}];return a==null||a.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Km(a,e,n,i){if(typeof e=="function"){const[o,d]=Sx(i);e=e(n!==void 0?n:a.custom,o,d)}if(typeof e=="string"&&(e=a.variants&&a.variants[e]),typeof e=="function"){const[o,d]=Sx(i);e=e(n!==void 0?n:a.custom,o,d)}return e}function Io(a){return Ot(a)?a.get():a}function HT({scrapeMotionValuesFromProps:a,createRenderState:e},n,i,o){return{latestValues:qT(n,i,o,a),renderState:e()}}function qT(a,e,n,i){const o={},d=i(a,{});for(const w in d)o[w]=Io(d[w]);let{initial:u,animate:m}=a;const f=bc(a),p=nw(a);e&&p&&!f&&a.inherit!==!1&&(u===void 0&&(u=e.initial),m===void 0&&(m=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?m:u;if(v&&typeof v!="boolean"&&!xc(v)){const w=Array.isArray(v)?v:[v];for(let j=0;j<w.length;j++){const S=Km(a,w[j]);if(S){const{transitionEnd:T,transition:E,...A}=S;for(const D in A){let _=A[D];if(Array.isArray(_)){const C=y?_.length-1:0;_=_[C]}_!==null&&(o[D]=_)}for(const D in T)o[D]=T[D]}}}return o}const dw=a=>(e,n)=>{const i=b.useContext(yc),o=b.useContext(pc),d=()=>HT(a,e,i,o);return n?d():vm(d)};function Zm(a,e,n){var d;const{style:i}=a,o={};for(const u in i)(Ot(i[u])||e.style&&Ot(e.style[u])||rw(u,a)||((d=n==null?void 0:n.getValue(u))==null?void 0:d.liveStyle)!==void 0)&&(o[u]=i[u]);return o}const IT=dw({scrapeMotionValuesFromProps:Zm,createRenderState:Fm});function uw(a,e,n){const i=Zm(a,e,n);for(const o in a)if(Ot(a[o])||Ot(e[o])){const d=Lr.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[d]=a[o]}return i}const GT=dw({scrapeMotionValuesFromProps:uw,createRenderState:ow}),FT=Symbol.for("motionComponentSymbol");function YT(a,e,n){const i=b.useRef(n);b.useInsertionEffect(()=>{i.current=n});const o=b.useRef(null);return b.useCallback(d=>{var m;d&&((m=a.onMount)==null||m.call(a,d)),e&&(d?e.mount(d):e.unmount());const u=i.current;if(typeof u=="function")if(d){const f=u(d);typeof f=="function"&&(o.current=f)}else o.current?(o.current(),o.current=null):u(d);else u&&(u.current=d)},[e])}const Wm=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KT="framerAppearId",hw="data-"+Wm(KT),mw=b.createContext({});function Ui(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function ZT(a,e,n,i,o,d){var E,A;const{visualElement:u}=b.useContext(yc),m=b.useContext(aw),f=b.useContext(pc),p=b.useContext(Hm).reducedMotion,y=b.useRef(null);i=i||m.renderer,!y.current&&i&&(y.current=i(a,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p,isSVG:d}));const v=y.current,w=b.useContext(mw);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&WT(y.current,n,o,w);const j=b.useRef(!1);b.useInsertionEffect(()=>{v&&j.current&&v.update(n,f)});const S=n[hw],T=b.useRef(!!S&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,S))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,S)));return ov(()=>{v&&(j.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),T.current&&v.animationState&&v.animationState.animateChanges())}),b.useEffect(()=>{v&&(!T.current&&v.animationState&&v.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,S)}),T.current=!1),v.enteringChildren=void 0)}),v}function WT(a,e,n,i){const{layoutId:o,layout:d,drag:u,dragConstraints:m,layoutScroll:f,layoutRoot:p,layoutCrossfade:y}=e;a.projection=new n(a.latestValues,e["data-framer-portal-id"]?void 0:fw(a.parent)),a.projection.setOptions({layoutId:o,layout:d,alwaysMeasureLayout:!!u||m&&Ui(m),visualElement:a,animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:f,layoutRoot:p})}function fw(a){if(a)return a.options.allowProjection!==!1?a.projection:fw(a.parent)}function uh(a,{forwardMotionProps:e=!1,type:n}={},i,o){i&&kT(i);const d=n?n==="svg":Ym(a),u=d?GT:IT;function m(p,y){let v;const w={...b.useContext(Hm),...p,layoutId:XT(p)},{isStatic:j}=w,S=CT(p),T=u(p,j);if(!j&&wm){QT();const E=JT(w);v=E.MeasureLayout,S.visualElement=ZT(a,T,w,o,E.ProjectionNode,d)}return r.jsxs(yc.Provider,{value:S,children:[v&&S.visualElement?r.jsx(v,{visualElement:S.visualElement,...w}):null,VT(a,p,YT(T,S.visualElement,y),T,j,e,d)]})}m.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const f=b.forwardRef(m);return f[FT]=a,f}function XT({layoutId:a}){const e=b.useContext(bm).id;return e&&a!==void 0?e+"-"+a:a}function QT(a,e){b.useContext(aw).strict}function JT(a){const{drag:e,layout:n}=Dr;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(a)||n!=null&&n.isEnabled(a)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function eA(a,e){if(typeof Proxy>"u")return uh;const n=new Map,i=(d,u)=>uh(d,u,a,e),o=(d,u)=>i(d,u);return new Proxy(o,{get:(d,u)=>u==="create"?i:(n.has(u)||n.set(u,uh(u,void 0,a,e)),n.get(u))})}function gw({top:a,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:a,max:i}}}function tA({x:a,y:e}){return{top:e.min,right:a.max,bottom:e.max,left:a.min}}function aA(a,e){if(!e)return a;const n=e({x:a.left,y:a.top}),i=e({x:a.right,y:a.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function hh(a){return a===void 0||a===1}function Xh({scale:a,scaleX:e,scaleY:n}){return!hh(a)||!hh(e)||!hh(n)}function fn(a){return Xh(a)||pw(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function pw(a){return Nx(a.x)||Nx(a.y)}function Nx(a){return a&&a!=="0%"}function rc(a,e,n){const i=a-n,o=e*i;return n+o}function _x(a,e,n,i,o){return o!==void 0&&(a=rc(a,o,i)),rc(a,n,i)+e}function Qh(a,e=0,n=1,i,o){a.min=_x(a.min,e,n,i,o),a.max=_x(a.max,e,n,i,o)}function yw(a,{x:e,y:n}){Qh(a.x,e.translate,e.scale,e.originPoint),Qh(a.y,n.translate,n.scale,n.originPoint)}const Cx=.999999999999,Tx=1.0000000000001;function sA(a,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let d,u;for(let m=0;m<o;m++){d=n[m],u=d.projectionDelta;const{visualElement:f}=d.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&d.options.layoutScroll&&d.scroll&&d!==d.root&&kr(a,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,yw(a,u)),i&&fn(d.latestValues)&&kr(a,d.latestValues))}e.x<Tx&&e.x>Cx&&(e.x=1),e.y<Tx&&e.y>Cx&&(e.y=1)}function wr(a,e){a.min=a.min+e,a.max=a.max+e}function Ax(a,e,n,i,o=.5){const d=Qe(a.min,a.max,o);Qh(a,e,n,d,i)}function kr(a,e){Ax(a.x,e.x,e.scaleX,e.scale,e.originX),Ax(a.y,e.y,e.scaleY,e.scale,e.originY)}function xw(a,e){return gw(aA(a.getBoundingClientRect(),e))}function nA(a,e,n){const i=xw(a,n),{scroll:o}=e;return o&&(wr(i.x,o.offset.x),wr(i.y,o.offset.y)),i}const Ex=()=>({translate:0,scale:1,origin:0,originPoint:0}),jr=()=>({x:Ex(),y:Ex()}),Dx=()=>({min:0,max:0}),yt=()=>({x:Dx(),y:Dx()}),Jh={current:null},bw={current:!1};function rA(){if(bw.current=!0,!!wm)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jh.current=a.matches;a.addEventListener("change",e),e()}else Jh.current=!1}const iA=new WeakMap;function lA(a,e,n){for(const i in e){const o=e[i],d=n[i];if(Ot(o))a.addValue(i,o);else if(Ot(d))a.addValue(i,Er(o,{owner:a}));else if(d!==o)if(a.hasValue(i)){const u=a.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=a.getStaticValue(i);a.addValue(i,Er(u!==void 0?u:o,{owner:a}))}}for(const i in n)e[i]===void 0&&a.removeValue(i);return e}const zx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oA{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:d,visualState:u},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Um,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Lt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ze.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!d,this.isControllingVariants=bc(n),this.isVariantNode=nw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const j=v[w];f[w]!==void 0&&Ot(j)&&j.set(f[w])}}mount(e){var n;this.current=e,iA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(bw.current||rA(),this.shouldReduceMotion=Jh.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Us(this.notifyUpdate),Us(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ur.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),d&&d(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dr){const n=Dr[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const d=this.features[e];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<zx.length;i++){const o=zx[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const d="on"+o,u=e[d];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=lA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Er(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(cv(i)||uv(i))?i=parseFloat(i):!fT(i)&&Bs.test(n)&&(i=Yv(e,n)),this.setBaseTarget(e,Ot(i)?i.get():i)),Ot(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var d;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=Km(this.props,n,(d=this.presenceContext)==null?void 0:d.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Ot(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _m),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){$m.render(this.render)}}class vw extends oA{constructor(){super(...arguments),this.KeyframeResolver=sT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ot(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ww(a,{style:e,vars:n},i,o){const d=a.style;let u;for(u in e)d[u]=e[u];o==null||o.applyProjectionStyles(d,i);for(u in n)d.setProperty(u,n[u])}function cA(a){return window.getComputedStyle(a)}class dA extends vw{constructor(){super(...arguments),this.type="html",this.renderInstance=ww}readValueFromInstance(e,n){var i;if(Ur.has(n))return(i=this.projection)!=null&&i.isProjecting?qh(n):kC(e,n);{const o=cA(e),d=(Nv(n)?o.getPropertyValue(n):o[n])||0;return typeof d=="string"?d.trim():d}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xw(e,n)}build(e,n,i){Gm(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Zm(e,n,i)}}const kw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uA(a,e,n,i){ww(a,e,void 0,i);for(const o in e.attrs)a.setAttribute(kw.has(o)?o:Wm(o),e.attrs[o])}class hA extends vw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ur.has(n)){const i=Fv(n);return i&&i.default||0}return n=kw.has(n)?n:Wm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return uw(e,n,i)}build(e,n,i){lw(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){uA(e,n,i,o)}mount(e){this.isSVGTag=cw(e.tagName),super.mount(e)}}const mA=(a,e)=>e.isSVG??Ym(a)?new hA(e):new dA(e,{allowProjection:a!==b.Fragment});function Cr(a,e,n){const i=a.getProps();return Km(i,e,n!==void 0?n:i.custom,a)}const em=a=>Array.isArray(a);function fA(a,e,n){a.hasValue(e)?a.getValue(e).set(n):a.addValue(e,Er(n))}function gA(a){return em(a)?a[a.length-1]||0:a}function pA(a,e){const n=Cr(a,e);let{transitionEnd:i={},transition:o={},...d}=n||{};d={...d,...i};for(const u in d){const m=gA(d[u]);fA(a,u,m)}}function yA(a){return!!(Ot(a)&&a.add)}function tm(a,e){const n=a.getValue("willChange");if(yA(n))return n.add(e);if(!n&&ss.WillChange){const i=new ss.WillChange("auto");a.addValue("willChange",i),i.add(e)}}function jw(a){return a.props[hw]}const xA=a=>a!==null;function bA(a,{repeat:e,repeatType:n="loop"},i){const o=a.filter(xA),d=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[d]}const vA={type:"spring",stiffness:500,damping:25,restSpeed:10},wA=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),kA={type:"keyframes",duration:.8},jA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SA=(a,{keyframes:e})=>e.length>2?kA:Ur.has(a)?a.startsWith("scale")?wA(e[1]):vA:jA;function NA({when:a,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:d,repeatType:u,repeatDelay:m,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const Xm=(a,e,n,i={},o,d)=>u=>{const m=Bm(i,a)||{},f=m.delay||i.delay||0;let{elapsed:p=0}=i;p=p-as(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-p,onUpdate:w=>{e.set(w),m.onUpdate&&m.onUpdate(w)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:a,motionValue:e,element:d?void 0:o};NA(m)||Object.assign(y,SA(a,y)),y.duration&&(y.duration=as(y.duration)),y.repeatDelay&&(y.repeatDelay=as(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Kh(y),y.delay===0&&(v=!0)),(ss.instantAnimations||ss.skipAnimations)&&(v=!0,Kh(y),y.delay=0),y.allowFlatten=!m.type&&!m.ease,v&&!d&&e.get()!==void 0){const w=bA(y.keyframes,m);if(w!==void 0){Ze.update(()=>{y.onUpdate(w),y.onComplete()});return}}return m.isSync?new Lm(y):new GC(y)};function _A({protectedKeys:a,needsAnimating:e},n){const i=a.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Sw(a,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:d=a.getDefaultTransition(),transitionEnd:u,...m}=e;i&&(d=i);const f=[],p=o&&a.animationState&&a.animationState.getState()[o];for(const y in m){const v=a.getValue(y,a.latestValues[y]??null),w=m[y];if(w===void 0||p&&_A(p,y))continue;const j={delay:n,...Bm(d||{},y)},S=v.get();if(S!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===S&&!j.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const A=jw(a);if(A){const D=window.MotionHandoffAnimation(A,y,Ze);D!==null&&(j.startTime=D,T=!0)}}tm(a,y),v.start(Xm(y,v,w,a.shouldReduceMotion&&qv.has(y)?{type:!1}:j,a,T));const E=v.animation;E&&f.push(E)}return u&&Promise.all(f).then(()=>{Ze.update(()=>{u&&pA(a,u)})}),f}function Nw(a,e,n,i=0,o=1){const d=Array.from(a).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=a.size,m=(u-1)*i;return typeof n=="function"?n(d,u):o===1?d*i:m-d*i}function am(a,e,n={}){var f;const i=Cr(a,e,n.type==="exit"?(f=a.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=a.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const d=i?()=>Promise.all(Sw(a,i,n)):()=>Promise.resolve(),u=a.variantChildren&&a.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:w}=o;return CA(a,e,p,y,v,w,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,y]=m==="beforeChildren"?[d,u]:[u,d];return p().then(()=>y())}else return Promise.all([d(),u(n.delay)])}function CA(a,e,n=0,i=0,o=0,d=1,u){const m=[];for(const f of a.variantChildren)f.notify("AnimationStart",e),m.push(am(f,e,{...u,delay:n+(typeof i=="function"?0:i)+Nw(a.variantChildren,f,i,o,d)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(m)}function TA(a,e,n={}){a.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(d=>am(a,d,n));i=Promise.all(o)}else if(typeof e=="string")i=am(a,e,n);else{const o=typeof e=="function"?Cr(a,e,n.custom):e;i=Promise.all(Sw(a,o,n))}return i.then(()=>{a.notify("AnimationComplete",e)})}function _w(a,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==a.length)return!1;for(let i=0;i<n;i++)if(e[i]!==a[i])return!1;return!0}const AA=Im.length;function Cw(a){if(!a)return;if(!a.isControllingVariants){const n=a.parent?Cw(a.parent)||{}:{};return a.props.initial!==void 0&&(n.initial=a.props.initial),n}const e={};for(let n=0;n<AA;n++){const i=Im[n],o=a.props[i];(rl(o)||o===!1)&&(e[i]=o)}return e}const EA=[...qm].reverse(),DA=qm.length;function zA(a){return e=>Promise.all(e.map(({animation:n,options:i})=>TA(a,n,i)))}function OA(a){let e=zA(a),n=Ox(),i=!0;const o=f=>(p,y)=>{var w;const v=Cr(a,y,f==="exit"?(w=a.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:j,transitionEnd:S,...T}=v;p={...p,...T,...S}}return p};function d(f){e=f(a)}function u(f){const{props:p}=a,y=Cw(a.parent)||{},v=[],w=new Set;let j={},S=1/0;for(let E=0;E<DA;E++){const A=EA[E],D=n[A],_=p[A]!==void 0?p[A]:y[A],C=rl(_),H=A===f?D.isActive:null;H===!1&&(S=E);let V=_===y[A]&&_!==p[A]&&C;if(V&&i&&a.manuallyAnimateOnMount&&(V=!1),D.protectedKeys={...j},!D.isActive&&H===null||!_&&!D.prevProp||xc(_)||typeof _=="boolean")continue;const $=RA(D.prevProp,_);let B=$||A===f&&D.isActive&&!V&&C||E>S&&C,q=!1;const ae=Array.isArray(_)?_:[_];let M=ae.reduce(o(A),{});H===!1&&(M={});const{prevResolvedValues:P={}}=D,R={...P,...M},ee=L=>{B=!0,w.has(L)&&(q=!0,w.delete(L)),D.needsAnimating[L]=!0;const I=a.getValue(L);I&&(I.liveStyle=!1)};for(const L in R){const I=M[L],K=P[L];if(j.hasOwnProperty(L))continue;let te=!1;em(I)&&em(K)?te=!_w(I,K):te=I!==K,te?I!=null?ee(L):w.add(L):I!==void 0&&w.has(L)?ee(L):D.protectedKeys[L]=!0}D.prevProp=_,D.prevResolvedValues=M,D.isActive&&(j={...j,...M}),i&&a.blockInitialAnimation&&(B=!1);const F=V&&$;B&&(!F||q)&&v.push(...ae.map(L=>{const I={type:A};if(typeof L=="string"&&i&&!F&&a.manuallyAnimateOnMount&&a.parent){const{parent:K}=a,te=Cr(K,L);if(K.enteringChildren&&te){const{delayChildren:O}=te.transition||{};I.delay=Nw(K.enteringChildren,a,O)}}return{animation:L,options:I}}))}if(w.size){const E={};if(typeof p.initial!="boolean"){const A=Cr(a,Array.isArray(p.initial)?p.initial[0]:p.initial);A&&A.transition&&(E.transition=A.transition)}w.forEach(A=>{const D=a.getBaseTarget(A),_=a.getValue(A);_&&(_.liveStyle=!0),E[A]=D??null}),v.push({animation:E})}let T=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!a.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(v):Promise.resolve()}function m(f,p){var v;if(n[f].isActive===p)return Promise.resolve();(v=a.variantChildren)==null||v.forEach(w=>{var j;return(j=w.animationState)==null?void 0:j.setActive(f,p)}),n[f].isActive=p;const y=u(f);for(const w in n)n[w].protectedKeys={};return y}return{animateChanges:u,setActive:m,setAnimateFunction:d,getState:()=>n,reset:()=>{n=Ox()}}}function RA(a,e){return typeof e=="string"?e!==a:Array.isArray(e)?!_w(e,a):!1}function hn(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ox(){return{animate:hn(!0),whileInView:hn(),whileHover:hn(),whileTap:hn(),whileDrag:hn(),whileFocus:hn(),exit:hn()}}class Ps{constructor(e){this.isMounted=!1,this.node=e}update(){}}class MA extends Ps{constructor(e){super(e),e.animationState||(e.animationState=OA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let LA=0;class UA extends Ps{constructor(){super(...arguments),this.id=LA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const BA={animation:{Feature:MA},exit:{Feature:UA}};function il(a,e,n,i={passive:!0}){return a.addEventListener(e,n,i),()=>a.removeEventListener(e,n)}function ml(a){return{point:{x:a.pageX,y:a.pageY}}}const PA=a=>e=>Vm(e)&&a(e,ml(e));function qi(a,e,n,i){return il(a,e,PA(n),i)}const Tw=1e-4,$A=1-Tw,VA=1+Tw,Aw=.01,HA=0-Aw,qA=0+Aw;function Ut(a){return a.max-a.min}function IA(a,e,n){return Math.abs(a-e)<=n}function Rx(a,e,n,i=.5){a.origin=i,a.originPoint=Qe(e.min,e.max,a.origin),a.scale=Ut(n)/Ut(e),a.translate=Qe(n.min,n.max,a.origin)-a.originPoint,(a.scale>=$A&&a.scale<=VA||isNaN(a.scale))&&(a.scale=1),(a.translate>=HA&&a.translate<=qA||isNaN(a.translate))&&(a.translate=0)}function Ii(a,e,n,i){Rx(a.x,e.x,n.x,i?i.originX:void 0),Rx(a.y,e.y,n.y,i?i.originY:void 0)}function Mx(a,e,n){a.min=n.min+e.min,a.max=a.min+Ut(e)}function GA(a,e,n){Mx(a.x,e.x,n.x),Mx(a.y,e.y,n.y)}function Lx(a,e,n){a.min=e.min-n.min,a.max=a.min+Ut(e)}function ic(a,e,n){Lx(a.x,e.x,n.x),Lx(a.y,e.y,n.y)}function xa(a){return[a("x"),a("y")]}const Ew=({current:a})=>a?a.ownerDocument.defaultView:null,Ux=(a,e)=>Math.abs(a-e);function FA(a,e){const n=Ux(a.x,e.x),i=Ux(a.y,e.y);return Math.sqrt(n**2+i**2)}const Bx=new Set(["auto","scroll"]);class Dw{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:d=!1,distanceThreshold:u=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=j=>{this.handleScroll(j.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=fh(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,T=FA(j.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!T)return;const{point:E}=j,{timestamp:A}=Dt;this.history.push({...E,timestamp:A});const{onStart:D,onMove:_}=this.handlers;S||(D&&D(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,j)},this.handlePointerMove=(j,S)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=mh(S,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(j,S)=>{this.end();const{onEnd:T,onSessionEnd:E,resumeAnimation:A}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=fh(j.type==="pointercancel"?this.lastMoveEventInfo:mh(S,this.transformPagePoint),this.history);this.startEvent&&T&&T(j,D),E&&E(j,D)},!Vm(e))return;this.dragSnapToOrigin=d,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const f=ml(e),p=mh(f,this.transformPagePoint),{point:y}=p,{timestamp:v}=Dt;this.history=[{...y,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,fh(p,this.history)),this.removeListeners=dl(qi(this.contextWindow,"pointermove",this.handlePointerMove),qi(this.contextWindow,"pointerup",this.handlePointerUp),qi(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(Bx.has(i.overflowX)||Bx.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,o=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},d={x:o.x-n.x,y:o.y-n.y};d.x===0&&d.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=d.x,this.lastMoveEventInfo.point.y+=d.y):this.history.length>0&&(this.history[0].x-=d.x,this.history[0].y-=d.y),this.scrollPositions.set(e,o),Ze.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Us(this.updatePoint)}}function mh(a,e){return e?{point:e(a.point)}:a}function Px(a,e){return{x:a.x-e.x,y:a.y-e.y}}function fh({point:a},e){return{point:a,delta:Px(a,zw(e)),offset:Px(a,YA(e)),velocity:KA(e,.1)}}function YA(a){return a[0]}function zw(a){return a[a.length-1]}function KA(a,e){if(a.length<2)return{x:0,y:0};let n=a.length-1,i=null;const o=zw(a);for(;n>=0&&(i=a[n],!(o.timestamp-i.timestamp>as(e)));)n--;if(!i)return{x:0,y:0};const d=ba(o.timestamp-i.timestamp);if(d===0)return{x:0,y:0};const u={x:(o.x-i.x)/d,y:(o.y-i.y)/d};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function ZA(a,{min:e,max:n},i){return e!==void 0&&a<e?a=i?Qe(e,a,i.min):Math.max(a,e):n!==void 0&&a>n&&(a=i?Qe(n,a,i.max):Math.min(a,n)),a}function $x(a,e,n){return{min:e!==void 0?a.min+e:void 0,max:n!==void 0?a.max+n-(a.max-a.min):void 0}}function WA(a,{top:e,left:n,bottom:i,right:o}){return{x:$x(a.x,n,o),y:$x(a.y,e,i)}}function Vx(a,e){let n=e.min-a.min,i=e.max-a.max;return e.max-e.min<a.max-a.min&&([n,i]=[i,n]),{min:n,max:i}}function XA(a,e){return{x:Vx(a.x,e.x),y:Vx(a.y,e.y)}}function QA(a,e){let n=.5;const i=Ut(a),o=Ut(e);return o>i?n=al(e.min,e.max-i,a.min):i>o&&(n=al(a.min,a.max-o,e.min)),La(0,1,n)}function JA(a,e){const n={};return e.min!==void 0&&(n.min=e.min-a.min),e.max!==void 0&&(n.max=e.max-a.min),n}const sm=.35;function eE(a=sm){return a===!1?a=0:a===!0&&(a=sm),{x:Hx(a,"left","right"),y:Hx(a,"top","bottom")}}function Hx(a,e,n){return{min:qx(a,e),max:qx(a,n)}}function qx(a,e){return typeof a=="number"?a:a[e]||0}const tE=new WeakMap;class aE{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const d=v=>{n?(this.stopAnimation(),this.snapToCursor(ml(v).point)):this.pauseAnimation()},u=(v,w)=>{this.stopAnimation();const{drag:j,dragPropagation:S,onDragStart:T}=this.getProps();if(j&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lT(j),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xa(A=>{let D=this.getAxisMotionValue(A).get()||0;if(Ra.test(D)){const{projection:_}=this.visualElement;if(_&&_.layout){const C=_.layout.layoutBox[A];C&&(D=Ut(C)*(parseFloat(D)/100))}}this.originPoint[A]=D}),T&&Ze.postRender(()=>T(v,w)),tm(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},m=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:j,dragDirectionLock:S,onDirectionLock:T,onDrag:E}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:A}=w;if(S&&this.currentDirection===null){this.currentDirection=sE(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",w.point,A),this.updateAxis("y",w.point,A),this.visualElement.render(),E&&E(v,w)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>xa(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)==null?void 0:w.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Dw(e,{onSessionStart:d,onStart:u,onMove:m,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:Ew(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,d=this.isDragging;if(this.cancel(),!d||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&Ze.postRender(()=>m(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!$o(e,o,this.currentDirection))return;const d=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=ZA(u,this.constraints[e],this.elastic[e])),d.set(u)}resolveConstraints(){var d;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(d=this.visualElement.projection)==null?void 0:d.layout,o=this.constraints;e&&Ui(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=WA(i.layoutBox,e):this.constraints=!1,this.elastic=eE(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xa(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=JA(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ui(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const d=nA(i,o.root,this.visualElement.getTransformPagePoint());let u=XA(o.layout.layoutBox,d);if(n){const m=n(tA(u));this.hasMutatedConstraints=!!m,m&&(u=gw(m))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:d,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),f=this.constraints||{},p=xa(y=>{if(!$o(y,n,this.currentDirection))return;let v=f&&f[y]||{};u&&(v={min:0,max:0});const w=o?200:1e6,j=o?40:1e7,S={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...d,...v};return this.startAxisValueAnimation(y,S)});return Promise.all(p).then(m)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return tm(this.visualElement,e),i.start(Xm(e,i,0,n,this.visualElement,!1))}stopAnimation(){xa(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xa(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){xa(n=>{const{drag:i}=this.getProps();if(!$o(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,d=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:m}=o.layout.layoutBox[n],f=d.get()||0;d.set(e[n]-Qe(u,m,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ui(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xa(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const f=m.get();o[u]=QA({min:f,max:f},this.constraints[u])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),xa(u=>{if(!$o(u,e,null))return;const m=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];m.set(Qe(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;tE.set(this.visualElement,this);const e=this.visualElement.current,n=qi(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&!Jv(f.target)&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Ui(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,d=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ze.read(i);const u=il(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(xa(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=f[y].translate,v.set(v.get()+f[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),d(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:d=!1,dragElastic:u=sm,dragMomentum:m=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:d,dragElastic:u,dragMomentum:m}}}function $o(a,e,n){return(e===!0||e===a)&&(n===null||n===a)}function sE(a,e=10){let n=null;return Math.abs(a.y)>e?n="y":Math.abs(a.x)>e&&(n="x"),n}class nE extends Ps{constructor(e){super(e),this.removeGroupControls=va,this.removeListeners=va,this.controls=new aE(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||va}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ix=a=>(e,n)=>{a&&Ze.postRender(()=>a(e,n))};class rE extends Ps{constructor(){super(...arguments),this.removePointerDownListener=va}onPointerDown(e){this.session=new Dw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ew(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Ix(e),onStart:Ix(n),onMove:i,onEnd:(d,u)=>{delete this.session,o&&Ze.postRender(()=>o(d,u))}}}mount(){this.removePointerDownListener=qi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Go={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let gh=!1;class iE extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:d}=e;d&&(n.group&&n.group.add(d),i&&i.register&&o&&i.register(d),gh&&d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),Go.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:d}=this.props,{projection:u}=i;return u&&(u.isPresent=d,gh=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==d?u.willUpdate():this.safeToRemove(),e.isPresent!==d&&(d?u.promote():u.relegate()||Ze.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$m.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;gh=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ow(a){const[e,n]=tw(),i=b.useContext(bm);return r.jsx(iE,{...a,layoutGroup:i,switchLayoutGroup:b.useContext(mw),isPresent:e,safeToRemove:n})}function lE(a,e,n){const i=Ot(a)?a:Er(a);return i.start(Xm("",i,e,n)),i.animation}const oE=(a,e)=>a.depth-e.depth;class cE{constructor(){this.children=[],this.isDirty=!1}add(e){km(this.children,e),this.isDirty=!0}remove(e){jm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oE),this.isDirty=!1,this.children.forEach(e)}}function dE(a,e){const n=Lt.now(),i=({timestamp:o})=>{const d=o-n;d>=e&&(Us(i),a(d-e))};return Ze.setup(i,!0),()=>Us(i)}const Rw=["TopLeft","TopRight","BottomLeft","BottomRight"],uE=Rw.length,Gx=a=>typeof a=="string"?parseFloat(a):a,Fx=a=>typeof a=="number"||fe.test(a);function hE(a,e,n,i,o,d){o?(a.opacity=Qe(0,n.opacity??1,mE(i)),a.opacityExit=Qe(e.opacity??1,0,fE(i))):d&&(a.opacity=Qe(e.opacity??1,n.opacity??1,i));for(let u=0;u<uE;u++){const m=`border${Rw[u]}Radius`;let f=Yx(e,m),p=Yx(n,m);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Fx(f)===Fx(p)?(a[m]=Math.max(Qe(Gx(f),Gx(p),i),0),(Ra.test(p)||Ra.test(f))&&(a[m]+="%")):a[m]=p}(e.rotate||n.rotate)&&(a.rotate=Qe(e.rotate||0,n.rotate||0,i))}function Yx(a,e){return a[e]!==void 0?a[e]:a.borderRadius}const mE=Mw(0,.5,bv),fE=Mw(.5,.95,va);function Mw(a,e,n){return i=>i<a?0:i>e?1:n(al(a,e,i))}function Kx(a,e){a.min=e.min,a.max=e.max}function Sa(a,e){Kx(a.x,e.x),Kx(a.y,e.y)}function Zx(a,e){a.translate=e.translate,a.scale=e.scale,a.originPoint=e.originPoint,a.origin=e.origin}function Wx(a,e,n,i,o){return a-=e,a=rc(a,1/n,i),o!==void 0&&(a=rc(a,1/o,i)),a}function gE(a,e=0,n=1,i=.5,o,d=a,u=a){if(Ra.test(e)&&(e=parseFloat(e),e=Qe(u.min,u.max,e/100)-u.min),typeof e!="number")return;let m=Qe(d.min,d.max,i);a===d&&(m-=e),a.min=Wx(a.min,e,n,m,o),a.max=Wx(a.max,e,n,m,o)}function Xx(a,e,[n,i,o],d,u){gE(a,e[n],e[i],e[o],e.scale,d,u)}const pE=["x","scaleX","originX"],yE=["y","scaleY","originY"];function Qx(a,e,n,i){Xx(a.x,e,pE,n?n.x:void 0,i?i.x:void 0),Xx(a.y,e,yE,n?n.y:void 0,i?i.y:void 0)}function Jx(a){return a.translate===0&&a.scale===1}function Lw(a){return Jx(a.x)&&Jx(a.y)}function eb(a,e){return a.min===e.min&&a.max===e.max}function xE(a,e){return eb(a.x,e.x)&&eb(a.y,e.y)}function tb(a,e){return Math.round(a.min)===Math.round(e.min)&&Math.round(a.max)===Math.round(e.max)}function Uw(a,e){return tb(a.x,e.x)&&tb(a.y,e.y)}function ab(a){return Ut(a.x)/Ut(a.y)}function sb(a,e){return a.translate===e.translate&&a.scale===e.scale&&a.originPoint===e.originPoint}class bE{constructor(){this.members=[]}add(e){km(this.members,e),e.scheduleRender()}remove(e){if(jm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const d=this.members[o];if(d.isPresent!==!1){i=d;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vE(a,e,n){let i="";const o=a.x.translate/e.x,d=a.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||d||u)&&(i=`translate3d(${o}px, ${d}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:w,skewX:j,skewY:S}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),j&&(i+=`skewX(${j}deg) `),S&&(i+=`skewY(${S}deg) `)}const m=a.x.scale*e.x,f=a.y.scale*e.y;return(m!==1||f!==1)&&(i+=`scale(${m}, ${f})`),i||"none"}const ph=["","X","Y","Z"],wE=1e3;let kE=0;function yh(a,e,n,i){const{latestValues:o}=e;o[a]&&(n[a]=o[a],e.setStaticValue(a,0),i&&(i[a]=0))}function Bw(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:e}=a.options;if(!e)return;const n=jw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:d}=a.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(o||d))}const{parent:i}=a;i&&!i.hasCheckedOptimisedAppear&&Bw(i)}function Pw({attachResizeListener:a,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},m=e==null?void 0:e()){this.id=kE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(NE),this.nodes.forEach(AE),this.nodes.forEach(EE),this.nodes.forEach(_E)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new cE)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new _m),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const f=this.eventHandlers.get(u);f&&f.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ew(u)&&!hT(u),this.instance=u;const{layoutId:m,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||m)&&(this.isLayoutDirty=!0),a){let y,v=0;const w=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{v=window.innerWidth}),a(u,()=>{const j=window.innerWidth;j!==v&&(v=j,this.root.updateBlockedByResize=!0,y&&y(),y=dE(w,250),Go.hasAnimatedSinceResize&&(Go.hasAnimatedSinceResize=!1,this.nodes.forEach(ib)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&p&&(m||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||ME,{onLayoutAnimationStart:T,onLayoutAnimationComplete:E}=p.getProps(),A=!this.targetLayout||!Uw(this.targetLayout,j),D=!v&&w;if(this.options.layoutRoot||this.resumeFrom||D||v&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...Bm(S,"layout"),onPlay:T,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(y,D)}else v||ib(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DE),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:m,layout:f}=this.options;if(m===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(TE),this.nodes.forEach(jE),this.nodes.forEach(SE)):this.nodes.forEach(rb),this.clearAllSnapshots();const m=Lt.now();Dt.delta=La(0,1e3/60,m-Dt.timestamp),Dt.timestamp=m,Dt.isProcessing=!0,nh.update.process(Dt),nh.preRender.process(Dt),nh.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$m.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CE),this.sharedNodes.forEach(zE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ut(this.snapshot.measuredBox.x)&&!Ut(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Lw(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(m||fn(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let f=this.removeElementScroll(m);return u&&(f=this.removeTransform(f)),LE(f),{animationId:this.root.animationId,measuredBox:m,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return yt();const m=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(UE))){const{scroll:y}=this.root;y&&(wr(m.x,y.offset.x),wr(m.y,y.offset.y))}return m}removeElementScroll(u){var f;const m=yt();if(Sa(m,u),(f=this.scroll)!=null&&f.wasRoot)return m;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:v,options:w}=y;y!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&Sa(m,u),wr(m.x,v.offset.x),wr(m.y,v.offset.y))}return m}applyTransform(u,m=!1){const f=yt();Sa(f,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!m&&y.options.layoutScroll&&y.scroll&&y!==y.root&&kr(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),fn(y.latestValues)&&kr(f,y.latestValues)}return fn(this.latestValues)&&kr(f,this.latestValues),f}removeTransform(u){const m=yt();Sa(m,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!fn(p.latestValues))continue;Xh(p.latestValues)&&p.updateSnapshot();const y=yt(),v=p.measurePageBox();Sa(y,v),Qx(m,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return fn(this.latestValues)&&Qx(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var j;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==m;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=Dt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sa(this.target,this.layout.layoutBox),yw(this.target,this.targetDelta)):Sa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Xh(this.parent.latestValues)||pw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,m,f){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),ic(this.relativeTargetOrigin,m,f),Sa(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var S;const u=this.getLead(),m=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Sa(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;sA(this.layoutCorrected,this.treeScale,this.path,m),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=yt());const{target:j}=u;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zx(this.prevProjectionDelta.x,this.projectionDelta.x),Zx(this.prevProjectionDelta.y,this.projectionDelta.y)),Ii(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!sb(this.projectionDelta.x,this.prevProjectionDelta.x)||!sb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jr(),this.projectionDelta=jr(),this.projectionDeltaWithTransform=jr()}setAnimationOrigin(u,m=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},v=jr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const w=yt(),j=f?f.source:void 0,S=this.layout?this.layout.source:void 0,T=j!==S,E=this.getStack(),A=!E||E.members.length<=1,D=!!(T&&!A&&this.options.crossfade===!0&&!this.path.some(RE));this.animationProgress=0;let _;this.mixTargetDelta=C=>{const H=C/1e3;lb(v.x,u.x,H),lb(v.y,u.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ic(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OE(this.relativeTarget,this.relativeTargetOrigin,w,H),_&&xE(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=yt()),Sa(_,this.relativeTarget)),T&&(this.animationValues=y,hE(y,p,this.latestValues,H,D,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var m,f,p;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Go.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Er(0)),this.currentAnimation=lE(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),u.onUpdate&&u.onUpdate(y)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:f,layout:p,latestValues:y}=u;if(!(!m||!f||!p)){if(this!==u&&this.layout&&p&&$w(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||yt();const v=Ut(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const w=Ut(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+w}Sa(m,f),kr(m,y),Ii(this.projectionDeltaWithTransform,this.layoutCorrected,m,y)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new bE),this.sharedNodes.get(u).add(m);const p=m.options.initialPromotionConfig;m.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var m;const{layoutId:u}=this.options;return u?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:u}=this.options;return u?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(m=!0),!m)return;const p={};f.z&&yh("z",u,p,this.animationValues);for(let y=0;y<ph.length;y++)yh(`rotate${ph[y]}`,u,p,this.animationValues),yh(`skew${ph[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Io(m==null?void 0:m.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Io(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!fn(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=vE(this.projectionDeltaWithTransform,this.treeScale,y);f&&(v=f(y,v)),u.transform=v;const{x:w,y:j}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${j.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in Wh){if(y[S]===void 0)continue;const{correct:T,applyTo:E,isCSSVariable:A}=Wh[S],D=v==="none"?y[S]:T(y[S],p);if(E){const _=E.length;for(let C=0;C<_;C++)u[E[C]]=D}else A?this.options.visualElement.renderState.vars[S]=D:u[S]=D}this.options.layoutId&&(u.pointerEvents=p===this?Io(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var m;return(m=u.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(nb),this.root.sharedNodes.clear()}}}function jE(a){a.updateLayout()}function SE(a){var n;const e=((n=a.resumeFrom)==null?void 0:n.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&e&&a.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=a.layout,{animationType:d}=a.options,u=e.source!==a.layout.source;d==="size"?xa(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],j=Ut(w);w.min=i[v].min,w.max=w.min+j}):$w(d,e.layoutBox,i)&&xa(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],j=Ut(i[v]);w.max=w.min+j,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[v].max=a.relativeTarget[v].min+j)});const m=jr();Ii(m,i,e.layoutBox);const f=jr();u?Ii(f,a.applyTransform(o,!0),e.measuredBox):Ii(f,i,e.layoutBox);const p=!Lw(m);let y=!1;if(!a.resumeFrom){const v=a.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:j}=v;if(w&&j){const S=yt();ic(S,e.layoutBox,w.layoutBox);const T=yt();ic(T,i,j.layoutBox),Uw(S,T)||(y=!0),v.options.layoutRoot&&(a.relativeTarget=T,a.relativeTargetOrigin=S,a.relativeParent=v)}}}a.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(a.isLead()){const{onExitComplete:i}=a.options;i&&i()}a.options.transition=void 0}function NE(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function _E(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function CE(a){a.clearSnapshot()}function nb(a){a.clearMeasurements()}function rb(a){a.isLayoutDirty=!1}function TE(a){const{visualElement:e}=a.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),a.resetTransform()}function ib(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function AE(a){a.resolveTargetDelta()}function EE(a){a.calcProjection()}function DE(a){a.resetSkewAndRotation()}function zE(a){a.removeLeadSnapshot()}function lb(a,e,n){a.translate=Qe(e.translate,0,n),a.scale=Qe(e.scale,1,n),a.origin=e.origin,a.originPoint=e.originPoint}function ob(a,e,n,i){a.min=Qe(e.min,n.min,i),a.max=Qe(e.max,n.max,i)}function OE(a,e,n,i){ob(a.x,e.x,n.x,i),ob(a.y,e.y,n.y,i)}function RE(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const ME={duration:.45,ease:[.4,0,.1,1]},cb=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),db=cb("applewebkit/")&&!cb("chrome/")?Math.round:va;function ub(a){a.min=db(a.min),a.max=db(a.max)}function LE(a){ub(a.x),ub(a.y)}function $w(a,e,n){return a==="position"||a==="preserve-aspect"&&!IA(ab(e),ab(n),.2)}function UE(a){var e;return a!==a.root&&((e=a.scroll)==null?void 0:e.wasRoot)}const BE=Pw({attachResizeListener:(a,e)=>il(a,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xh={current:void 0},Vw=Pw({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!xh.current){const a=new BE({});a.mount(window),a.setOptions({layoutScroll:!0}),xh.current=a}return xh.current},resetTransform:(a,e)=>{a.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),PE={pan:{Feature:rE},drag:{Feature:nE,ProjectionNode:Vw,MeasureLayout:Ow}};function hb(a,e,n){const{props:i}=a;a.animationState&&i.whileHover&&a.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,d=i[o];d&&Ze.postRender(()=>d(e,ml(e)))}class $E extends Ps{mount(){const{current:e}=this.node;e&&(this.unmount=oT(e,(n,i)=>(hb(this.node,i,"Start"),o=>hb(this.node,o,"End"))))}unmount(){}}class VE extends Ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dl(il(this.node.current,"focus",()=>this.onFocus()),il(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mb(a,e,n){const{props:i}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&i.whileTap&&a.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),d=i[o];d&&Ze.postRender(()=>d(e,ml(e)))}class HE extends Ps{mount(){const{current:e}=this.node;e&&(this.unmount=uT(e,(n,i)=>(mb(this.node,i,"Start"),(o,{success:d})=>mb(this.node,o,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nm=new WeakMap,bh=new WeakMap,qE=a=>{const e=nm.get(a.target);e&&e(a)},IE=a=>{a.forEach(qE)};function GE({root:a,...e}){const n=a||document;bh.has(n)||bh.set(n,{});const i=bh.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(IE,{root:a,...e})),i[o]}function FE(a,e,n){const i=GE(e);return nm.set(a,n),i.observe(a),()=>{nm.delete(a),i.unobserve(a)}}const YE={some:0,all:1};class KE extends Ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:d}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:YE[o]},m=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,d&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),w=p?y:v;w&&w(f)};return FE(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ZE(e,n))&&this.startObserver()}unmount(){}}function ZE({viewport:a={}},{viewport:e={}}={}){return n=>a[n]!==e[n]}const WE={inView:{Feature:KE},tap:{Feature:HE},focus:{Feature:VE},hover:{Feature:$E}},XE={layout:{ProjectionNode:Vw,MeasureLayout:Ow}},QE={...BA,...WE,...PE,...XE},kt=eA(QE,mA),JE=({onLoginClick:a,onSignupClick:e,navigate:n})=>{const{t:i}=b4(),[o,d]=pb.useState(0),u=[{id:0,title:"Genel Bak",src:"/screenshot-dashboard.png",alt:"retmen Paneli"},{id:1,title:"Snf Listesi",src:"/screenshot-students.png",alt:"Snf Ynetimi"},{id:2,title:"Geliim Detay",src:"/screenshot-profile.png",alt:"renci Profili"}],m=[{title:"Hzl Gzlem Kayd",description:"Snf iinde kaybolmadan, saniyeler iinde sesli veya yazl gzlem notlar aln.",icon:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",stroke:"#fff",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),color:"bg-blue-500"},{title:"Yapay Zeka Analizi",description:"Gzlemleriniz annda analiz edilir, geliim alanlarna gre otomatik etiketlenir.",icon:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",stroke:"#fff",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"bg-orange-500"},{title:"Otomatik Raporlar",description:"Dnem sonu karmaasna son. Tek tkla detayl geliim raporlar PDF olarak hazr.",icon:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",stroke:"#fff",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),color:"bg-emerald-500"}];return r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col font-sans",children:[r.jsx("nav",{className:"w-full bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-100",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16 items-center",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("img",{src:"/lukid-logo-navbar-v3.png",alt:"Lukid AI Logo",className:"h-14 w-auto -ml-2"}),r.jsxs("span",{className:"text-2xl font-bold tracking-tight -ml-2",children:[r.jsx("span",{className:"text-slate-900",children:"Lukid"}),r.jsx("span",{className:"text-orange-500",children:" AI"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:a,className:"text-gray-600 hover:text-orange-600 font-medium text-sm transition-colors",children:"Giri Yap"}),r.jsx("button",{onClick:e,className:"bg-orange-600 hover:bg-orange-700 text-white px-5 py-2 rounded-full text-sm font-medium transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"cretsiz Dene"})]})]})})}),r.jsxs("main",{className:"flex-grow",children:[r.jsxs("div",{className:"relative overflow-hidden pt-16 pb-32",children:[r.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-orange-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),r.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-yellow-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center",children:[r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[r.jsx("div",{className:"inline-block px-4 py-1.5 mb-6 rounded-full bg-orange-50 border border-orange-100 text-orange-600 text-sm font-semibold tracking-wide",children:" Okul ncesi retmenleri iin Yeni Nesil Asistan"}),r.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold text-gray-900 tracking-tight leading-tight mb-8",children:["Snfnz ",r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-red-500",children:"Yapay Zeka"})," ile ",r.jsx("br",{})," Ynetin"]}),r.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-500 mb-10",children:"Gzlem notlar, geliim raporlar ve veli iletiimi tek bir yerde. Siz ocuklara odaklann, evrak ilerini Lukid AI halletsin."}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx("button",{onClick:e,className:"px-8 py-4 bg-orange-600 text-white rounded-xl text-lg font-bold shadow-lg hover:bg-orange-700 hover:shadow-xl transition-all transform hover:-translate-y-1",children:"Hemen Bala"}),r.jsx("button",{onClick:()=>n("features"),className:"px-8 py-4 bg-white text-gray-700 border border-gray-200 rounded-xl text-lg font-bold shadow-sm hover:bg-gray-50 hover:border-gray-300 transition-all hover:text-orange-600",children:"Kefet"})]})]}),r.jsxs(kt.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"mt-16 mx-auto max-w-5xl",children:[r.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:u.map((f,p)=>r.jsx("button",{onClick:()=>d(p),className:`px-6 py-2 rounded-full text-sm font-semibold transition-all duration-300 ${o===p?"bg-white text-orange-600 shadow-md ring-1 ring-orange-100 transform scale-105":"bg-white/50 text-gray-500 hover:bg-white hover:text-gray-700"}`,children:f.title},f.id))}),r.jsxs("div",{className:"rounded-2xl shadow-2xl border border-gray-200 overflow-hidden bg-white",children:[r.jsxs("div",{className:"bg-gray-100 border-b border-gray-200 px-4 py-3 flex items-center gap-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),r.jsxs("div",{className:"ml-4 bg-white px-3 py-1 rounded-md text-xs text-gray-400 flex-grow text-center font-mono",children:["lukidai.com/app/",u[o].src.split("-")[1].replace(".png","")]})]}),r.jsx("div",{className:"w-full aspect-video bg-gray-50 flex items-center justify-center overflow-hidden relative",style:{aspectRatio:"16/9"},children:u.map((f,p)=>r.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 transform ${o===p?"opacity-100 z-10 scale-100":"opacity-0 z-0 scale-95"}`,children:r.jsx("img",{src:f.src,alt:f.alt,className:"object-cover w-full h-full"})},f.id))})]})]})]})]}),r.jsx("div",{className:"bg-white py-24",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Neden Lukid AI?"}),r.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Modern retmenlerin sper gc."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:m.map((f,p)=>r.jsxs(kt.div,{whileHover:{y:-5},className:"bg-gray-50 rounded-2xl p-8 border border-gray-100 hover:border-orange-100 hover:shadow-lg transition-all",children:[r.jsx("div",{className:`w-14 h-14 ${f.color} rounded-xl flex items-center justify-center mb-6 shadow-md`,children:f.icon}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:f.title}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:f.description})]},p))})]})})]}),r.jsx("footer",{className:"bg-gray-900 text-white py-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"col-span-1 md:col-span-2",children:[r.jsx("div",{className:"flex items-center gap-2 mb-4",children:r.jsx("span",{className:"text-2xl font-bold",children:"Lukid AI"})}),r.jsx("p",{className:"text-gray-400 max-w-sm",children:"Erken ocukluk eitiminde yapay zeka destekli dijital portfolyo uygulamas. Trkiye Yzyl Maarif Modeli Okul ncesi Eitim Program ile uyumlu olarak okul ncesi retmenleri iin tasarland."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"rn"}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsx("li",{children:r.jsx("button",{onClick:()=>n("features"),className:"hover:text-white transition-colors text-left",children:"zellikler"})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>n("pricing"),className:"hover:text-white transition-colors text-left",children:"Fiyatlandrma"})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>n("faq"),className:"hover:text-white transition-colors text-left",children:"SSS"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Proje"}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsx("li",{children:r.jsx("button",{onClick:()=>n("about"),className:"hover:text-white transition-colors text-left",children:"Hakkmzda"})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>n("contact"),className:"hover:text-white transition-colors text-left",children:"letiim"})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>n("privacy"),className:"hover:text-white transition-colors text-left",children:"Gizlilik Politikas"})})]})]})]}),r.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," Lukid AI. Tm haklar sakldr."]})]})})]})},e6=({onBack:a})=>{const e=[{icon:"",title:"Odak",description:"retmenlerin asl ilerine - ocuklara - odaklanabilmesi iin evrak ykn minimuma indiriyoruz."},{icon:"",title:"Gven",description:"Verileriniz en st dzey gvenlik standartlaryla korunur. Gizliliiniz bizim nceliimizdir."},{icon:"",title:"Yenilik",description:"Yapay zeka teknolojisini eitimin hizmetine sunarak daha iyi sonular elde ediyoruz."},{icon:"",title:"Empati",description:"Her ocuun biricik olduuna inanyoruz."}];return r.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[r.jsx("nav",{className:"w-full bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-100",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16 items-center",children:[r.jsxs("div",{className:"flex items-center cursor-pointer",onClick:a,children:[r.jsx("img",{src:"/lukid-logo-navbar-v3.png",alt:"Lukid AI Logo",className:"h-10 w-auto -ml-2"}),r.jsxs("span",{className:"text-xl font-bold tracking-tight -ml-2",children:[r.jsx("span",{className:"text-slate-900",children:"Lukid"}),r.jsx("span",{className:"text-orange-500",children:" AI"})]})]}),r.jsx("button",{onClick:a,className:"text-gray-600 hover:text-orange-600 font-medium text-sm transition-colors",children:" Ana Sayfaya Dn"})]})})}),r.jsxs("div",{className:"relative bg-gradient-to-br from-orange-50 via-white to-red-50 py-20 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-orange-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-red-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20"}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[r.jsx("span",{className:"inline-block px-4 py-1.5 mb-6 rounded-full bg-orange-100 text-orange-600 text-sm font-semibold",children:" Trkiye Yzyl Maarif Modeli Uyumlu"}),r.jsxs("h1",{className:"text-4xl font-extrabold text-gray-900 sm:text-5xl lg:text-6xl mb-6",children:["retmenlere ",r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-red-500",children:"Sper G"})," Veriyoruz"]}),r.jsxs("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:["Lukid AI, ",r.jsx("strong",{children:"Trkiye Yzyl Maarif Modeli Okul ncesi Eitim Program"}),"'na uygun alan, Trkiye'nin ilk yapay zeka destekli dijital portfolyo aracdr."]})]})})]}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 sm:p-12 mb-12",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Hikayemiz"})]}),r.jsxs("div",{className:"space-y-6 text-gray-600 leading-relaxed",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-gray-900",children:"2024 ylnda"}),", okul ncesi eitimde alan retmenlerin karlat en byk sorunu zmek iin yola ktk:",r.jsx("em",{className:"text-orange-600",children:" Sonsuz evrak ileri ve yetersiz zaman."})]}),r.jsxs("p",{children:["Aratrmalarmz gsterdi ki, bir okul ncesi retmeni gnlk alma sresinin ",r.jsx("strong",{children:"%40'ndan fazlasn"})," gzlem notlar almak, geliim raporlar hazrlamak ve veli iletiimi kurmak iin harcyor. Bu da demek oluyor ki, ocuklarla kaliteli vakit geirmek iin gereken zaman ve enerji ciddi ekilde azalyor."]}),r.jsxs("p",{children:["Lukid AI olarak biz, ",r.jsx("strong",{children:"yapay zeka teknolojisini retmenlerin yerine gemek iin deil, onlarn en gl yardmcs yapmak iin"})," kullanyoruz. Gelitirdiimiz akll algoritmalar, ksa sesli veya yazl notlarnz analiz ederek, MEB mfredatna uygun, pedagojik adan zengin geliim raporlarna dntrr."]}),r.jsxs("div",{className:"bg-orange-50 rounded-xl p-6 border border-orange-100",children:[r.jsx("p",{className:"text-orange-800 italic",children:'"Her ocuk bir dnya, her an bir frsat. retmenlerin bu frsatlar en iyi ekilde deerlendirmesi iin teknoloji bir ara olmal, engel deil."'}),r.jsx("p",{className:"text-orange-600 font-medium mt-2",children:" Lukid AI Ekibi"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl p-8 text-white",children:[r.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center mb-6",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-3",children:"Maarif Modeli Uyumlu Yapay Zeka"}),r.jsxs("p",{className:"text-orange-100 leading-relaxed",children:["Yapay zekamz, ",r.jsx("strong",{className:"text-white",children:"Trkiye Yzyl Maarif Modeli Okul ncesi Eitim Program (2024)"}),"'na gre eitilmitir. Gzlem notlarnz 7 temel beceri alanna gre analiz eder ve renme ktlaryla eletirir."]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-500 rounded-2xl p-8 text-white",children:[r.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center mb-6",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold mb-3",children:"Pedagojik AI Asistan"}),r.jsxs("p",{className:"text-blue-100 leading-relaxed",children:["retmenler, Maarif Modeli'ne gre eitilmi ",r.jsx("strong",{className:"text-white",children:"yapay zeka asistanyla sohbet edebilir"}),". Etkinlik nerileri, geliim takibi ve pedagojik sorularnza annda cevap aln."]})]})]}),r.jsxs("div",{className:"mb-12",children:[r.jsxs("div",{className:"text-center mb-10",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Deerlerimiz"}),r.jsx("p",{className:"text-gray-600",children:"Her kararmzn arkasnda bu ilkeler var."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((n,i)=>r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},className:"bg-white rounded-xl p-6 border border-gray-100 hover:border-orange-200 hover:shadow-md transition-all",children:[r.jsx("div",{className:"text-3xl mb-3",children:n.icon}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:n.title}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n.description})]},i))})]}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-8 sm:p-12 text-white",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("h2",{className:"text-2xl font-bold",children:"Misyonumuz"})]}),r.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-8",children:"Trkiye'deki tm okul ncesi eitimcilere yapay zeka destekli, kullanm kolay ve gvenilir bir platform sunarak:"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold",children:"1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Zaman Kazandrmak"}),r.jsx("p",{className:"text-gray-400",children:"retmenlerin evrak ilerine harcad sreyi %80 orannda azaltmak."})]})]}),r.jsxs("li",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold",children:"2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Veri Odakl Geliim"}),r.jsx("p",{className:"text-gray-400",children:"Her ocuun geliim yolculuunu bilimsel ve objektif verilerle takip etmek."})]})]}),r.jsxs("li",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold",children:"3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:"Gl letiim"}),r.jsx("p",{className:"text-gray-400",children:"Ebeveynler ve okul arasndaki gven ban effaf, anlalr raporlarla glendirmek."})]})]})]})]})]})}),r.jsx("div",{className:"bg-orange-600 py-16",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Siz de Aramza Katln"}),r.jsx("p",{className:"text-orange-100 text-lg mb-8",children:"Binlerce retmen gibi siz de Lukid AI ile tann."}),r.jsx("button",{onClick:a,className:"px-8 py-4 bg-white text-orange-600 rounded-xl text-lg font-bold shadow-lg hover:bg-orange-50 transition-all transform hover:-translate-y-1",children:"cretsiz Bala "})]})}),r.jsx("footer",{className:"bg-gray-900 text-white py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-400 text-sm",children:[" ",new Date().getFullYear()," Lukid AI. Tm haklar sakldr."]})})]})},t6=({onBack:a})=>{const[e,n]=b.useState({name:"",email:"",subject:"",message:""}),[i,o]=b.useState(!1),[d,u]=b.useState("idle"),[m,f]=b.useState(""),p=v=>{const{name:w,value:j}=v.target;n(S=>({...S,[w]:j}))},y=async v=>{v.preventDefault(),o(!0),u("idle"),f("");try{const{data:w,error:j}=await Z.functions.invoke("send-contact-email",{body:e});if(j)throw new Error(j.message||"Bir hata olutu.");if(w!=null&&w.error)throw new Error(w.error);u("success"),n({name:"",email:"",subject:"",message:""})}catch(w){console.error("Contact form error:",w),u("error"),f(w.message||"Mesaj gnderilemedi. Ltfen tekrar deneyin.")}finally{o(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[r.jsx("nav",{className:"w-full bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-100",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16 items-center",children:[r.jsxs("div",{className:"flex items-center cursor-pointer",onClick:a,children:[r.jsx("img",{src:"/lukid-logo-navbar-v3.png",alt:"Lukid AI Logo",className:"h-10 w-auto -ml-2"}),r.jsxs("span",{className:"text-xl font-bold tracking-tight -ml-2",children:[r.jsx("span",{className:"text-slate-900",children:"Lukid"}),r.jsx("span",{className:"text-orange-500",children:" AI"})]})]}),r.jsx("button",{onClick:a,className:"text-gray-600 hover:text-orange-600 font-medium text-sm transition-colors",children:" Ana Sayfaya Dn"})]})})}),r.jsx("div",{className:"max-w-3xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 sm:text-5xl mb-4",children:"letiime Gein"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Sorularnz, nerileriniz veya ibirlii talepleriniz iin bize ulan."})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-8 sm:p-12",children:d==="success"?r.jsxs(kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Mesajnz letildi!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"En ksa srede size dn yapacaz."}),r.jsx("button",{onClick:()=>u("idle"),className:"text-orange-600 hover:text-orange-700 font-medium",children:"Yeni mesaj gnder"})]}):r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[d==="error"&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:m}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Adnz Soyadnz"}),r.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:e.name,onChange:p,disabled:i,className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 py-3 px-4 border disabled:bg-gray-100",placeholder:"rn: Ahmet Ylmaz"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta Adresiniz"}),r.jsx("input",{type:"email",name:"email",id:"email",required:!0,value:e.email,onChange:p,disabled:i,className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 py-3 px-4 border disabled:bg-gray-100",placeholder:"ahmet@ornek.com"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Konu"}),r.jsx("input",{type:"text",name:"subject",id:"subject",required:!0,value:e.subject,onChange:p,disabled:i,className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 py-3 px-4 border disabled:bg-gray-100",placeholder:"Mesajnzn konusu nedir?"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mesajnz"}),r.jsx("textarea",{name:"message",id:"message",rows:6,required:!0,value:e.message,onChange:p,disabled:i,className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 py-3 px-4 border disabled:bg-gray-100",placeholder:"Bize iletmek istediklerinizi buraya yazn..."})]}),r.jsx("div",{className:"pt-4",children:r.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl shadow-md text-lg font-bold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all transform hover:-translate-y-0.5 disabled:bg-orange-400 disabled:cursor-not-allowed disabled:transform-none",children:i?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Gnderiliyor..."]}):"Mesaj Gnder"})})]})})]})}),r.jsx("footer",{className:"bg-white border-t border-gray-100 py-8 mt-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," Lukid AI."]})})]})},a6=({onBack:a})=>r.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[r.jsx("nav",{className:"w-full bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-100",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16 items-center",children:[r.jsxs("div",{className:"flex items-center cursor-pointer",onClick:a,children:[r.jsx("img",{src:"/lukid-logo-navbar-v3.png",alt:"Lukid AI Logo",className:"h-10 w-auto -ml-2"}),r.jsxs("span",{className:"text-xl font-bold tracking-tight -ml-2",children:[r.jsx("span",{className:"text-slate-900",children:"Lukid"}),r.jsx("span",{className:"text-orange-500",children:" AI"})]})]}),r.jsx("button",{onClick:a,className:"text-gray-600 hover:text-orange-600 font-medium text-sm transition-colors",children:" Ana Sayfaya Dn"})]})})}),r.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 py-16",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),r.jsx("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl mb-4",children:"Gizlilik Politikas"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Verilerinizin gvenlii bizim iin her eyden nemli."}),r.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"Son Gncelleme: 27 Aralk 2024"})]})})}),r.jsx("div",{className:"bg-orange-50 border-b border-orange-100 py-8",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Ksaca zetlemek Gerekirse"}),r.jsxs("ul",{className:"text-gray-600 space-y-1 text-sm",children:[r.jsx("li",{children:" Verilerinizi asla satmyor veya reklam amal kullanmyoruz"}),r.jsx("li",{children:" ocuk verileri tamamen sizin kontrolnzde ve ifreli olarak saklanyor"}),r.jsx("li",{children:" stediiniz zaman verilerinizi silebilirsiniz"}),r.jsx("li",{children:" KVKK ve GDPR uyumlu alyoruz"})]})]})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12 sm:px-6 lg:px-8",children:r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-8",children:[r.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-bold",children:"1"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"1. Giri"})]}),r.jsxs("div",{className:"text-gray-600 leading-relaxed space-y-4",children:[r.jsxs("p",{children:['Lukid AI ("biz", "irketimiz", "platformumuz") olarak, kullanclarmzn gizliliine byk nem veriyoruz. Bu Gizlilik Politikas, web sitemizi (',r.jsx("strong",{children:"lukidai.com"}),") ve mobil uygulamamz kullanrken kiisel verilerinizin nasl toplandn, ilendiini, saklandn ve korunduunu aklar."]}),r.jsxs("p",{children:["Platformumuzu kullanarak bu politikay kabul etmi saylrsnz. Politikamzla ilgili sorularnz iin",r.jsx("a",{href:"mailto:info@lukidai.com",className:"text-orange-600 hover:text-orange-700 font-medium",children:" info@lukidai.com"})," adresinden bizimle iletiime geebilirsiniz."]})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 font-bold",children:"2"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"2. Toplanan Veriler"})]}),r.jsxs("div",{className:"text-gray-600 leading-relaxed space-y-4",children:[r.jsx("p",{children:"Hizmetlerimizi sunabilmek iin aadaki verileri toplarz:"}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Hesap Bilgileri"}),r.jsx("p",{className:"text-sm",children:"Adnz, soyadnz, e-posta adresiniz ve ifreniz (hash'lenmi olarak saklanr). Bu bilgiler hesabnz oluturmak ve ynetmek iin gereklidir."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"ocuk ve Snf Verileri"}),r.jsxs("p",{className:"text-sm",children:["Uygulamaya girdiiniz renci isimleri, snf bilgileri, geliim gzlemleri, fotoraflar ve videolar. ",r.jsx("strong",{className:"text-orange-600",children:"Bu veriler yalnzca sizin eriiminize aktr"})," ve baka kullanclarla paylalmaz."]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Kullanm Verileri"}),r.jsx("p",{className:"text-sm",children:"Uygulamay nasl kullandnza dair anonim istatistikler (rn. hangi zellikler en sk kullanlyor). Bu veriler kimliinizle ilikilendirilmez."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Teknik Veriler"}),r.jsx("p",{className:"text-sm",children:"IP adresi, tarayc tr, cihaz bilgisi ve erezler. Bu veriler gvenlik ve performans optimizasyonu iin kullanlr."})]})]})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-purple-600 font-bold",children:"3"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"3. Verilerin Kullanm"})]}),r.jsxs("div",{className:"text-gray-600 leading-relaxed space-y-4",children:[r.jsx("p",{children:"Topladmz verileri u amalarla kullanrz:"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-green-500 mt-1",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Hizmet Sunumu:"})," Hesabnz ynetmek, gzlem kaytlarnz saklamak ve geliim raporlar oluturmak."]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-green-500 mt-1",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Yapay Zeka Analizi:"})," Gzlem notlarnz analiz ederek otomatik deerlendirmeler ve neriler sunmak."]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-green-500 mt-1",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"letiim:"})," nemli gncellemeler, gvenlik bildirimleri ve (izin verirseniz) yeni zellikler hakknda sizi bilgilendirmek."]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-green-500 mt-1",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Gelitirme:"})," Platformu iyiletirmek ve yeni zellikler gelitirmek iin anonim kullanm verilerini analiz etmek."]})]})]}),r.jsxs("div",{className:"bg-red-50 border border-red-100 rounded-xl p-4 mt-6",children:[r.jsx("p",{className:"text-red-800 font-medium",children:"Asla Yapmadklarmz:"}),r.jsxs("ul",{className:"text-red-700 text-sm mt-2 space-y-1",children:[r.jsx("li",{children:" Verilerinizi nc taraflara satmayz"}),r.jsx("li",{children:" Reklam amal profilleme yapmayz"}),r.jsx("li",{children:" ocuk verilerini yapay zeka modellerini eitmek iin kullanmayz"})]})]})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-orange-600 font-bold",children:"4"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"4. Veri Gvenlii"})]}),r.jsxs("div",{className:"text-gray-600 leading-relaxed space-y-4",children:[r.jsx("p",{children:"Verilerinizi korumak iin endstri standard gvenlik nlemleri uyguluyoruz:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"SSL/TLS ifreleme"}),r.jsx("p",{className:"text-sm",children:"Tm veri aktarmlar 256-bit SSL ifreleme ile korunur."})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Gvenli Altyap"}),r.jsx("p",{className:"text-sm",children:"Supabase (AWS tabanl) gvenli veritaban altyaps kullanyoruz."})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"ifre Gvenlii"}),r.jsx("p",{className:"text-sm",children:"ifreler bcrypt algoritmas ile hash'lenerek saklanr."})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Veri Lokasyonu"}),r.jsx("p",{className:"text-sm",children:"Verileriniz Avrupa Birlii snrlar iindeki sunucularda barndrlr."})]})]})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-yellow-600 font-bold",children:"5"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"5. ocuklarn Gizlilii"})]}),r.jsxs("div",{className:"text-gray-600 leading-relaxed space-y-4",children:[r.jsxs("p",{children:["Lukid AI, ",r.jsx("strong",{children:"retmenler ve ebeveynler tarafndan kullanlmak zere"})," tasarlanmtr. Platformumuza ocuklar dorudan erimez veya hesap oluturmaz."]}),r.jsx("p",{children:"Uygulamaya girilen ocuk verileri (isim, gzlemler, fotoraflar):"}),r.jsxs("ul",{className:"space-y-2 ml-4",children:[r.jsx("li",{children:" Tamamen kullancnn (retmen/ebeveyn) kontrolndedir"}),r.jsx("li",{children:" Yalnzca hesap sahibi tarafndan grntlenebilir"}),r.jsx("li",{children:" Kullancnn istei zerine kalc olarak silinebilir"}),r.jsx("li",{children:" Hibir ekilde nc taraflarla paylalmaz"})]}),r.jsx("p",{className:"text-orange-600 font-medium",children:"ocuk verilerinin gizlilii konusunda COPPA (ABD) ve GDPR (AB) dzenlemelerine uygun hareket ediyoruz."})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-indigo-600 font-bold",children:"6"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"6. Haklarnz"})]}),r.jsxs("div",{className:"text-gray-600 leading-relaxed space-y-4",children:[r.jsx("p",{children:"KVKK ve GDPR kapsamnda aadaki haklara sahipsiniz:"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-blue-500 font-bold",children:"1"}),r.jsxs("div",{children:[r.jsx("strong",{className:"text-gray-900",children:"Eriim Hakk:"})," Hangi verilerinizin tutulduunu renme"]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-blue-500 font-bold",children:"2"}),r.jsxs("div",{children:[r.jsx("strong",{className:"text-gray-900",children:"Dzeltme Hakk:"})," Yanl veya eksik verilerin dzeltilmesini isteme"]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-blue-500 font-bold",children:"3"}),r.jsxs("div",{children:[r.jsx("strong",{className:"text-gray-900",children:"Silme Hakk:"})," Verilerinizin kalc olarak silinmesini isteme"]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-blue-500 font-bold",children:"4"}),r.jsxs("div",{children:[r.jsx("strong",{className:"text-gray-900",children:"Tanabilirlik Hakk:"})," Verilerinizi indirme ve baka bir platforma aktarma"]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-blue-500 font-bold",children:"5"}),r.jsxs("div",{children:[r.jsx("strong",{className:"text-gray-900",children:"tiraz Hakk:"})," Veri ilemeye itiraz etme"]})]})]}),r.jsxs("p",{className:"mt-4",children:["Bu haklarnz kullanmak iin ",r.jsx("a",{href:"mailto:info@lukidai.com",className:"text-orange-600 hover:text-orange-700 font-medium",children:"info@lukidai.com"})," adresine e-posta gnderebilir veya uygulama ii Ayarlar mensnden talepte bulunabilirsiniz."]})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-pink-600 font-bold",children:"7"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"7. erezler"})]}),r.jsxs("div",{className:"text-gray-600 leading-relaxed space-y-4",children:[r.jsx("p",{children:"Web sitemiz ve uygulamamz, deneyiminizi iyiletirmek iin erezler kullanr:"}),r.jsxs("ul",{className:"space-y-2 ml-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Zorunlu erezler:"})," Oturum ynetimi ve gvenlik iin gereklidir."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Analitik erezler:"})," Anonim kullanm istatistikleri toplar (devre d braklabilir)."]})]}),r.jsx("p",{children:"Tarayc ayarlarnzdan erezleri ynetebilir veya devre d brakabilirsiniz."})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-teal-600 font-bold",children:"8"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"8. letiim"})]}),r.jsxs("div",{className:"text-gray-600 leading-relaxed space-y-4",children:[r.jsx("p",{children:"Gizlilik politikamz veya veri koruma uygulamalarmz hakknda sorularnz iin:"}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[r.jsx("p",{className:"font-semibold text-gray-900 mb-3",children:"Lukid AI - Veri Koruma Ekibi"}),r.jsxs("p",{children:["E-posta: ",r.jsx("a",{href:"mailto:info@lukidai.com",className:"text-orange-600 hover:text-orange-700 font-medium",children:"info@lukidai.com"})]}),r.jsxs("p",{children:["Web: ",r.jsx("a",{href:"https://lukidai.com",className:"text-orange-600 hover:text-orange-700 font-medium",children:"lukidai.com"})]})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Bu politikada yaplacak nemli deiiklikler, e-posta veya uygulama ii bildirim yoluyla size iletilecektir."})]})]})]})}),r.jsx("footer",{className:"bg-gray-900 text-white py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-400 text-sm",children:[" ",new Date().getFullYear()," Lukid AI. Tm haklar sakldr."]})})]}),s6=({onBack:a,onSignup:e})=>{const n=[{title:"Hzl Gzlem Kayd",description:"Snf iinde zaman kaybetmeden, sesli veya yazl gzlem notlar aln. Notlarnz annda sisteme kaydedilir ve yapay zeka tarafndan analiz edilir.",icon:r.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),color:"from-blue-500 to-blue-600"},{title:"Maarif Modeli Uyumlu AI Analizi",description:"Gzlemleriniz, Trkiye Yzyl Maarif Modeli Okul ncesi Eitim Program'na gre 7 temel beceri alanna otomatik olarak etiketlenir ve renme ktlaryla eletirilir.",icon:r.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"from-orange-500 to-red-500"},{title:"Otomatik PDF Raporlar",description:"Dnem sonu karmaasna son! Tek tkla her ocuk iin detayl, profesyonel geliim raporlar PDF olarak hazrlanr. Velilere kolayca paylan.",icon:r.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),color:"from-green-500 to-emerald-600"},{title:"Pedagojik AI Asistan",description:"Maarif Modeli'ne gre eitilmi yapay zeka asistanyla sohbet edin. Etkinlik nerileri aln, pedagojik sorularnza annda cevap bulun.",icon:r.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),color:"from-purple-500 to-indigo-600"}],i=[{title:"Snf ve ocuk Ynetimi",description:"Snflarnz oluturun, ocuklar ekleyin. Her ocuk iin detayl profil oluturun ve geliim gemiini takip edin.",icon:""},{title:"Medya Galerisi",description:"ocuklarn etkinlik fotoraflarn ve videolarn ykleyin. Her medya dosyas iin gzlem notu ekleyebilirsiniz.",icon:""},{title:"Yoklama Takibi",description:"Gnlk yoklama aln, devamszlk nedenlerini kaydedin. Aylk devamszlk raporlar otomatik oluturulur.",icon:""},{title:"Geliim Hedefleri",description:"Her ocuk iin bireysel geliim hedefleri belirleyin ve ilerlemeyi takip edin.",icon:""},{title:"Dashboard & zet",description:"Tm snflarnz, son gzlemlerinizi ve bekleyen ilerinizi tek bir panelden grntleyin.",icon:""},{title:"oklu Dil Destei",description:"Trke ve ngilizce dil destei ile uluslararas okullarda da kullanlabilir.",icon:""}];return r.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[r.jsx("nav",{className:"w-full bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-100",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16 items-center",children:[r.jsxs("div",{className:"flex items-center cursor-pointer",onClick:a,children:[r.jsx("img",{src:"/lukid-logo-navbar-v3.png",alt:"Lukid AI Logo",className:"h-10 w-auto -ml-2"}),r.jsxs("span",{className:"text-xl font-bold tracking-tight -ml-2",children:[r.jsx("span",{className:"text-slate-900",children:"Lukid"}),r.jsx("span",{className:"text-orange-500",children:" AI"})]})]}),r.jsx("button",{onClick:a,className:"text-gray-600 hover:text-orange-600 font-medium text-sm transition-colors",children:" Ana Sayfaya Dn"})]})})}),r.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 py-16",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsx("span",{className:"inline-block px-4 py-1.5 mb-6 rounded-full bg-orange-500/20 text-orange-400 text-sm font-semibold",children:"zellikler"}),r.jsx("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl mb-4",children:"Okul ncesi retmenleri in Tasarland"}),r.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Lukid AI, okul ncesi retmenlerinin evrak ykn azaltmak ve ocuklarla daha fazla vakit geirmelerini salamak iin gelitirildi."})]})})}),r.jsx("div",{className:"max-w-6xl mx-auto px-4 py-16",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map((o,d)=>r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:d*.1},className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 hover:shadow-lg transition-all",children:[r.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${o.color} rounded-xl flex items-center justify-center text-white mb-6`,children:o.icon}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:o.title}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:o.description})]},d))})}),r.jsx("div",{className:"bg-orange-50 border-y border-orange-100 py-16",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[r.jsx("div",{className:"inline-block w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Trkiye Yzyl Maarif Modeli Uyumlu"}),r.jsxs("p",{className:"text-gray-600 max-w-2xl mx-auto leading-relaxed",children:["Yapay zekamz, MEB'in 2024 ylnda yaynlad ",r.jsx("strong",{children:"Trkiye Yzyl Maarif Modeli Okul ncesi Eitim Program"}),"'na gre eitilmitir. Gzlemleriniz; Sosyal-Duygusal, Dil, Bilisel, Motor, z Bakm, Matematik ve Fen-Doa beceri alanlarna gre analiz edilir."]})]})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-16",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Daha Fazla zellik"}),r.jsx("p",{className:"text-gray-600",children:"Gnlk ilerinizi kolaylatran tm aralar tek bir platformda."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((o,d)=>r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:d*.05},className:"bg-white rounded-xl p-6 border border-gray-100 hover:border-orange-200 transition-all",children:[r.jsx("div",{className:"text-2xl mb-3",children:o.icon}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:o.title}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:o.description})]},d))})]}),r.jsx("div",{className:"bg-gradient-to-br from-orange-600 to-red-600 py-16",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Hemen Denemeye Balayn"}),r.jsx("p",{className:"text-orange-100 text-lg mb-8",children:"cretsiz hesap oluturun ve tm zellikleri kefedin."}),r.jsx("button",{onClick:e||a,className:"px-8 py-4 bg-white text-orange-600 rounded-xl text-lg font-bold shadow-lg hover:bg-orange-50 transition-all transform hover:-translate-y-1",children:"cretsiz Bala "})]})}),r.jsx("footer",{className:"bg-gray-900 text-white py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-400 text-sm",children:[" ",new Date().getFullYear()," Lukid AI. Tm haklar sakldr."]})})]})},n6=({onBack:a,onSignup:e})=>{const n=["Snrsz gzlem kayd","Yapay zeka analizi (Maarif Modeli)","Otomatik PDF raporlar","Pedagojik AI Asistan","Snf ve ocuk ynetimi","Medya galerisi","Yoklama takibi","Dashboard ve zet grnm","oklu dil destei (TR/EN)"];return r.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[r.jsx("nav",{className:"w-full bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-100",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16 items-center",children:[r.jsxs("div",{className:"flex items-center cursor-pointer",onClick:a,children:[r.jsx("img",{src:"/lukid-logo-navbar-v3.png",alt:"Lukid AI Logo",className:"h-10 w-auto -ml-2"}),r.jsxs("span",{className:"text-xl font-bold tracking-tight -ml-2",children:[r.jsx("span",{className:"text-slate-900",children:"Lukid"}),r.jsx("span",{className:"text-orange-500",children:" AI"})]})]}),r.jsx("button",{onClick:a,className:"text-gray-600 hover:text-orange-600 font-medium text-sm transition-colors",children:" Ana Sayfaya Dn"})]})})}),r.jsx("div",{className:"bg-gradient-to-br from-green-600 to-emerald-700 py-20",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsx("span",{className:"inline-block px-4 py-1.5 mb-6 rounded-full bg-white/20 text-white text-sm font-semibold",children:"Fiyatlandrma"}),r.jsx("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl mb-4",children:"Tamamen cretsiz"}),r.jsx("p",{className:"text-green-100 text-xl max-w-2xl mx-auto",children:"Lukid AI, tm zelliklerini cretsiz olarak sunar. Gizli cret yok, kredi kart gerekmez."})]})})}),r.jsx("div",{className:"max-w-lg mx-auto px-4 -mt-12 relative z-10",children:r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-500 p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"cretsiz Plan"}),r.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[r.jsx("span",{className:"text-5xl font-extrabold text-white",children:"0"}),r.jsx("span",{className:"text-orange-200 text-lg",children:"/ay"})]}),r.jsx("p",{className:"text-orange-100 mt-2",children:"Sonsuza kadar cretsiz"})]}),r.jsxs("div",{className:"p-8",children:[r.jsx("ul",{className:"space-y-4",children:n.map((i,o)=>r.jsxs("li",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),r.jsx("span",{className:"text-gray-700",children:i})]},o))}),r.jsx("button",{onClick:e||a,className:"w-full mt-8 px-6 py-4 bg-orange-600 hover:bg-orange-700 text-white rounded-xl text-lg font-bold shadow-md transition-all transform hover:-translate-y-0.5",children:"cretsiz Hesap Olutur"})]})]})}),r.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-20",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-10",children:"Ska Sorulan Sorular"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Neden cretsiz?"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Lukid AI, okul ncesi eitimi herkes iin eriilebilir klmak amacyla gelitirildi. nceliimiz retmenlere yardmc olmak. leride premium zellikler eklenebilir ancak temel zellikler her zaman cretsiz kalacak."})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Verilerim gvende mi?"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Evet! Tm verileriniz ifreli olarak Avrupa Birlii sunucularnda saklanr. KVKK ve GDPR uyumlu alyoruz. Verileriniz asla nc taraflarla paylalmaz."})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Snrsz kullanm gerekten var m?"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Evet! Snrsz gzlem, snrsz ocuk profili, snrsz rapor oluturabilirsiniz. Yapay zeka analizleri iin de herhangi bir gnlk limit yoktur."})]})]})]}),r.jsx("footer",{className:"bg-gray-900 text-white py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-400 text-sm",children:[" ",new Date().getFullYear()," Lukid AI. Tm haklar sakldr."]})})]})},r6=({onBack:a})=>{const[e,n]=b.useState(null),[i,o]=b.useState("all"),d=[{id:"all",label:"Tm"},{id:"general",label:"Genel"},{id:"features",label:"zellikler"},{id:"ai",label:"Yapay Zeka"},{id:"security",label:"Gvenlik"},{id:"pricing",label:"Fiyatlandrma"}],u=[{category:"general",question:"Lukid AI nedir?",answer:"Lukid AI, okul ncesi retmenleri iin gelitirilmi yapay zeka destekli bir dijital portfolyo aracdr. Gzlem notlar almanz, geliim raporlar oluturmanz ve snf ynetiminizi kolaylatrr."},{category:"general",question:"Lukid AI' kimler kullanabilir?",answer:"Okul ncesi retmenleri, anaokulu yneticileri, kre alanlar ve ocuk geliimi uzmanlar Lukid AI' kullanabilir. Platform zellikle 0-6 ya grubu ocuklarla alan eitimciler iin tasarlanmtr."},{category:"general",question:"Mobil cihazlarda kullanabilir miyim?",answer:"Evet! Lukid AI hem web taraycsndan hem de iOS ve Android cihazlardan eriilebilir. Snf iinde tablet veya telefonunuzla kolayca gzlem kaydedebilirsiniz."},{category:"general",question:"Trke dnda dil destei var m?",answer:"Evet, Lukid AI Trke ve ngilizce dillerini destekler. Ayarlar mensnden dil tercihlerinizi deitirebilirsiniz."},{category:"features",question:"Sesli gzlem kayd yapabilir miyim?",answer:"Evet! Snf iinde yaz yazmaya vakit bulamadnzda sesli gzlem kayd yapabilirsiniz. Sesiniz otomatik olarak metne dntrlr ve yapay zeka tarafndan analiz edilir."},{category:"features",question:"PDF raporlar nasl alr?",answer:'Her ocuk iin "Rapor Olutur" butonuna tklayarak o ocuun tm gzlemlerini, geliim alanlarna gre analizlerini ve ilerleme grafiklerini ieren profesyonel bir PDF raporu annda oluturabilirsiniz.'},{category:"features",question:"Ka snf ve ocuk ekleyebilirim?",answer:"Herhangi bir snr yoktur. stediiniz kadar snf oluturabilir ve snrsz sayda ocuk profili ekleyebilirsiniz."},{category:"features",question:"Fotoraf ve video ykleyebilir miyim?",answer:"Evet! Medya Galerisi zellii ile ocuklarn etkinlik fotoraflarn ve videolarn ykleyebilirsiniz. Her medya dosyasna gzlem notu da ekleyebilirsiniz."},{category:"features",question:"Yoklama takibi nasl yaplr?",answer:"Her gn iin yoklama alabilir, devam eden veya gelmeyen ocuklar iaretleyebilir, devamszlk nedenlerini kaydedebilirsiniz. Ay sonunda otomatik devamszlk raporu oluturulur."},{category:"ai",question:"Yapay zeka analizi nasl alr?",answer:"Gzlem notlarnz, Trkiye Yzyl Maarif Modeli Okul ncesi Eitim Program'na gre eitilmi yapay zeka tarafndan analiz edilir. Her gzlem, 7 temel beceri alanna (Sosyal-Duygusal, Dil, Bilisel, Motor, z Bakm, Matematik, Fen-Doa) gre otomatik olarak etiketlenir."},{category:"ai",question:"AI Asistan ne ie yarar?",answer:"Pedagojik AI Asistan ile sohbet edebilir, etkinlik nerileri alabilir, pedagojik sorularnza annda cevap bulabilirsiniz. Asistan, Maarif Modeli'ne gre eitilmitir ve okul ncesi eitim hakknda uzman bilgisi sunar."},{category:"ai",question:"Yapay zeka nerilerine gvenebilir miyim?",answer:"Yapay zeka nerileri, pedagojik ilkelere ve MEB mfredatna dayal olarak retilir. Ancak, bu neriler retmenin profesyonel deerlendirmesinin yerini almaz; size yardmc bir ara olarak tasarlanmtr."},{category:"security",question:"Verilerim gvende mi?",answer:"Evet! Tm verileriniz 256-bit SSL ifreleme ile korunur ve Avrupa Birlii snrlar iindeki sunucularda (AWS) saklanr. KVKK ve GDPR dzenlemelerine tam uyum salyoruz."},{category:"security",question:"ocuklara ait veriler kimlerle paylalr?",answer:"ocuk verileri yalnzca hesap sahibi (retmen) tarafndan grntlenebilir. Hibir koulda nc taraflarla paylalmaz veya reklam amal kullanlmaz."},{category:"security",question:"Verilerimi silebilir miyim?",answer:"Evet, istediiniz zaman Ayarlar mensnden hesabnz ve tm verilerinizi kalc olarak silebilirsiniz. Silme ilemi geri alnamaz."},{category:"security",question:"Yapay zeka, verilerimi eitim iin kullanyor mu?",answer:"Hayr! ocuklara ait gzlem verileri, yapay zeka modellerini eitmek iin asla kullanlmaz. Verileriniz yalnzca size hizmet sunmak iin ilenir."},{category:"pricing",question:"Lukid AI gerekten cretsiz mi?",answer:"Evet! Lukid AI tm zellikleriyle tamamen cretsizdir. Gizli cret yoktur, kredi kart bilgisi istenmez."},{category:"pricing",question:"leride cretli olacak m?",answer:"Temel zellikler her zaman cretsiz kalacak. leride eklenen premium zellikler iin cret talep edilebilir, ancak mevcut zellikleri kullanmaya devam edebilirsiniz."},{category:"pricing",question:"Okul olarak toplu lisans alabilir miyiz?",answer:"Kurumsal kullanm iin zel zmler sunabiliriz. Detayl bilgi iin info@lukidai.com adresinden bizimle iletiime gein."}],m=i==="all"?u:u.filter(f=>f.category===i);return r.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[r.jsx("nav",{className:"w-full bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-100",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16 items-center",children:[r.jsxs("div",{className:"flex items-center cursor-pointer",onClick:a,children:[r.jsx("img",{src:"/lukid-logo-navbar-v3.png",alt:"Lukid AI Logo",className:"h-10 w-auto -ml-2"}),r.jsxs("span",{className:"text-xl font-bold tracking-tight -ml-2",children:[r.jsx("span",{className:"text-slate-900",children:"Lukid"}),r.jsx("span",{className:"text-orange-500",children:" AI"})]})]}),r.jsx("button",{onClick:a,className:"text-gray-600 hover:text-orange-600 font-medium text-sm transition-colors",children:" Ana Sayfaya Dn"})]})})}),r.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 py-16",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:r.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsx("span",{className:"inline-block px-4 py-1.5 mb-6 rounded-full bg-orange-500/20 text-orange-400 text-sm font-semibold",children:"Yardm Merkezi"}),r.jsx("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl mb-4",children:"Ska Sorulan Sorular"}),r.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Lukid AI hakknda merak ettiiniz her eyin cevabn burada bulabilirsiniz."})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:r.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:d.map(f=>r.jsx("button",{onClick:()=>o(f.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${i===f.id?"bg-orange-600 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:f.label},f.id))})}),r.jsx("div",{className:"max-w-3xl mx-auto px-4 pb-20",children:r.jsx("div",{className:"space-y-3",children:m.map((f,p)=>r.jsxs(kt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:p*.03},className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[r.jsxs("button",{onClick:()=>n(e===p?null:p),className:"w-full px-6 py-5 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[r.jsx("span",{className:"font-semibold text-gray-900 pr-4",children:f.question}),r.jsx("svg",{className:`w-5 h-5 text-gray-400 flex-shrink-0 transition-transform ${e===p?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r.jsx(wT,{children:e===p&&r.jsx(kt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:r.jsx("div",{className:"px-6 pb-5 text-gray-600 leading-relaxed border-t border-gray-100 pt-4",children:f.answer})})})]},p))})}),r.jsx("div",{className:"bg-orange-50 border-t border-orange-100 py-12",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Sorunuz mu var?"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Aradnz cevab bulamadysanz, bize ulan."}),r.jsx("a",{href:"mailto:info@lukidai.com",className:"inline-block px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-xl font-bold transition-colors",children:"Bize Yazn"})]})}),r.jsx("footer",{className:"bg-gray-900 text-white py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-400 text-sm",children:[" ",new Date().getFullYear()," Lukid AI. Tm haklar sakldr."]})})]})},fb=({onSuccess:a,onBack:e})=>{const[n,i]=b.useState(""),[o,d]=b.useState(""),[u,m]=b.useState(!1),[f,p]=b.useState(""),[y,v]=b.useState(!1),w=async j=>{if(j.preventDefault(),p(""),m(!0),n.length<6){p("ifre en az 6 karakter olmaldr."),m(!1);return}if(n!==o){p("ifreler elemiyor."),m(!1);return}try{const{error:S}=await Z.auth.updateUser({password:n});S?p("ifre gncellenemedi: "+S.message):(v(!0),setTimeout(()=>{a()},2e3))}catch{p("Bir hata olutu. Ltfen tekrar deneyin.")}m(!1)};return y?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 p-4",children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-10 max-w-md w-full text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"ifreniz Gncellendi!"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Yeni ifrenizle giri yapabilirsiniz."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Ynlendiriliyorsunuz..."})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 p-4",children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-10 max-w-md w-full border border-gray-100 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-orange-600 via-red-500 to-orange-600"}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Yeni ifre Belirle"}),r.jsx("p",{className:"text-gray-600",children:"Hesabnz iin yeni bir ifre oluturun."})]}),r.jsxs("form",{onSubmit:w,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"new-password",className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-orange-600",children:""})," Yeni ifre"]}),r.jsx("input",{id:"new-password",name:"new-password",type:"password",autoComplete:"new-password",required:!0,className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-all text-gray-900 placeholder-gray-400 hover:border-orange-200",placeholder:"En az 6 karakter",value:n,onChange:j=>i(j.target.value)})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"confirm-password",className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-orange-600",children:""})," ifreyi Tekrar Girin"]}),r.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-all text-gray-900 placeholder-gray-400 hover:border-orange-200",placeholder:"ifrenizi tekrar girin",value:o,onChange:j=>d(j.target.value)})]}),f&&r.jsxs("div",{className:"p-4 bg-red-50 border-2 border-red-200 text-red-700 rounded-xl text-sm font-semibold flex items-center gap-3",children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{children:f})]}),r.jsx("button",{type:"submit",disabled:u,className:"w-full py-4 px-4 bg-gradient-to-r from-orange-600 to-red-500 hover:from-orange-700 hover:to-red-600 text-white font-bold rounded-xl shadow-xl hover:shadow-2xl transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx("span",{className:"flex items-center justify-center gap-2 text-lg",children:u?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Gncelleniyor..."]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"ifremi Gncelle"}),r.jsx("span",{className:"text-xl",children:""})]})})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:e,className:"text-gray-500 hover:text-gray-700 text-sm font-medium transition-colors",children:" Giri sayfasna dn"})})]})]})})},i6=({onSuccess:a})=>{const[e,n]=b.useState(""),[i,o]=b.useState(!1),[d,u]=b.useState(null),[m,f]=b.useState(!1),p=async y=>{if(y.preventDefault(),e.length!==6){u(x("inviteCodeLengthError"));return}o(!0),u(null);const v=await JN(e.toUpperCase());v.success&&v.childId?(f(!0),setTimeout(()=>{a(v.childId)},2e3)):u(v.error||x("errorOccurred")),o(!1)};return m?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg text-center max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300 mb-2",children:x("connectionSuccess")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:x("accessProfile")})]}):r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg max-w-md mx-auto",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:x("connectWithChild")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:x("enterInviteCodeDesc")})]}),r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"invite-code",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x("inviteCodeLabel")}),r.jsx("input",{id:"invite-code",type:"text",value:e,onChange:y=>n(y.target.value.toUpperCase().slice(0,6)),placeholder:"ABCD12",className:"w-full px-4 py-4 text-center text-3xl font-mono tracking-[0.5em] uppercase border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-white transition-all",maxLength:6,autoComplete:"off",autoCorrect:"off",spellCheck:"false"})]}),d&&r.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:r.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:d})}),r.jsx("button",{type:"submit",disabled:i||e.length!==6,className:"w-full py-4 bg-orange-500 text-white rounded-xl font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:""}),x("connecting")]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),x("connect")]})})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700",children:r.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 text-center",children:x("inviteCodeFooter")})})]})},l6=({child:a,onClose:e})=>{var p,y,v,w,j,S,T,E,A;const[n,i]=b.useState([]),[o,d]=b.useState(!0);b.useEffect(()=>{(async()=>{d(!0);const{data:_,error:C}=await Z.from("observations").select("id, note, domains, context, created_at").eq("child_id",a.id).eq("shared_with_family",!0).order("created_at",{ascending:!1});C||i(_||[]),d(!1)})()},[a.id]);const u=D=>{const _=new Date(D),C=new Date;let H=C.getFullYear()-_.getFullYear(),V=C.getMonth()-_.getMonth();return V<0&&(H--,V+=12),`${H} ya ${V} ay`},m=D=>D?new Date(D).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}):"",f=D=>xt()[D]||D;return r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-y-auto",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:D=>D.stopPropagation(),children:[r.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-orange-500 to-amber-500 p-6 rounded-t-2xl",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 flex items-center justify-center overflow-hidden border-4 border-white/30",children:a.photo_url?r.jsx("img",{src:a.photo_url,alt:a.first_name,className:"w-full h-full object-cover"}):r.jsxs("span",{className:"text-3xl font-bold text-white",children:[a.first_name.charAt(0),a.last_name.charAt(0)]})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-white",children:[a.first_name," ",a.last_name]}),r.jsxs("div",{className:"flex gap-2 mt-1 flex-wrap",children:[r.jsx("span",{className:"px-2 py-1 bg-white/20 rounded-full text-sm text-white",children:u(a.dob)}),a.classroom&&r.jsxs("span",{className:"px-2 py-1 bg-white/20 rounded-full text-sm text-white",children:[" ",a.classroom]})]})]})]}),r.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center text-white transition-colors",children:""})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[r.jsx("span",{children:""})," ",x("basicInfo")]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:x("nameSurname")}),r.jsxs("span",{className:"font-medium text-gray-800 dark:text-white",children:[a.first_name," ",a.last_name]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:x("dob")}),r.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:m(a.dob)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:x("age")}),r.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:u(a.dob)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:x("classroom")}),r.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:a.classroom||""})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:x("enrollmentDate")}),r.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:m(a.created_at)})]})]})]}),a.guardians&&a.guardians.length>0&&r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[r.jsx("span",{children:""})," ",x("guardiansInfo")]}),r.jsx("div",{className:"space-y-3",children:a.guardians.map((D,_)=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[r.jsxs("div",{className:"font-medium text-gray-800 dark:text-white mb-1",children:[D.name," ",r.jsxs("span",{className:"text-sm text-gray-500",children:["(",D.relation,")"]})]}),D.phone&&r.jsxs("a",{href:`tel:${D.phone}`,className:"text-sm text-blue-600 dark:text-blue-400 block",children:[" ",D.phone]}),D.email&&r.jsxs("a",{href:`mailto:${D.email}`,className:"text-sm text-blue-600 dark:text-blue-400 block",children:[" ",D.email]})]},_))})]}),(((y=(p=a.health)==null?void 0:p.allergies)==null?void 0:y.length)||((v=a.health)==null?void 0:v.notes))&&r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[r.jsx("span",{children:""})," ",x("healthInfo")]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 space-y-3",children:[a.health.allergies&&a.health.allergies.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[x("allergies"),":"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.health.allergies.map((D,_)=>r.jsx("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-full text-sm",children:D},_))})]}),a.health.notes&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:[x("importantNotes"),":"]}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:a.health.notes})]})]})]}),a.interests&&a.interests.length>0&&r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[r.jsx("span",{children:""})," ",x("interestsInfo")]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.interests.map((D,_)=>r.jsx("span",{className:"px-3 py-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium",children:D},_))})]}),a.strengths&&a.strengths.length>0&&r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[r.jsx("span",{children:""})," ",x("strengthsInfo")]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.strengths.map((D,_)=>r.jsx("span",{className:"px-3 py-1.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-sm font-medium",children:D},_))})]}),r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[r.jsx("span",{children:""})," ",x("teacherObservations")]}),o?r.jsxs("div",{className:"text-center py-4 text-gray-500",children:[" ",x("loading")]}):n.length===0?r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 text-center text-gray-500 dark:text-gray-400",children:x("noSharedObservations")}):r.jsx("div",{className:"space-y-3",children:n.map(D=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[r.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:D.note}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:D.domains.map((_,C)=>r.jsx("span",{className:"px-2 py-0.5 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full text-xs",children:f(_)},C))}),r.jsx("p",{className:"text-xs text-gray-400",children:new Date(D.created_at).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})})]},D.id))})]}),!((w=a.guardians)!=null&&w.length)&&!((S=(j=a.health)==null?void 0:j.allergies)!=null&&S.length)&&!((T=a.health)!=null&&T.notes)&&!((E=a.interests)!=null&&E.length)&&!((A=a.strengths)!=null&&A.length)&&n.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[r.jsx("span",{className:"text-4xl mb-3 block",children:""}),x("noData")]})]}),r.jsx("div",{className:"sticky bottom-0 bg-gray-50 dark:bg-gray-700/50 p-4 border-t border-gray-100 dark:border-gray-700 rounded-b-2xl",children:r.jsx("button",{onClick:e,className:"w-full py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors font-medium",children:"Kapat"})})]})})},o6=({childId:a,teacherId:e,childName:n,onClose:i})=>{const[o,d]=b.useState([]),[u,m]=b.useState(""),[f,p]=b.useState(!0),[y,v]=b.useState(!1),[w,j]=b.useState(""),[S,T]=b.useState(null),[E,A]=b.useState(!0),[D,_]=b.useState(null),C=Be()==="tr"?["Paz","Pzt","Sal","ar","Per","Cum","Cmt"]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],H=async()=>{console.log("FamilyChat: Loading teacher hours for teacherId:",e);const M=await ym(e);console.log("FamilyChat: Received hours:",M),T(M);const P=Xi(M);if(console.log("FamilyChat: Is teacher available?",P),A(P),!P){const R=Iy(M);console.log("FamilyChat: Next available time:",R),_(R)}},V=async()=>{const{data:{user:M}}=await Z.auth.getUser();if(!M)return;j(M.id);const{data:P,error:R}=await Z.from("messages").select("*").eq("child_id",a).or(`and(sender_id.eq.${M.id},receiver_id.eq.${e}),and(sender_id.eq.${e},receiver_id.eq.${M.id})`).order("created_at",{ascending:!0});if(!R){d(P||[]);const ee=(P||[]).filter(F=>F.receiver_id===M.id&&!F.read).map(F=>F.id);ee.length>0&&await Z.from("messages").update({read:!0}).in("id",ee)}p(!1)},$=async()=>{if(!u.trim())return;v(!0);const{data:{user:M}}=await Z.auth.getUser();if(!M)return;const P=(S==null?void 0:S.enabled)&&!E&&D,{error:R}=await Z.from("messages").insert({sender_id:M.id,receiver_id:e,child_id:a,content:u.trim(),scheduled_at:P?D.toISOString():null,delivered:!P});R||(m(""),await V()),v(!1)};b.useEffect(()=>{V(),H();const M=setInterval(V,5e3);return()=>clearInterval(M)},[a,e]),b.useEffect(()=>{if(!(S!=null&&S.enabled))return;const M=setInterval(()=>{const P=Xi(S);A(P),P||_(Iy(S))},6e4);return()=>clearInterval(M)},[S]);const B=()=>S!=null&&S.enabled?`${S.days.map(P=>C[P]).join(", ")} ${S.start_time} - ${S.end_time}`:null,q=M=>{const P=Be()==="tr"?"tr-TR":"en-US";return M.toLocaleString(P,{weekday:"short",hour:"2-digit",minute:"2-digit"})},ae=M=>{const P=new Date(M),R=new Date,ee=P.toDateString()===R.toDateString(),F=new Date(R);F.setDate(F.getDate()-1);const z=P.toDateString()===F.toDateString(),L=P.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"});if(ee)return`${x("today")} ${L}`;if(z)return`${x("yesterday")} ${L}`;{const I=Be()==="tr"?"tr-TR":"en-US";return`${P.toLocaleDateString(I,{day:"numeric",month:"short"})} ${L}`}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg h-[80vh] flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center gap-3",children:[r.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:""}),r.jsx("div",{className:"w-10 h-10 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-emerald-700 dark:text-emerald-300 text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-800 dark:text-white",children:x("teacherTitle")}),r.jsx("p",{className:"text-xs text-gray-500",children:Be()==="tr"?`${n} ${x("about")}`:`${x("about")} ${n}`})]})]}),(S==null?void 0:S.enabled)&&B()&&r.jsxs("div",{className:`px-4 py-2 text-sm flex items-center gap-2 ${E?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300"}`,children:[r.jsx("span",{children:E?"":""}),r.jsxs("span",{children:[x("teacherAvailableHours"),": ",B()]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900 space-y-3",children:f?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"animate-spin text-2xl",children:""})}):o.length===0?r.jsxs("div",{className:"text-center text-gray-500 py-8",children:[r.jsx("p",{className:"text-4xl mb-2",children:""}),r.jsx("p",{children:"retmenle sohbet balatn"})]}):o.map(M=>r.jsx("div",{className:`flex ${M.sender_id===w?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 ${M.sender_id===w?"bg-orange-500 text-white rounded-br-sm":"bg-white dark:bg-gray-800 text-gray-800 dark:text-white rounded-bl-sm shadow-sm"}`,children:[r.jsx("p",{className:"text-sm",children:M.content}),r.jsxs("div",{className:`flex items-center gap-1 text-xs mt-1 ${M.sender_id===w?"text-orange-100":"text-gray-400"}`,children:[M.scheduled_at&&!M.delivered&&r.jsx("span",{title:x("messageScheduled"),children:""}),r.jsx("span",{children:ae(M.created_at)})]})]})},M.id))}),(S==null?void 0:S.enabled)&&!E&&D&&r.jsx("div",{className:"px-4 py-2 bg-amber-50 dark:bg-amber-900/20 border-t border-amber-200 dark:border-amber-800",children:r.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-300 flex items-center gap-1",children:[" ",x("scheduledFor"),": ",q(D)]})}),r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:u,onChange:M=>m(M.target.value),onKeyPress:M=>M.key==="Enter"&&$(),placeholder:"Mesajnz yazn...",className:"flex-1 px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-orange-400"}),r.jsx("button",{onClick:$,disabled:y||!u.trim(),className:"px-4 py-2 bg-orange-500 text-white rounded-xl hover:bg-orange-600 disabled:opacity-50",children:y?"...":""})]})})]})})},c6=({childId:a,childName:e,onClose:n,onSuccess:i})=>{const[o,d]=b.useState(""),[u,m]=b.useState([]),[f,p]=b.useState(!1),[y,v]=b.useState(null),w=xt(),j=T=>{m(E=>E.includes(T)?E.filter(A=>A!==T):[...E,T])},S=async T=>{if(T.preventDefault(),!o.trim()){v(x("errorOccurred"));return}p(!0),v(null);try{await AS({child_id:a,note:o.trim(),context:"home",domains:u}),i(),n()}catch(E){console.error("Error adding observation:",E),v(E.message||x("errorOccurred"))}p(!1)};return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-coral-500 to-orange-500 p-5 text-white",style:{background:"linear-gradient(to right, #f97316, #ea580c)"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold",children:x("addObservationFamily")}),r.jsx("p",{className:"text-orange-100 text-sm",children:e})]})]}),r.jsx("button",{onClick:n,className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:""})]})}),r.jsxs("form",{onSubmit:S,className:"p-5 space-y-4",children:[y&&r.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl text-red-700 dark:text-red-300 text-sm",children:y}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[x("familyObservationNote")," *"]}),r.jsx("textarea",{value:o,onChange:T=>d(T.target.value),placeholder:x("familyObservationPlaceholder"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",rows:4})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x("developmentAreasOptional")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(w).map(([T,E])=>r.jsx("button",{type:"button",onClick:()=>j(T),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${u.includes(T)?"bg-orange-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:E},T))})]}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:n,className:"flex-1 py-3 px-4 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:x("cancel")}),r.jsx("button",{type:"submit",disabled:f||!o.trim(),className:"flex-1 py-3 px-4 bg-orange-500 text-white rounded-xl font-medium hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:""}),x("saving")]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),x("save")]})})]})]})]})})},d6=({childId:a,childName:e,onClose:n,onSuccess:i})=>{const[o,d]=b.useState(null),[u,m]=b.useState(null),[f,p]=b.useState(""),[y,v]=b.useState(""),[w,j]=b.useState(!1),[S,T]=b.useState(null),[E,A]=b.useState(0),D=b.useRef(null),_=$=>{var M;const B=(M=$.target.files)==null?void 0:M[0];if(!B)return;const q=qb(B);if(!q.valid){T(q.error||x("invalidFileType"));return}T(null),d(B),p(B.name.split(".")[0]);const ae=new FileReader;ae.onload=()=>m(ae.result),ae.readAsDataURL(B)},C=async $=>{if($.preventDefault(),!o){T(x("selectMedia"));return}if(!f.trim()){T(x("errorOccurred"));return}j(!0),T(null),A(10);try{const B=setInterval(()=>{A(q=>Math.min(q+10,90))},200);await $S(a,o,{name:f.trim(),description:y.trim()||void 0}),clearInterval(B),A(100),setTimeout(()=>{i(),n()},500)}catch(B){console.error("Error uploading media:",B),T(B.message||x("errorOccurred")),A(0)}j(!1)},H=$=>$<1024?$+" B":$<1024*1024?($/1024).toFixed(1)+" KB":($/(1024*1024)).toFixed(1)+" MB",V=o==null?void 0:o.type.startsWith("video/");return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-5 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold",children:x("addMediaFamily")}),r.jsx("p",{className:"text-purple-100 text-sm",children:e})]})]}),r.jsx("button",{onClick:n,className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:""})]})}),r.jsxs("form",{onSubmit:C,className:"p-5 space-y-4",children:[S&&r.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl text-red-700 dark:text-red-300 text-sm",children:S}),r.jsxs("div",{children:[r.jsx("input",{ref:D,type:"file",accept:"image/jpeg,image/png,image/webp,video/mp4,video/quicktime,video/webm",onChange:_,className:"hidden"}),o?r.jsxs("div",{className:"relative",children:[V?r.jsx("video",{src:u||void 0,className:"w-full h-40 object-cover rounded-xl",controls:!0}):r.jsx("img",{src:u||void 0,alt:"Preview",className:"w-full h-40 object-cover rounded-xl"}),r.jsx("button",{type:"button",onClick:()=>{d(null),m(null),p("")},className:"absolute top-2 right-2 w-8 h-8 bg-black/50 text-white rounded-full flex items-center justify-center hover:bg-black/70 transition-colors",children:""}),r.jsx("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:H(o.size)})]}):r.jsxs("button",{type:"button",onClick:()=>{var $;return($=D.current)==null?void 0:$.click()},className:"w-full h-40 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center gap-3 hover:border-purple-400 dark:hover:border-purple-500 hover:bg-purple-50 dark:hover:bg-purple-900/10 transition-colors",children:[r.jsx("span",{className:"text-4xl",children:""}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:x("selectMedia")}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[x("maxPhotoSize")," | ",x("maxVideoSize")]})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[x("mediaName")," *"]}),r.jsx("input",{type:"text",value:f,onChange:$=>p($.target.value),placeholder:"...",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x("mediaDescription")}),r.jsx("textarea",{value:y,onChange:$=>v($.target.value),placeholder:"...",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",rows:2})]}),w&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${E}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:[x("uploading")," ",E,"%"]})]}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:n,disabled:w,className:"flex-1 py-3 px-4 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50",children:x("cancel")}),r.jsx("button",{type:"submit",disabled:w||!o||!f.trim(),className:"flex-1 py-3 px-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-medium hover:from-purple-600 hover:to-pink-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:w?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:""}),x("uploading")]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),x("uploadPhoto")]})})]})]})]})})},u6=({childId:a,childName:e,onClose:n,onRefresh:i})=>{const{openImage:o}=nv(),[d,u]=b.useState("observations"),[m,f]=b.useState([]),[p,y]=b.useState([]),[v,w]=b.useState(!0),[j,S]=b.useState({}),[T,E]=b.useState(null),[A,D]=b.useState(""),[_,C]=b.useState(null);b.useEffect(()=>{H()},[a]);const H=async()=>{w(!0);try{const{data:{user:M}}=await Z.auth.getUser();if(!M)return;const{data:P}=await Z.from("observations").select("id, note, context, domains, created_at").eq("child_id",a).eq("user_id",M.id).eq("added_by","family").order("created_at",{ascending:!1});f(P||[]);const{data:R}=await Z.from("media").select("id, name, description, type, storage_path, created_at").eq("child_id",a).eq("user_id",M.id).eq("added_by","family").order("created_at",{ascending:!1});y(R||[]);const ee={};for(const F of R||[])try{ee[F.id]=await Or(F.storage_path)}catch(z){console.error("Error loading media URL:",z)}S(ee)}catch(M){console.error("Error loading family content:",M)}w(!1)},V=async M=>{if(confirm(x("confirmDeleteObservation"))){C(M);try{await Z.from("observations").delete().eq("id",M),f(P=>P.filter(R=>R.id!==M)),i()}catch(P){console.error("Error deleting observation:",P),alert(x("deleteError"))}C(null)}},$=async(M,P)=>{if(confirm(x("confirmDeleteMedia"))){C(M);try{await Z.storage.from("child-media").remove([P]),await Z.from("media").delete().eq("id",M),y(R=>R.filter(ee=>ee.id!==M)),i()}catch(R){console.error("Error deleting media:",R),alert(x("deleteError"))}C(null)}},B=async()=>{if(!(!T||!A.trim()))try{await Z.from("observations").update({note:A.trim()}).eq("id",T.id),f(M=>M.map(P=>P.id===T.id?{...P,note:A.trim()}:P)),E(null),D(""),i()}catch(M){console.error("Error updating observation:",M),alert(x("updateError"))}},q=M=>new Date(M).toLocaleDateString("tr-TR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),ae=M=>xt()[M]||M;return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden flex flex-col",children:[r.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-cyan-500 p-5 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold",children:x("myContent")}),r.jsx("p",{className:"text-teal-100 text-sm",children:e})]})]}),r.jsx("button",{onClick:n,className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:""})]})}),r.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("button",{onClick:()=>u("observations"),className:`flex-1 py-3 px-4 font-medium transition-colors ${d==="observations"?"text-teal-600 border-b-2 border-teal-600 bg-teal-50 dark:bg-teal-900/20":"text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:[" ",x("myObservations")," (",m.length,")"]}),r.jsxs("button",{onClick:()=>u("media"),className:`flex-1 py-3 px-4 font-medium transition-colors ${d==="media"?"text-teal-600 border-b-2 border-teal-600 bg-teal-50 dark:bg-teal-900/20":"text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:[" ",x("myPhotos")," (",p.length,")"]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:v?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"})}):d==="observations"?m.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-3",children:""}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:x("noObservationsYet")})]}):r.jsx("div",{className:"space-y-3",children:m.map(M=>r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 border border-gray-200 dark:border-gray-600",children:(T==null?void 0:T.id)===M.id?r.jsxs("div",{className:"space-y-3",children:[r.jsx("textarea",{value:A,onChange:P=>D(P.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-800 dark:text-white",rows:3}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:B,className:"px-3 py-1.5 bg-teal-500 text-white rounded-lg text-sm",children:x("save")}),r.jsx("button",{onClick:()=>{E(null),D("")},className:"px-3 py-1.5 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg text-sm",children:x("cancel")})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:q(M.created_at)}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>{E(M),D(M.note)},className:"p-1.5 text-gray-500 hover:text-teal-600 hover:bg-teal-100 dark:hover:bg-teal-900/30 rounded-lg transition-colors",children:r.jsx(G_,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>V(M.id),disabled:_===M.id,className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors disabled:opacity-50",children:r.jsx(tl,{className:"w-4 h-4"})})]})]}),r.jsx("p",{className:"text-gray-800 dark:text-gray-200 text-sm mb-2",children:M.note}),M.domains&&M.domains.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1",children:M.domains.map(P=>r.jsx("span",{className:"text-xs px-2 py-0.5 bg-teal-100 dark:bg-teal-900/40 text-teal-700 dark:text-teal-300 rounded-full",children:ae(P)},P))})]})},M.id))}):p.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-3",children:""}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:x("noPhotosYet")})]}):r.jsx("div",{className:"grid grid-cols-2 gap-3",children:p.map(M=>r.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl overflow-hidden border border-gray-200 dark:border-gray-600 shadow-sm",children:[M.type==="video"?r.jsx("video",{src:j[M.id],className:"w-full h-32 object-cover",controls:!0}):r.jsx("img",{src:j[M.id],alt:M.name,className:"w-full h-32 object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>o(j[M.id],M.name)}),r.jsxs("div",{className:"p-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("p",{className:"font-medium text-gray-800 dark:text-white text-xs truncate flex-1",children:M.name}),r.jsx("button",{onClick:()=>$(M.id,M.storage_path),disabled:_===M.id,className:"p-1 text-gray-400 hover:text-red-500 transition-colors disabled:opacity-50",children:r.jsx(tl,{className:"w-4 h-4"})})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:q(M.created_at)})]})]},M.id))})})]})})},h6=()=>{const[a,e]=b.useState([]),[n,i]=b.useState([]),[o,d]=b.useState(!0),[u,m]=b.useState(!1),[f,p]=b.useState(Be()),[y,v]=b.useState(null),[w,j]=b.useState(null),[S,T]=b.useState([]),[E,A]=b.useState(null),[D,_]=b.useState(null),[C,H]=b.useState(null),[V,$]=b.useState(null),B=async()=>{d(!0);const{data:R,error:ee}=await Z.rpc("get_family_linked_children");if(ee)console.error("Error loading children:",ee),e([]);else{e(R||[]);const{data:F,error:z}=await Z.rpc("get_family_announcements");z?(console.error("Error loading announcements:",z),i([])):i(F||[])}try{const F=await US(),z=await Promise.all((F||[]).map(async L=>{try{const I=await Or(L.storage_path,3600);return{...L,url:I}}catch{return L}}));T(z)}catch(F){console.error("Error loading shared media:",F),T([])}d(!1)};b.useEffect(()=>{B()},[]);const q=async()=>{try{await Z.auth.signOut()}catch(R){console.error("SignOut error:",R)}try{sessionStorage.clear();const R=[];for(let ee=0;ee<localStorage.length;ee++){const F=localStorage.key(ee);F&&(F.startsWith("sb-")||F.includes("supabase"))&&R.push(F)}R.forEach(ee=>localStorage.removeItem(ee))}catch{}window.location.reload()},ae=()=>{m(!1),B()},M=R=>{const ee=new Date(R),F=new Date;let z=F.getFullYear()-ee.getFullYear(),L=F.getMonth()-ee.getMonth();return L<0&&(z--,L+=12),`${z} yl, ${L} ay`},P=R=>{const ee=new Date(R),z=new Date().getTime()-ee.getTime(),L=Math.floor(z/(1e3*60*60*24));return L===0?x("today")||"Bugn":L===1?x("yesterday")||"Dn":L<7?`${L} gn nce`:ee.toLocaleDateString("tr-TR",{day:"numeric",month:"short"})};return o?r.jsx("div",{className:"min-h-screen bg-[#1E2A4A] flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-[#F97B5C]/30"}),r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-[#F97B5C] animate-spin"}),r.jsx(Rh,{className:"absolute inset-4 w-12 h-12 text-[#F97B5C]"})]}),r.jsx("p",{className:"text-white/70 font-medium",children:"Ykleniyor..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#1E2A4A] via-[#243352] to-[#1E2A4A]",children:[r.jsxs("header",{className:"relative z-10 pt-safe",children:[r.jsx("div",{className:"h-14 md:hidden"}),r.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-1 bg-[#F97B5C] rounded-2xl blur opacity-40"}),r.jsx("img",{src:"/lukid-logo.png",alt:"Lukid AI",className:"relative w-12 h-12 object-contain bg-white/10 backdrop-blur-sm rounded-2xl p-1"})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-white",children:x("familyPortal")}),r.jsx("p",{className:"text-xs text-white/50",children:"ocuunuzun geliimini takip edin"})]})]}),r.jsx("button",{onClick:()=>{const R=f==="tr"?"en":"tr";Wo(R),p(R)},className:"hidden md:flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-sm hover:bg-white/20 rounded-xl transition-all text-white/80 text-sm font-medium",children:f==="tr"?" EN":" TR"}),r.jsxs("button",{onClick:q,className:"hidden md:flex items-center gap-2 px-4 py-2 bg-red-500/20 hover:bg-red-500/30 rounded-xl transition-all text-red-400 text-sm font-medium border border-red-500/30",children:[r.jsx(Qo,{className:"w-4 h-4"}),x("logout")]})]})})]}),r.jsxs("main",{className:"relative z-10 max-w-2xl mx-auto px-4 pb-32",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#F97B5C] to-[#FF9472] rounded-3xl p-6 mb-8 shadow-xl shadow-[#F97B5C]/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""})," Ho Geldiniz"]}),r.jsx("p",{className:"text-white/80 text-sm mt-1",children:a.length===0?"Henz bir ocuk balamadnz":`${n.length} yeni duyuru bekliyor`})]}),r.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full",children:[r.jsx("span",{className:"text-white font-bold",children:a.length}),r.jsx("span",{className:"text-white/80 text-sm ml-1",children:"ocuk"})]})]})}),r.jsxs("section",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#2D3B5E] flex items-center justify-center border border-white/10",children:r.jsx("span",{className:"text-lg",children:""})}),x("myChildren")]}),r.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-[#F97B5C] text-white rounded-xl hover:bg-[#FF9472] transition-all text-sm font-medium shadow-lg shadow-[#F97B5C]/25",children:[r.jsx(t3,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:x("addChildLink")}),r.jsx("span",{className:"sm:hidden",children:"Ekle"})]})]}),a.length===0?r.jsxs("div",{className:"bg-[#2D3B5E] rounded-3xl p-8 text-center border border-white/10 border-dashed",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-2xl bg-[#F97B5C]/20 flex items-center justify-center",children:r.jsx("span",{className:"text-4xl",children:""})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:x("noChildrenLinked")}),r.jsx("p",{className:"text-white/50 mb-6 text-sm max-w-xs mx-auto",children:x("linkChildInstruction")}),r.jsx("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-[#F97B5C] text-white rounded-xl hover:bg-[#FF9472] transition-all font-medium shadow-lg shadow-[#F97B5C]/25",children:x("enterInviteCode")})]}):r.jsx("div",{className:"space-y-4",children:a.map((R,ee)=>r.jsx("div",{className:"group bg-[#2D3B5E] rounded-2xl p-5 border border-white/10 hover:border-[#F97B5C]/50 transition-all duration-300 hover:shadow-lg hover:shadow-[#F97B5C]/10",style:{animationDelay:`${ee*100}ms`},children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto flex-grow",children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-[#F97B5C] to-[#FF9472] rounded-full opacity-50 group-hover:opacity-100 transition-opacity blur-sm"}),r.jsx("div",{className:"relative w-16 h-16 rounded-full bg-gradient-to-br from-[#F97B5C] to-[#FF9472] p-0.5",children:r.jsx("div",{className:"w-full h-full rounded-full bg-[#1E2A4A] flex items-center justify-center overflow-hidden",children:R.photo_url?r.jsx("img",{src:R.photo_url,alt:R.first_name,className:"w-full h-full object-cover"}):r.jsxs("span",{className:"text-xl font-bold text-white",children:[R.first_name.charAt(0),R.last_name.charAt(0)]})})})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("h3",{className:"text-lg font-bold text-white truncate",children:[R.first_name," ",R.last_name]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[r.jsxs("span",{className:"text-sm text-white/50 flex items-center gap-1",children:[r.jsx("span",{className:"text-[#F97B5C]",children:""})," ",M(R.dob)]}),R.classroom&&r.jsx("span",{className:"text-xs bg-white/10 text-white/70 px-2 py-0.5 rounded-full",children:R.classroom})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-start gap-2 w-full sm:w-auto pt-3 border-t border-white/10 sm:pt-0 sm:border-t-0",children:[r.jsx("button",{onClick:()=>_(R),className:"flex-1 sm:flex-none h-10 rounded-xl bg-orange-500/20 text-orange-400 hover:bg-orange-500/30 transition-colors flex items-center justify-center",title:"Gzlem Ekle",children:r.jsx(Qb,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>H(R),className:"flex-1 sm:flex-none h-10 rounded-xl bg-purple-500/20 text-purple-400 hover:bg-purple-500/30 transition-colors flex items-center justify-center",title:"Fotoraf/Video Ekle",children:r.jsx(_r,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>$(R),className:"flex-1 sm:flex-none h-10 rounded-xl bg-teal-500/20 text-teal-400 hover:bg-teal-500/30 transition-colors flex items-center justify-center",title:"Eklediklerim",children:r.jsx(U_,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>j(R),className:"flex-1 sm:flex-none h-10 rounded-xl bg-[#F97B5C]/20 text-[#F97B5C] hover:bg-[#F97B5C]/30 transition-colors flex items-center justify-center",title:x("sendMessageToTeacher"),children:r.jsx(S_,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>v(R),className:"flex-1 sm:flex-none h-10 rounded-xl bg-white/10 text-white/70 hover:bg-white/20 transition-colors flex items-center justify-center",children:r.jsx(z_,{className:"w-5 h-5"})})]})]})},R.id))})]}),n.length>0&&r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#F97B5C] flex items-center justify-center",children:r.jsx(y_,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-lg font-bold text-white",children:x("announcements")}),r.jsxs("span",{className:"ml-auto text-xs bg-[#F97B5C]/20 text-[#F97B5C] px-3 py-1 rounded-full",children:[n.length," yeni"]})]}),r.jsx("div",{className:"space-y-4",children:n.map((R,ee)=>{const F={urgent:{bg:"bg-red-500/10",border:"border-red-500/30",icon:"",accent:"text-red-400"},high:{bg:"bg-[#F97B5C]/10",border:"border-[#F97B5C]/30",icon:"",accent:"text-[#F97B5C]"},normal:{bg:"bg-[#2D3B5E]",border:"border-white/10",icon:"",accent:"text-white/60"}},z=F[R.priority]||F.normal;return r.jsx("div",{className:`${z.bg} rounded-2xl p-5 border ${z.border} transition-all duration-300 hover:scale-[1.01]`,style:{animationDelay:`${ee*100}ms`},children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center text-2xl flex-shrink-0",children:z.icon}),r.jsxs("div",{className:"flex-grow min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[r.jsx("h3",{className:"font-bold text-white",children:R.title}),R.pinned&&r.jsxs("span",{className:"text-xs bg-[#F97B5C]/30 text-[#F97B5C] px-2 py-0.5 rounded-full",children:[" ",x("pinned")]})]}),r.jsx("p",{className:"text-white/60 text-sm line-clamp-2 mb-3",children:R.content}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/40",children:[r.jsx("span",{children:P(R.created_at)}),r.jsx("span",{children:""}),R.child_id?r.jsxs("span",{className:"text-[#F97B5C]",children:[" ",x("childSpecificAnnouncement")]}):r.jsxs("span",{children:[" ",R.classroom]})]})]})]})},R.id)})})]}),S.length>0&&r.jsxs("section",{className:"mt-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:r.jsx(el,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-lg font-bold text-white",children:x("sharedMedia")}),r.jsxs("span",{className:"ml-auto text-xs bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full",children:[S.length," grsel"]})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:S.map(R=>r.jsxs("button",{onClick:()=>R.url&&A({url:R.url,name:R.name}),className:"group relative aspect-square rounded-2xl overflow-hidden bg-[#2D3B5E] border border-white/10 hover:border-[#F97B5C]/50 transition-all",children:[R.url?r.jsx("img",{src:R.url,alt:R.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:r.jsx(el,{className:"w-8 h-8 text-gray-500"})}),r.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent p-3",children:[r.jsx("p",{className:"text-white text-xs font-medium truncate",children:R.name}),r.jsx("p",{className:"text-white/50 text-[10px] truncate",children:R.child_name})]})]},R.id))})]})]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>m(!1),children:r.jsx("div",{onClick:R=>R.stopPropagation(),className:"animate-fade-in",children:r.jsx(i6,{onSuccess:ae})})}),y&&r.jsx(l6,{child:y,onClose:()=>v(null)}),D&&r.jsx(c6,{childId:D.id,childName:`${D.first_name} ${D.last_name}`,onClose:()=>_(null),onSuccess:B}),C&&r.jsx(d6,{childId:C.id,childName:`${C.first_name} ${C.last_name}`,onClose:()=>H(null),onSuccess:B}),V&&r.jsx(u6,{childId:V.id,childName:`${V.first_name} ${V.last_name}`,onClose:()=>$(null),onRefresh:B}),w&&r.jsx(o6,{childId:w.id,teacherId:w.user_id,childName:`${w.first_name} ${w.last_name}`,onClose:()=>j(null)}),E&&r.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>A(null),children:[r.jsx("button",{onClick:()=>A(null),className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:r.jsx(Rr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"max-w-4xl max-h-[80vh] w-full",onClick:R=>R.stopPropagation(),children:[r.jsx("img",{src:E.url,alt:E.name,className:"w-full h-full object-contain rounded-2xl"}),r.jsx("p",{className:"text-center text-white/70 mt-4 text-sm",children:E.name})]})]}),r.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-[#1E2A4A]/95 backdrop-blur-xl border-t border-white/10"}),r.jsxs("div",{className:"relative flex justify-around items-center h-[80px] pb-[env(safe-area-inset-bottom)] px-8",children:[r.jsxs("button",{onClick:()=>{const R=f==="tr"?"en":"tr";Wo(R),p(R)},className:"flex flex-col items-center gap-1.5 active:scale-95 transition-transform",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[#2D3B5E] flex items-center justify-center text-xl border border-white/10",children:f==="tr"?"":""}),r.jsx("span",{className:"text-[10px] font-medium text-white/50",children:f==="tr"?"English":"Trke"})]}),r.jsxs("button",{onClick:q,className:"flex flex-col items-center gap-1.5 active:scale-95 transition-transform",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-500/20 flex items-center justify-center border border-red-500/30",children:r.jsx(Qo,{className:"w-5 h-5 text-red-400"})}),r.jsx("span",{className:"text-[10px] font-medium text-red-400/70",children:x("logout")})]})]})]})]})},m6=({navigate:a})=>{const[e,n]=b.useState([]),[i,o]=b.useState([]),[d,u]=b.useState([]),[m,f]=b.useState(!0),[p,y]=b.useState(!1),[v,w]=b.useState(!1),[j,S]=b.useState("class"),[T,E]=b.useState(""),[A,D]=b.useState(""),[_,C]=b.useState(""),[H,V]=b.useState(""),[$,B]=b.useState("normal"),q=async()=>{f(!0);const{data:{user:z}}=await Z.auth.getUser();if(!z)return;const{data:L}=await Z.from("children").select("id, first_name, last_name, classroom").eq("user_id",z.id);o(L||[]);const I=[...new Set((L||[]).map(te=>te.classroom).filter(Boolean))];u(I),I.length>0&&!T&&E(I[0]);const{data:K}=await Z.from("announcements").select("*").eq("user_id",z.id).order("pinned",{ascending:!1}).order("created_at",{ascending:!1});n(K||[]),f(!1)};b.useEffect(()=>{q()},[]);const ae=async z=>{var I;if(z.preventDefault(),!_.trim()||!H.trim())return;w(!0),await a_({classroom:j==="child"&&((I=i.find(K=>K.id===A))==null?void 0:I.classroom)||T,child_id:j==="child"?A:null,title:_.trim(),content:H.trim(),priority:$})&&(C(""),V(""),B("normal"),y(!1),await q()),w(!1)},M=async z=>{confirm("Bu duyuruyu silmek istediinize emin misiniz?")&&(await n_(z),await q())},P=async(z,L)=>{await r_(z,!L),await q()},R=[{value:"low",label:"Dk",icon:""},{value:"normal",label:"Normal",icon:""},{value:"high",label:"Yksek",icon:""},{value:"urgent",label:"Acil",icon:""}],ee=z=>{switch(z){case"urgent":return"border-red-300 bg-red-50 dark:bg-red-900/20";case"high":return"border-orange-300 bg-orange-50 dark:bg-orange-900/20";default:return"border-gray-200 bg-white dark:bg-gray-800 dark:border-gray-700"}},F=z=>{if(!z)return null;const L=i.find(I=>I.id===z);return L?`${L.first_name} ${L.last_name}`:null};return m?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ykleniyor..."})]})}):r.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(gc,{className:"w-8 h-8 text-orange-500"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:x("announcements")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:x("announcementsDesc")})]})]}),r.jsxs("button",{onClick:()=>{y(!0),S("class"),C(""),V(""),B("normal")},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[r.jsx(ec,{className:"w-5 h-5"}),x("newAnnouncement")]})]}),p&&r.jsxs("form",{onSubmit:ae,className:"mb-6 p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg space-y-4 border border-gray-100 dark:border-gray-700",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duyuru Tr"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>S("class"),className:`p-4 rounded-xl border-2 transition-all text-left ${j==="class"?"border-orange-500 bg-orange-50 dark:bg-orange-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300"}`,children:[r.jsx("span",{className:"text-2xl mb-2 block",children:""}),r.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:"Snf Duyurusu"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Tm snf velilerine gider"})]}),r.jsxs("button",{type:"button",onClick:()=>S("child"),className:`p-4 rounded-xl border-2 transition-all text-left ${j==="child"?"border-orange-500 bg-orange-50 dark:bg-orange-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300"}`,children:[r.jsx("span",{className:"text-2xl mb-2 block",children:""}),r.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:"ocuk Duyurusu"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Sadece o ocuun velisine gider"})]})]})]}),r.jsx("div",{children:j==="class"?r.jsxs(r.Fragment,{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Snf Sein"}),r.jsx("select",{value:T,onChange:z=>E(z.target.value),className:"w-full px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white",required:!0,children:d.map(z=>r.jsx("option",{value:z,children:z},z))})]}):r.jsxs(r.Fragment,{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"ocuk Sein"}),r.jsxs("select",{value:A,onChange:z=>D(z.target.value),className:"w-full px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white",required:!0,children:[r.jsx("option",{value:"",children:"ocuk sein..."}),i.map(z=>r.jsxs("option",{value:z.id,children:[z.first_name," ",z.last_name," (",z.classroom,")"]},z.id))]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Balk"}),r.jsx("input",{type:"text",value:_,onChange:z=>C(z.target.value),placeholder:"Duyuru bal...",className:"w-full px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-800 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"erik"}),r.jsx("textarea",{value:H,onChange:z=>V(z.target.value),placeholder:"Duyuru ierii...",rows:4,className:"w-full px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-700 text-gray-800 dark:text-white resize-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ncelik"}),r.jsx("div",{className:"flex gap-2",children:R.map(z=>r.jsxs("button",{type:"button",onClick:()=>B(z.value),className:`px-3 py-1.5 rounded-lg border-2 transition-all flex items-center gap-1 text-sm ${$===z.value?"border-orange-500 bg-orange-50 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300"}`,children:[r.jsx("span",{children:z.icon}),r.jsx("span",{children:z.label})]},z.value))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"ptal"}),r.jsx("button",{type:"submit",disabled:v||j==="child"&&!A,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:v?"Yaynlanyor...":"Yaynla"})]})]}),e.length===0?r.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("h3",{className:"text-xl font-bold text-gray-700 dark:text-gray-200 mb-2",children:"Henz duyuru yok"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Yeni duyuru oluturmak iin butona tklayn"})]}):r.jsx("div",{className:"space-y-4",children:e.map(z=>r.jsx("div",{className:`p-5 rounded-2xl border-2 shadow-sm ${ee(z.priority)}`,children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex-grow",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[z.pinned&&r.jsx("span",{className:"text-sm",children:""}),r.jsx("h4",{className:"font-bold text-gray-800 dark:text-white",children:z.title}),z.child_id?r.jsxs("span",{className:"text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-0.5 rounded-full",children:[" ",F(z.child_id)]}):r.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded-full",children:[" ",z.classroom]})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mt-2",children:z.content}),r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(z.created_at).toLocaleDateString("tr-TR",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"})})]}),r.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[r.jsx("button",{onClick:()=>P(z.id,z.pinned),className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",title:z.pinned?"Sabitlemeyi kaldr":"Sabitle",children:z.pinned?"":""}),r.jsx("button",{onClick:()=>M(z.id),className:"p-2 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg",title:"Sil",children:""})]})]})},z.id))})]})},f6=({navigate:a})=>{const[e,n]=b.useState([]),[i,o]=b.useState(!0),[d,u]=b.useState(null),[m,f]=b.useState([]),[p,y]=b.useState(""),[v,w]=b.useState(!1),[j,S]=b.useState(""),[T,E]=b.useState(!1),[A,D]=b.useState({enabled:!1,manual_override:null,days:[1,2,3,4,5],start_time:"09:00",end_time:"17:00"}),[_,C]=b.useState(!1),H=[{day:0,label:x("sunday")},{day:1,label:x("monday")},{day:2,label:x("tuesday")},{day:3,label:x("wednesday")},{day:4,label:x("thursday")},{day:5,label:x("friday")},{day:6,label:x("saturday")}],V=async()=>{const{data:{user:F}}=await Z.auth.getUser();if(F){const z=await ym(F.id);D(z)}},$=async()=>{C(!0),await WN(A),C(!1),E(!1)},B=async F=>{await XN(F),D(z=>({...z,manual_override:F}))},q=F=>{D(z=>({...z,days:z.days.includes(F)?z.days.filter(L=>L!==F):[...z.days,F].sort()}))},ae=async()=>{o(!0);const{data:{user:F}}=await Z.auth.getUser();if(!F)return;S(F.id);const{data:z,error:L}=await Z.from("messages").select(`
        *,
        children:child_id (first_name, last_name)
      `).or(`sender_id.eq.${F.id},receiver_id.eq.${F.id}`).order("created_at",{ascending:!1});if(L){console.error("Error loading messages:",L),o(!1);return}const I=new Map;for(const te of z||[]){const O=te.sender_id===F.id?te.receiver_id:te.sender_id,J=`${O}-${te.child_id}`;if(!I.has(J))I.set(J,{other_user_id:O,other_user_name:"",child_id:te.child_id,child_name:te.children?`${te.children.first_name} ${te.children.last_name}`:"Bilinmeyen",last_message:te.content,last_message_at:te.created_at,unread_count:te.receiver_id===F.id&&!te.read?1:0});else{const ce=I.get(J);te.receiver_id===F.id&&!te.read&&ce.unread_count++}}const K=[...new Set([...I.values()].map(te=>te.other_user_id))];if(K.length>0){const{data:te}=await Z.from("family_child_links").select("family_user_id").in("family_user_id",K);for(const[O,J]of I)J.other_user_name="Veli"}n([...I.values()].sort((te,O)=>new Date(O.last_message_at).getTime()-new Date(te.last_message_at).getTime())),o(!1)},M=async F=>{const{data:{user:z}}=await Z.auth.getUser();if(!z)return;const{data:L,error:I}=await Z.from("messages").select("*").eq("child_id",F.child_id).or(`and(sender_id.eq.${z.id},receiver_id.eq.${F.other_user_id}),and(sender_id.eq.${F.other_user_id},receiver_id.eq.${z.id})`).order("created_at",{ascending:!0});if(!I){f(L||[]);const K=(L||[]).filter(te=>te.receiver_id===z.id&&!te.read).map(te=>te.id);if(K.length>0){console.log("Marking messages as read:",K);const{error:te}=await Z.from("messages").update({read:!0}).in("id",K);console.log("Update result:",te?"ERROR: "+te.message:"SUCCESS"),te&&console.error("Failed to mark messages as read:",te),u(J=>J?{...J,unread_count:0}:null);const{data:{user:O}}=await Z.auth.getUser();if(O){const{data:J}=await Z.from("messages").select("*, children:child_id (first_name, last_name)").or(`sender_id.eq.${O.id},receiver_id.eq.${O.id}`).order("created_at",{ascending:!1}),ce=new Map;for(const de of J||[]){const pe=de.sender_id===O.id?de.receiver_id:de.sender_id,ke=`${pe}-${de.child_id}`;if(!ce.has(ke))ce.set(ke,{other_user_id:pe,other_user_name:"Veli",child_id:de.child_id,child_name:de.children?`${de.children.first_name} ${de.children.last_name}`:"Bilinmeyen",last_message:de.content,last_message_at:de.created_at,unread_count:de.receiver_id===O.id&&!de.read?1:0});else{const ie=ce.get(ke);de.receiver_id===O.id&&!de.read&&ie.unread_count++}}console.log("Reloaded conversations:",ce.size),n([...ce.values()].sort((de,pe)=>new Date(pe.last_message_at).getTime()-new Date(de.last_message_at).getTime()))}}}},P=async()=>{if(!p.trim()||!d)return;w(!0);const{data:{user:F}}=await Z.auth.getUser();if(!F)return;const{error:z}=await Z.from("messages").insert({sender_id:F.id,receiver_id:d.other_user_id,child_id:d.child_id,content:p.trim(),conversation_id:null});z||(y(""),await M(d)),w(!1)};b.useEffect(()=>{ae(),V()},[]),b.useEffect(()=>{d&&M(d)},[d]);const R=F=>{const z=new Date(F),I=new Date().getTime()-z.getTime(),K=Math.floor(I/(1e3*60*60*24));return K===0?z.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}):K===1?"Dn":K<7?z.toLocaleDateString("tr-TR",{weekday:"short"}):z.toLocaleDateString("tr-TR",{day:"numeric",month:"short"})},ee=F=>{const z=new Date(F),L=new Date,I=z.toDateString()===L.toDateString(),K=new Date(L);K.setDate(K.getDate()-1);const te=z.toDateString()===K.toDateString(),O=z.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"});return I?`Bugn ${O}`:te?`Dn ${O}`:`${z.toLocaleDateString("tr-TR",{day:"numeric",month:"short"})} ${O}`};return i?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),r.jsx("p",{className:"text-gray-500",children:"Ykleniyor..."})]})}):d?r.jsxs("div",{className:"flex flex-col h-[calc(100vh-200px)] max-w-3xl mx-auto",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-t-2xl border-b border-gray-200 dark:border-gray-700 p-4 flex items-center gap-3",children:[r.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:""}),r.jsx("div",{className:"w-10 h-10 bg-teal-100 dark:bg-teal-900/30 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-teal-700 dark:text-teal-300 font-bold",children:"V"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white",children:[d.child_name,"'in Velisi"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["ocuk: ",d.child_name]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900 space-y-3",children:m.length===0?r.jsx("div",{className:"text-center text-gray-500 py-8",children:"Henz mesaj yok"}):m.map(F=>r.jsx("div",{className:`flex ${F.sender_id===j?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 ${F.sender_id===j?"bg-teal-600 text-white rounded-br-sm":"bg-white dark:bg-gray-800 text-gray-800 dark:text-white rounded-bl-sm shadow-sm"}`,children:[r.jsx("p",{className:"text-sm",children:F.content}),r.jsx("p",{className:`text-xs mt-1 ${F.sender_id===j?"text-teal-100":"text-gray-400"}`,children:ee(F.created_at)})]})},F.id))}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-b-2xl border-t border-gray-200 dark:border-gray-700 p-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:p,onChange:F=>y(F.target.value),onKeyPress:F=>F.key==="Enter"&&P(),placeholder:"Mesajnz yazn...",className:"flex-1 px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-teal-500"}),r.jsx("button",{onClick:P,disabled:v||!p.trim(),className:"px-4 py-2 bg-teal-600 text-white rounded-xl hover:bg-teal-700 disabled:opacity-50 transition-colors",children:v?"...":""})]})})]}):r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Qi,{className:"w-8 h-8 text-teal-600 dark:text-teal-400"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:x("messages")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:x("messagesDesc")})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[A.enabled&&r.jsx("div",{className:"flex items-center gap-1 mr-2",children:A.manual_override===!0?r.jsxs("button",{onClick:()=>B(null),className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-full text-sm font-medium",children:[" ",x("acceptingMessages")]}):A.manual_override===!1?r.jsxs("button",{onClick:()=>B(null),className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-full text-sm font-medium",children:[" ",x("notAcceptingMessages")]}):r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>B(!0),className:`px-2 py-1 text-xs rounded-l-full ${Xi(A)?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:""}),r.jsx("button",{onClick:()=>B(!1),className:`px-2 py-1 text-xs rounded-r-full ${Xi(A)?"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300":"bg-red-500 text-white"}`,children:""})]})}),r.jsx("button",{onClick:()=>E(!0),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:x("messagingHours"),children:r.jsx(Ji,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]})]}),T&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-white",children:[" ",x("messagingHours")]}),r.jsx("button",{onClick:()=>E(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:r.jsx(Rr,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-500",children:x("messagingHoursDesc")}),r.jsxs("label",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:x("enableMessagingHours")}),r.jsx("button",{onClick:()=>D(F=>({...F,enabled:!F.enabled})),className:`relative w-12 h-6 rounded-full transition-colors ${A.enabled?"bg-teal-500":"bg-gray-300 dark:bg-gray-600"}`,children:r.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform ${A.enabled?"translate-x-6":""}`})})]}),A.enabled&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x("availableDays")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(({day:F,label:z})=>r.jsx("button",{onClick:()=>q(F),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${A.days.includes(F)?"bg-teal-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:z.slice(0,3)},F))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x("availableHours")}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-xs text-gray-500",children:x("startTime")}),r.jsx("input",{type:"time",value:A.start_time,onChange:F=>D(z=>({...z,start_time:F.target.value})),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white"})]}),r.jsx("span",{className:"text-gray-400 mt-4",children:""}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-xs text-gray-500",children:x("endTime")}),r.jsx("input",{type:"time",value:A.end_time,onChange:F=>D(z=>({...z,end_time:F.target.value})),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white"})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:x("cancel")}),r.jsx("button",{onClick:$,disabled:_,className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 disabled:opacity-50",children:_?"...":x("save")})]})]})}),e.length===0?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 text-center shadow-lg",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("h3",{className:"text-xl font-bold text-gray-700 dark:text-gray-200 mb-2",children:"Henz mesaj yok"}),r.jsx("p",{className:"text-gray-500",children:"Velilerden gelen mesajlar burada grnecek"})]}):r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden",children:e.map((F,z)=>r.jsxs("button",{onClick:()=>u(F),className:`w-full flex items-center gap-3 p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left ${z!==0?"border-t border-gray-100 dark:border-gray-700":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-teal-700 dark:text-teal-300 font-bold text-lg",children:"V"})}),F.unread_count>0&&r.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:F.unread_count})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("h3",{className:`font-semibold truncate ${F.unread_count>0?"text-gray-900 dark:text-white":"text-gray-700 dark:text-gray-300"}`,children:[F.child_name,"'in Velisi"]}),r.jsx("span",{className:`text-xs ${F.unread_count>0?"text-teal-600 font-semibold":"text-gray-400"}`,children:R(F.last_message_at)})]}),r.jsx("p",{className:`text-sm truncate ${F.unread_count>0?"text-gray-800 dark:text-gray-200 font-medium":"text-gray-500"}`,children:F.last_message})]})]},`${F.other_user_id}-${F.child_id}`))})]})},g6=3,Hw=async()=>{var d;if(!zr())return console.log("nternet balants yok, senkronizasyon iptal edildi"),{success:0,failed:0};const a=await Z.auth.getSession(),e=(d=a==null?void 0:a.data.session)==null?void 0:d.user.id;if(!e)return console.error("Kullanc giri yapmam, senkronize edilemiyor."),{success:0,failed:0};const n=cl();if(n.length===0)return{success:0,failed:0};let i=0,o=0;for(const u of n)try{await p6(u,e),By(u.id),i++}catch(m){console.error("Queue item senkronize edilemedi:",u,m),fS(u.id),u.retryCount>=g6&&(console.warn("Max retry count ald, item siliniyor:",u),By(u.id)),o++}return i>0&&st(),{success:i,failed:o}},p6=async(a,e)=>{const{type:n,action:i,data:o}=a;switch(n){case"observation":await y6(i,o,e);break;case"attendance":await x6(i,o,e);break;case"goal":await b6(i,o,e);break;case"child_update":await v6(i,o);break;case"goal_update":await w6(i,o);break;default:throw new Error(`Bilinmeyen queue type: ${n}`)}},y6=async(a,e,n)=>{if(a==="create"){const{id:i,created_at:o,dirty:d,media_files:u,...m}=e;await Z.from("observations").insert({...m,user_id:n})}else if(a==="update"){const{id:i,...o}=e;await Z.from("observations").update(o).eq("id",i)}else a==="delete"&&await Z.from("observations").delete().eq("id",e.id)},x6=async(a,e,n)=>{if(a==="create")await Z.from("attendance").insert({...e,user_id:n});else if(a==="update"){const{id:i,...o}=e;await Z.from("attendance").update(o).eq("id",i)}else a==="delete"&&await Z.from("attendance").delete().eq("id",e.id)},b6=async(a,e,n)=>{if(a==="create")await Z.from("goals").insert({...e,user_id:n});else if(a==="update"){const{id:i,...o}=e;await Z.from("goals").update(o).eq("id",i)}else a==="delete"&&await Z.from("goals").delete().eq("id",e.id)},v6=async(a,e,n)=>{if(a==="update"){const{id:i,...o}=e;await Z.from("children").update(o).eq("id",i)}},w6=async(a,e,n)=>{if(a==="update"){const{id:i,...o}=e;await Z.from("goals").update(o).eq("id",i)}},k6=()=>{window.addEventListener("online",qw),zr()&&setTimeout(()=>Hw(),2e3)},j6=()=>{window.removeEventListener("online",qw)},qw=async()=>{console.log("nternet balants geri geldi, senkronizasyon balatlyor...");const a=await Hw();a.success>0&&alert(` ${a.success} kayt baaryla senkronize edildi!`),a.failed>0&&console.warn(` ${a.failed} kayt senkronize edilemedi`)},rm=b.createContext({session:null,user:null,userRole:null}),ia=()=>b.useContext(rm),S6=()=>{var E;const[a,e]=b.useState(null),[n,i]=b.useState(null),[o,d]=b.useState({page:"",params:{}}),[u,m]=b.useState(navigator.onLine),[f,p]=b.useState(!1),[y,v]=b.useState(!1),w=(A,D={})=>{const _={};D!=null&&D.id&&(_.id=D.id),D!=null&&D.childId&&(_.childId=D.childId),D!=null&&D.screen&&(_.screen=D.screen),(D==null?void 0:D.classroom)!==void 0&&(_.classroom=D.classroom),D!=null&&D.forChatChildId&&(_.forChatChildId=D.forChatChildId);const C=new URLSearchParams(_).toString();return`#/${A}${C?`?${C}`:""}`},j=()=>{const A=window.location.hash||"";if(!A.startsWith("#/"))return{page:"",params:{}};const[D,_]=A.substring(2).split("?"),C={};return _&&new URLSearchParams(_).forEach((V,$)=>C[$]=V),{page:D||"",params:C}};b.useEffect(()=>{const A=window.location.hash;(A.includes("type=recovery")||A.includes("type=password_recovery"))&&(console.log("Password recovery detected in URL"),v(!0)),Z.auth.getSession().then(({data:{session:V}})=>{var $;if(e(V),V!=null&&V.user){const B=($=V.user.user_metadata)==null?void 0:$.role;i(B==="family"?"family":"teacher")}});const{data:{subscription:D}}=Z.auth.onAuthStateChange((V,$)=>{var B;if(e($),V==="PASSWORD_RECOVERY"){v(!0),window.history.replaceState(null,"",window.location.pathname+"#/reset-password"),d({page:"reset-password",params:{}});return}if((V==="SIGNED_IN"&&window.location.hash.includes("type=signup")||V==="USER_UPDATED"||window.location.hash.includes("type=email_confirm"))&&(window.location.hash.includes("access_token")||window.location.hash.includes("type="))&&(p(!0),window.history.replaceState(null,"",window.location.pathname+"#/login")),$!=null&&$.user){const q=(B=$.user.user_metadata)==null?void 0:B.role;i(q==="family"?"family":"teacher")}else i(null)}),_=()=>m(!0),C=()=>m(!1),H=()=>{const V=j();d(V)};return window.addEventListener("online",_),window.addEventListener("offline",C),window.addEventListener("hashchange",H),H(),k6(),()=>{D.unsubscribe(),window.removeEventListener("online",_),window.removeEventListener("offline",C),window.removeEventListener("hashchange",H),j6()}},[]),b.useEffect(()=>{u&&(console.log(x("syncAttempt")),TS())},[u]),b.useEffect(()=>{navigator.onLine||setTimeout(()=>alert(x("noInternetConnection")),500)},[]);const S=b.useCallback((A,D={})=>{try{D&&D.observation&&sessionStorage.setItem("edit-observation",JSON.stringify(D.observation))}catch{}const _=w(A,D);window.location.hash!==_&&(window.location.hash=_),d({page:A,params:D}),window.scrollTo(0,0)},[]),T=()=>{var A,D;switch(o.page){case"dashboard":return r.jsx(Xu,{navigate:S});case"getting-started":return r.jsx(k3,{navigate:S});case"children":return r.jsx(N3,{navigate:S});case"classes":return r.jsx(_3,{navigate:S});case"class-detail":return r.jsx(E3,{classroom:o.params.classroom,navigate:S});case"child-detail":return r.jsx(F3,{childId:o.params.id,navigate:S});case"add-observation":return r.jsx(Zy,{childId:o.params.childId,navigate:S});case"edit-observation":{let _=(A=o.params)==null?void 0:A.observation;if(!_)try{const H=sessionStorage.getItem("edit-observation");H&&(_=JSON.parse(H))}catch{}const C=((D=o.params)==null?void 0:D.childId)??(_==null?void 0:_.child_id);return C?r.jsx(Zy,{childId:C,navigate:S,observationToEdit:_}):r.jsx(Xu,{navigate:S})}case"media":return r.jsx(Z3,{childId:o.params.childId,navigate:S});case"child-observations":return r.jsx(X3,{childId:o.params.childId,navigate:S});case"teacher-chat":return r.jsx(Q3,{navigate:S,childId:o.params.forChatChildId,classroom:o.params.classroom});case"attendance":return r.jsx(J3,{navigate:S});case"announcements":return r.jsx(m6,{navigate:S});case"inbox":return r.jsx(f6,{navigate:S});case"settings":return r.jsx(Y3,{});default:return r.jsx(Xu,{navigate:S})}};return y?r.jsx(ta,{children:r.jsx(fb,{onSuccess:()=>{v(!1),S("dashboard")},onBack:()=>{v(!1),S("login")}})}):a?n==="family"?r.jsx(rm.Provider,{value:{session:a,user:(a==null?void 0:a.user)??null,userRole:n},children:r.jsx(ta,{children:r.jsx(h6,{})})}):r.jsx(rm.Provider,{value:{session:a,user:(a==null?void 0:a.user)??null,userRole:n},children:r.jsx(ta,{children:r.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:r.jsx(w3,{navigate:S,currentPage:o.page||"dashboard",children:T()})})})}):o.page==="login"?r.jsx(ta,{children:r.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:r.jsx(Ry,{initialMode:((E=o.params)==null?void 0:E.mode)==="signup"?"signup":"login",emailConfirmed:f,onEmailConfirmedDismiss:()=>p(!1)})})}):o.page==="reset-password"||y?r.jsx(ta,{children:r.jsx(fb,{onSuccess:()=>{v(!1),S("dashboard")},onBack:()=>{v(!1),S("login")}})}):o.page==="about"?r.jsx(ta,{children:r.jsx(e6,{onBack:()=>S("landing")})}):o.page==="contact"?r.jsx(ta,{children:r.jsx(t6,{onBack:()=>S("landing")})}):o.page==="privacy"?r.jsx(ta,{children:r.jsx(a6,{onBack:()=>S("landing")})}):o.page==="features"?r.jsx(ta,{children:r.jsx(s6,{onBack:()=>S("landing"),onSignup:()=>S("login",{mode:"signup"})})}):o.page==="pricing"?r.jsx(ta,{children:r.jsx(n6,{onBack:()=>S("landing"),onSignup:()=>S("login",{mode:"signup"})})}):o.page==="faq"?r.jsx(ta,{children:r.jsx(r6,{onBack:()=>S("landing")})}):Fo.isNativePlatform()?r.jsx(ta,{children:r.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:r.jsx(Ry,{initialMode:"login"})})}):r.jsx(ta,{children:r.jsx(JE,{navigate:S,onLoginClick:()=>S("login"),onSignupClick:()=>S("login",{mode:"signup"})})})},Iw=document.getElementById("root");if(!Iw)throw new Error("Kk eleman bulunamad.");const N6=y2.createRoot(Iw);N6.render(r.jsx(pb.StrictMode,{children:r.jsx(S6,{})}));export{Fo as C,lm as W,Ar as _,N2 as b,_6 as c,gb as g,im as r};
